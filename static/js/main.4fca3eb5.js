!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=44)}([function(t,e,n){"use strict";t.exports=n(51)},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";e.a={greeting:{title:"Ol\xe1, seja bem-vindo!",paragraphs:["Descubra como anda a fila na sua regi\xe3o.","Teste mais de um endere\xe7o (casa, trabalho).","Escolha a melhor op\xe7\xe3o."]},check_if_registered:{title:"A crianc\u0327a ja\u0301 esta\u0301 cadastrada na fila de espera das creches?"},is_registered:{title:"Se a crian\xe7a j\xe1 est\xe1 cadastrada na espera, voc\xea pode:"},date_of_birth:{title:"Qual o me\u0302s e ano de nascimento da crianc\u0327a?",paragraphs:["Assim posso encontrar o grupo certo para ela na creche."],not_in_preschool_age:"A crian\xe7a n\xe3o est\xe1 em idade de creche. Tente para outra idade.",error_calculating_age:"Houve um erro ao calcular a idade da crian\xe7a. Por favor tente de novo."},date_of_birth_message:function(t,e){return"A crian\xe7a nasceu em "+t+" de "+e},is_in_group_message:function(t){return"Pela idade, ela deveria estar no grupo "+t+" da creche."},address_input:{title:"Qual o enderec\u0327o da sua casa ou trabalho?",paragraphs:["Vou procurar creches que fiquem at\xe9 2 quil\xf4metros de dist\xe2ncia do seu endere\xe7o."]},results:{total_wait_message:function(t,e,n,r){return"H\xe1 "+t+" crian\xe7as na fila do "+e+" a serem distribu\xeddas nas "+n+" creches perto de "+r+"."},see_list_below:"Veja abaixo a lista das creches num raio de 2 quil\xf4metros. Estamos trabalhando para obter o n\xfamero preciso da fila por creche e iremos atualizar esse dado em breve.",data_updated_at:function(t){return"* Dados atualizados em "+new Date(t).toLocaleDateString("pt-BR",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})}},school_list_explanation:{paragraphs:["Ao cadastrar a crian\xe7a na fila, ela vai ficar na espera de todas as creches da lista acima, e vai ser chamada na que liberar vagas primeiro.","Ao abrirmos uma nova creche na regi\xe3o, a crian\xe7a tamb\xe9m ser\xe1 inclu\xedda automaticamente na espera.","Assim, ela espera o m\xednimo tempo poss\xedvel pela vaga."]},registration_greeting:{title:"Vou te explicar como fazer o cadastro na fila de espera"},registration_documents:{title:"Voc\xea vai precisar destes documentos:",paragraphs:["\u2013 Comprovante de resid\xeancia com CEP (pode ser uma conta de \xe1gua, luz, telefone ou g\xe1s)","\u2013 Documento com foto seu e da crian\xe7a (RG, CNH ou RNE)"]},registration_steps:{title:"Depois, v\xe1 a qualquer creche da Prefeitura e procure um funcion\xe1rio para fazer o cadastro.",paragraphs:["A crian\xe7a ser\xe1 cadastrada na espera de todas creches que ficam at\xe9 2 quil\xf4metros de dist\xe2ncia do seu endere\xe7o.","Ao abrirmos uma nova creche na regi\xe3o, a crian\xe7a tamb\xe9m ser\xe1 inclu\xedda automaticamente na espera.","Assim que sua vaga for liberada, vamos entrar em contato com voc\xea por telefone."]},registration_list:{title:"Veja as creches pr\xf3ximas ao seu endere\xe7o onde voc\xea pode fazer o cadastro",paragraphs:["A lista abaixo mostra as unidades mais pr\xf3ximas do seu endere\xe7o."]},actions:{continue:"Continuar",click_continue:"Clique para continuar",yes:"Sim",no:"N\xe3o",can_do:"O que posso fazer agora?",register:"Cadastrar na fila",how_to_register:"Veja como se cadastrar na fila de espera",compare_address:"Comparar com outro endere\xe7o",see_wait_near:"Veja a espera nas creches perto de outro endere\xe7o",back_to_start:"Voltar para o come\xe7o",search_other_registration:"Procurar outros locais para cadastro",see_schools_near:"Veja creches e escolas perto de outro endere\xe7o",input_address:"Digite o endere\xe7o",search:"Buscar",see_more:"Ver mais creches",loading_results:"Carregando resultados...",check_registration_status:"Acompanhar sua posi\xe7\xe3o na fila",current_position_explanation:"A posi\xe7\xe3o atual da crian\xe7a na fila pode ser vista em outro sistema da Secretaria de Educa\xe7\xe3o",check_wait_today:"Ver como est\xe1 a espera para quem entra na fila hoje",you_can_check_other_address:"Voc\xea pode ver a espera tamb\xe9m em outros endere\xe7os",start_now:"Comece agora",see_on_map:"Ver no mapa",call:"Ligar",back:"Voltar"},messages:{month_of_birth:"M\xeas de nascimento",year_of_birth:"Ano de nascimento",phone:"Telefone",meters:"metros",daycare:"Creche"},routes:{privacy:"/privacidade",check_if_registered:"/esta-cadastrada",is_registered:"/ja-esta-cadastrada",check_registration_status:"http://eolgerenciamento.prefeitura.sp.gov.br/frmgerencial/ConsultaPosicaoIndividual.aspx?Cod=92428",date_of_birth:"/data-nascimento",preschool_group:"/grupo-creche",address:"/endereco",results:"/resultados",register:"/cadastrar"},site:{tag_line:"Fila da Creche - O melhor caminho para sua vaga"}}},function(t,e,n){t.exports=n(65)()},function(t,e,n){"use strict";e.a={city_center:{lat:-23.550406,lon:-46.633994},city_bbox_w:-46.82625158715528,city_bbox_s:-24.008125453472775,city_bbox_e:-46.36509960037939,city_bbox_n:-23.35658522775503,city_state:"S\xe3o Paulo, SP",buffer_distance:2.2,distance_units:"kilometers",current_year:(new Date).getFullYear(),max_preschool_age:4,get age_ranges(){var t=this.current_year;return[{cd_ciclo_ensino:"1",cd_faixa:"1",dc_serie_ensino:"Ber\xe7\xe1rio I",serie:"1",mes_min:"0",mes_max:"13",birth_start:Date.parse("4/1/"+(t-1)),birth_end:Date.parse("12/31/"+t)},{cd_ciclo_ensino:"1",cd_faixa:"2",dc_serie_ensino:"Ber\xe7\xe1rio II",serie:"4",mes_min:"13",mes_max:"22",birth_start:Date.parse("4/1/"+(t-2)),birth_end:Date.parse("3/31/"+(t-1))},{cd_ciclo_ensino:"1",cd_faixa:"3",dc_serie_ensino:"Mini Grupo I",serie:"27",mes_min:"22",mes_max:"34",birth_start:Date.parse("4/1/"+(t-3)),birth_end:Date.parse("3/31/"+(t-2))},{cd_ciclo_ensino:"1",cd_faixa:"4",dc_serie_ensino:"Mini Grupo II",serie:"28",mes_min:"34",mes_max:"46",birth_start:Date.parse("4/1/"+(t-4)),birth_end:Date.parse("3/31/"+(t-3))}]},months_list:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],ga_tracking_id:"UA-116911860-1",url_patio:"http://patiodigital.prefeitura.sp.gov.br",url_unesco:"http://www.unesco.org/new/pt/brasilia",url_sme:"http://www.capital.sp.gov.br/cidadao/educacao"}},function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;u=new Error(e.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},function(t,e,n){"use strict";var r=n(64);n.d(e,"a",function(){return r.a});var o=n(69);n.d(e,"b",function(){return o.a});var i=n(31);n.d(e,"c",function(){return i.a});var a=(n(71),n(74),n(77),n(79),n(32));n.d(e,"d",function(){return a.a});var s=(n(22),n(85),n(87),n(89),n(90));n.d(e,"e",function(){return s.a})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return d});var a=n(0),s=n.n(a),u=n(13),c=n(16),l=n.n(c),f=n(97),p=n.n(f),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();u.default.library.add(p.a);var d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),h(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"default-button vertical-align",onClick:this.props.onClick},s.a.createElement("div",{className:"col-xs-10 no-pad"},s.a.createElement("h4",null,this.props.title),s.a.createElement("p",null,this.props.subtitle)),s.a.createElement("div",{className:"col-xs-2 no-pad"},s.a.createElement("span",{className:"pull-right"},s.a.createElement(l.a,{icon:"chevron-right",size:"lg",className:"icons icons-lg"}))))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return m});var a=n(0),s=n.n(a),u=n(3),c=n.n(u),l=n(2),f=n(13),p=n(16),h=n.n(p),d=n(108),g=n.n(d),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();f.default.library.add(g.a);var m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),y(e,[{key:"render",value:function(){return s.a.createElement("button",{className:"form-control",onClick:this.context.router.history.goBack},s.a.createElement("span",{className:""},s.a.createElement(h.a,{icon:"chevron-left",size:"lg",className:"icons"})),"\xa0",l.a.actions.back)}}]),e}(s.a.Component);m.contextTypes={router:c.a.object}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return c});var a=n(0),s=n.n(a),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"render",value:function(){var t=void 0;return this.props.paragraphs&&(t=this.props.paragraphs.map(function(t,e){return s.a.createElement("p",{key:"p_"+e},t)})),s.a.createElement("div",{className:"banner"},s.a.createElement("h1",null,this.props.title),s.a.createElement("div",null,t))}}]),e}(s.a.Component)},function(t,e,n){"use strict";e.__esModule=!0;var r=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return r(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c});var r=function(t){return"/"===t.charAt(0)?t:"/"+t},o=function(t){return"/"===t.charAt(0)?t.substr(1):t},i=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},a=function(t,e){return i(t,e)?t.substr(e.length):t},s=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},u=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},c=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return f});var a=n(0),s=n.n(a),u=n(6),c=n(7),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(){var t,n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),i.handleClick=function(){},a=n,o(i,a)}return i(e,t),l(e,[{key:"render",value:function(){return s.a.createElement(u.c,{to:{pathname:this.props.link,state:this.props.state}},s.a.createElement(c.a,{title:this.props.title,subtitle:this.props.subtitle,onClick:this.handleClick}))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.asNewDefault,r=void 0!==n&&n,o=Object.keys(It),i=r?function(t){return~o.indexOf(t)&&!~Et.indexOf(t)}:function(t){return~o.indexOf(t)};Object.keys(t).forEach(function(e){i(e)&&(It[e]=t[e])})}function o(t){r({autoReplaceSvg:t,observeMutations:t})}function i(t){return~mt.indexOf(t)}function a(t){if(t&&st){var e=rt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=rt.head.childNodes,r=null,o=n.length-1;o>-1;o--){var i=n[o];["STYLE","LINK"].indexOf((i.tagName||"").toUpperCase())>-1&&(r=i)}return rt.head.insertBefore(e,r),t}}function s(){return++At}function u(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function c(t){return t.classList?u(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(t){return t})}function l(t,e){var n=e.split("-"),r=n[0],o=n.slice(1).join("-");return r!==t||""===o||i(o)?null:o}function f(t){return(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(t){return Object.keys(t||{}).reduce(function(e,n){return e+(n+'="')+f(t[n])+'" '},"").trim()}function h(t){return Object.keys(t||{}).reduce(function(e,n){return e+(n+": ")+t[n]+";"},"")}function d(t){return t.size!==Rt.size||t.x!==Rt.x||t.y!==Rt.y||t.rotate!==Rt.rotate||t.flipX||t.flipY}function g(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth;return{outer:{transform:"translate("+n/2+" 256)"},inner:{transform:"translate("+32*e.x+", "+32*e.y+")  scale("+e.size/16*(e.flipX?-1:1)+", "+e.size/16*(e.flipY?-1:1)+")  rotate("+e.rotate+" 0 0)"},path:{transform:"translate("+r/2*-1+" -256)"}}}function y(t){var e=t.transform,n=t.width,r=void 0===n?ct:n,o=t.height,i=void 0===o?ct:o,a=t.startCentered,s=void 0!==a&&a,u="";return u+=s&&ut?"translate("+(e.x/Tt-r/2)+"em, "+(e.y/Tt-i/2)+"em) ":s?"translate(calc(-50% + "+e.x/Tt+"em), calc(-50% + "+e.y/Tt+"em)) ":"translate("+e.x/Tt+"em, "+e.y/Tt+"em) ",u+="scale("+e.size/Tt*(e.flipX?-1:1)+", "+e.size/Tt*(e.flipY?-1:1)+") ",u+="rotate("+e.rotate+"deg) "}function m(t){var e=t.icons,n=e.main,r=e.mask,o=t.prefix,i=t.iconName,a=t.transform,u=t.symbol,c=t.title,l=t.extra,f=t.watchable,p=void 0!==f&&f,h=r.found?r:n,d=h.width,g=h.height,y="fa-w-"+Math.ceil(d/g*16),m=[It.replacementClass,i?It.familyPrefix+"-"+i:"",y].concat(l.classes).join(" "),v={children:[],attributes:bt({},l.attributes,{"data-prefix":o,"data-icon":i,class:m,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+d+" "+g})};p&&(v.attributes[lt]=""),c&&v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-"+s()},children:[c]});var _=bt({},v,{prefix:o,iconName:i,main:n,mask:r,transform:a,symbol:u,styles:l.styles}),b=r.found&&n.found?Dt(_):Ft(_),w=b.children,x=b.attributes;return _.children=w,_.attributes=x,u?Bt(_):jt(_)}function v(t){var e=t.content,n=t.width,r=t.height,o=t.transform,i=t.title,a=t.extra,s=t.watchable,u=void 0!==s&&s,c=bt({},a.attributes,i?{title:i}:{},{class:a.classes.join(" ")});u&&(c[lt]="");var l=bt({},a.styles);d(o)&&(l.transform=y({transform:o,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=h(l);f.length>0&&(c.style=f);var p=[];return p.push({tag:"span",attributes:c,children:[e]}),i&&p.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),p}function _(t,e){return Kt[t][e]}function b(t,e){return Jt[t][e]}function w(t){return Qt[t]||{prefix:null,iconName:null}}function x(t){return t.reduce(function(t,e){var n=l(It.familyPrefix,e);if($t[e])t.prefix=e;else if(n){var r="fa"===t.prefix?w(n):{};t.iconName=r.iconName||n,t.prefix=r.prefix||t.prefix}else e!==It.replacementClass&&0!==e.indexOf("fa-w-")&&t.rest.push(e);return t},te())}function E(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function C(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,o=t.children,i=void 0===o?[]:o;return"string"===typeof t?f(t):"<"+e+" "+p(r)+">"+i.map(C).join("")+"</"+e+">"}function I(t){return"string"===typeof(t.getAttribute?t.getAttribute(lt):null)}function N(){return!0===It.autoReplaceSvg?ne.replace:ne[It.autoReplaceSvg]||ne.replace}function S(t,e){var n="function"===typeof e?e:ee;if(0===t.length)n();else{(nt.requestAnimationFrame||function(t){return t()})(function(){var e=N(),r=Vt.begin("mutate");t.map(e),r(),n()})}}function P(t){re=!0,t(),re=!1}function O(t){if(ot){var e=t.treeCallback,n=t.nodeCallback,r=t.pseudoElementsCallback;oe=new ot(function(t){re||u(t).forEach(function(t){if("childList"===t.type&&t.addedNodes.length>0&&!I(t.addedNodes[0])&&(It.searchPseudoElements&&r(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&It.searchPseudoElements&&r(t.target.parentNode),"attributes"===t.type&&I(t.target)&&~yt.indexOf(t.attributeName))if("class"===t.attributeName){var o=x(c(t.target)),i=o.prefix,a=o.iconName;i&&t.target.setAttribute("data-prefix",i),a&&t.target.setAttribute("data-icon",a)}else n(t.target)})}),st&&oe.observe(rt.getElementsByTagName("body")[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function M(){oe&&oe.disconnect()}function L(t){for(var e="",n=0;n<t.length;n++){e+=("000"+t.charCodeAt(n).toString(16)).slice(-4)}return e}function T(t){var e=ae(t),n=e.iconName,r=e.prefix,o=e.rest,i=ie(t),a=ue(t),s=ce(t),u=le(t),c=fe(t);return{iconName:n,title:t.getAttribute("title"),prefix:r,transform:a,symbol:s,mask:c,extra:{classes:o,styles:i,attributes:u}}}function R(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}function A(t,e){var n={found:!1,width:512,height:512,icon:_e};if(t&&e&&be[e]&&be[e][t]){var r=be[e][t];n={found:!0,width:r[0],height:r[1],icon:{tag:"path",attributes:{fill:"currentColor",d:r.slice(4)[0]}}}}else if(t&&e&&!It.showMissingIcons)throw new R("Icon is missing for prefix "+e+" with icon name "+t);return n}function k(t,e){var n=e.iconName,r=e.title,o=e.prefix,i=e.transform,a=e.symbol,s=e.mask,u=e.extra;return[t,m({icons:{main:A(n,o),mask:A(s.iconName,s.prefix)},prefix:o,iconName:n,transform:i,symbol:a,mask:s,title:r,extra:u,watchable:!0})]}function D(t,e){var n=e.title,r=e.transform,o=e.extra,i=null,a=null;if(ut){var s=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();i=u.width/s,a=u.height/s}return It.autoA11y&&!n&&(o.attributes["aria-hidden"]="true"),[t,v({content:t.innerHTML,width:i,height:a,transform:r,title:n,extra:o,watchable:!0})]}function F(t){var e=T(t);return~e.extra.classes.indexOf(we)?D(t,e):k(t,e)}function j(t){"function"===typeof t.remove?t.remove():t&&t.parentNode&&t.parentNode.removeChild(t)}function B(t){if(st){var e=Vt.begin("searchPseudoElements");P(function(){u(t.querySelectorAll("*")).forEach(function(t){[":before",":after"].forEach(function(e){var n=nt.getComputedStyle(t,e),r=n.getPropertyValue("font-family").match(xe),o=u(t.children),i=o.filter(function(t){return t.getAttribute(ft)===e})[0];if(i&&(i.nextSibling&&i.nextSibling.textContent.indexOf(ft)>-1&&j(i.nextSibling),j(i),i=null),r&&!i){var a=n.getPropertyValue("content"),s=rt.createElement("i");s.setAttribute("class",""+Ee[r[1]]),s.setAttribute(ft,e),s.innerText=3===a.length?a.substr(1,1):a,":before"===e?t.insertBefore(s,t.firstChild):t.appendChild(s)}})})}),e()}}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(st){var n=rt.documentElement.classList,r=function(t){return n.add(pt+"-"+t)},o=function(t){return n.remove(pt+"-"+t)},i=Object.keys(be),a=["."+we+":not(["+lt+"])"].concat(i.map(function(t){return"."+t+":not(["+lt+"])"})).join(", ");if(0!==a.length){var s=u(t.querySelectorAll(a));if(s.length>0){r("pending"),o("complete");var c=Vt.begin("onTree"),l=s.reduce(function(t,e){try{var n=F(e);n&&t.push(n)}catch(t){ht||t instanceof R&&console.error(t)}return t},[]);c(),S(l,function(){r("active"),r("complete"),o("pending"),"function"===typeof e&&e()})}}}}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=F(t);n&&S([n],e)}function z(t,e){var n=Object.keys(e).reduce(function(t,n){var r=e[n];return!r.icon?t[n]=r:t[r.iconName]=r.icon,t},{});"function"===typeof St.hooks.addPack?St.hooks.addPack(t,n):St.styles[t]=bt({},St.styles[t]||{},n),"fas"===t&&z("fa",e)}function G(t){return{found:!0,width:t[0],height:t[1],icon:{tag:"path",attributes:{fill:"currentColor",d:t.slice(4)[0]}}}}function V(){It.autoAddCss&&(Ne||a(Ce()),Ne=!0)}function Y(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return C(t)})}}),Object.defineProperty(t,"node",{get:function(){if(st){var e=rt.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function X(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return E(Se.definitions,n,r)||E(St.styles,n,r)}function H(){at&&(nt.FontAwesome||(nt.FontAwesome=Ae),Lt(function(){Object.keys(St.styles).length>0&&ke(),It.observeMutations&&"function"===typeof MutationObserver&&O({treeCallback:q,nodeCallback:U,pseudoElementsCallback:B})})),St.hooks=bt({},St.hooks,{addPack:function(t,e){St.styles[t]=bt({},St.styles[t]||{},e),Zt(),ke()},addShims:function(t){var e;(e=St.shims).push.apply(e,wt(t)),Zt(),ke()}})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"config",function(){return De}),n.d(e,"icon",function(){return Le}),n.d(e,"noAuto",function(){return Pe}),n.d(e,"layer",function(){return Re}),n.d(e,"text",function(){return Te}),n.d(e,"library",function(){return Se}),n.d(e,"dom",function(){return Oe}),n.d(e,"parse",function(){return Me}),n.d(e,"findIconDefinition",function(){return X});var W=function(){},K={},J={},Q=null,Z={mark:W,measure:W};try{"undefined"!==typeof window&&(K=window),"undefined"!==typeof document&&(J=document),"undefined"!==typeof MutationObserver&&(Q=MutationObserver),"undefined"!==typeof performance&&(Z=performance)}catch(t){}var $=K.navigator||{},tt=$.userAgent,et=void 0===tt?"":tt,nt=K,rt=J,ot=Q,it=Z,at=!!nt.document,st=!!rt.documentElement&&!!rt.head&&"function"===typeof rt.addEventListener&&"function"===typeof rt.createElement,ut=~et.indexOf("MSIE")||~et.indexOf("Trident/"),ct=16,lt="data-fa-i2svg",ft="data-fa-pseudo-element",pt="fontawesome-i2svg",ht=function(){try{return!0}catch(t){return!1}}(),dt=[1,2,3,4,5,6,7,8,9,10],gt=dt.concat([11,12,13,14,15,16,17,18,19,20]),yt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],mt=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(dt.map(function(t){return t+"x"})).concat(gt.map(function(t){return"w-"+t})),vt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_t=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wt=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},xt=nt.FontAwesomeConfig||{},Et=Object.keys(xt),Ct=bt({familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},xt);Ct.autoReplaceSvg||(Ct.observeMutations=!1);var It=bt({},Ct);nt.FontAwesomeConfig=It;var Nt=nt||{};Nt.___FONT_AWESOME___||(Nt.___FONT_AWESOME___={}),Nt.___FONT_AWESOME___.styles||(Nt.___FONT_AWESOME___.styles={}),Nt.___FONT_AWESOME___.hooks||(Nt.___FONT_AWESOME___.hooks={}),Nt.___FONT_AWESOME___.shims||(Nt.___FONT_AWESOME___.shims=[]);var St=Nt.___FONT_AWESOME___,Pt=[],Ot=function t(){rt.removeEventListener("DOMContentLoaded",t),Mt=1,Pt.map(function(t){return t()})},Mt=!1;st&&((Mt=(rt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(rt.readyState))||rt.addEventListener("DOMContentLoaded",Ot));var Lt=function(t){st&&(Mt?setTimeout(t,0):Pt.push(t))},Tt=ct,Rt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},At=0,kt={x:0,y:0,width:"100%",height:"100%"},Dt=function(t){var e=t.children,n=t.attributes,r=t.main,o=t.mask,i=t.transform,a=r.width,u=r.icon,c=o.width,l=o.icon,f=g({transform:i,containerWidth:c,iconWidth:a}),p={tag:"rect",attributes:bt({},kt,{fill:"white"})},h={tag:"g",attributes:bt({},f.inner),children:[{tag:"path",attributes:bt({},u.attributes,f.path,{fill:"black"})}]},d={tag:"g",attributes:bt({},f.outer),children:[h]},y="mask-"+s(),m="clip-"+s(),v={tag:"mask",attributes:bt({},kt,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,d]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:[l]},v]};return e.push(_,{tag:"rect",attributes:bt({fill:"currentColor","clip-path":"url(#"+m+")",mask:"url(#"+y+")"},kt)}),{children:e,attributes:n}},Ft=function(t){var e=t.children,n=t.attributes,r=t.main,o=t.transform,i=t.styles,a=h(i);if(a.length>0&&(n.style=a),d(o)){var s=g({transform:o,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:bt({},s.outer),children:[{tag:"g",attributes:bt({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:bt({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}},jt=function(t){var e=t.children,n=t.main,r=t.mask,o=t.attributes,i=t.styles,a=t.transform;if(d(a)&&n.found&&!r.found){var s=n.width,u=n.height,c={x:s/u/2,y:.5};o.style=h(bt({},i,{"transform-origin":c.x+a.x/16+"em "+(c.y+a.y/16)+"em"}))}return[{tag:"svg",attributes:o,children:e}]},Bt=function(t){var e=t.prefix,n=t.iconName,r=t.children,o=t.attributes,i=t.symbol,a=!0===i?e+"-"+It.familyPrefix+"-"+n:i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:bt({},o,{id:a}),children:r}]}]},qt=function(){},Ut=It.measurePerformance&&it&&it.mark&&it.measure?it:{mark:qt,measure:qt},zt=function(t){return Ut.mark('FA "5.0.7" '+t+" begins"),function(){return Gt(t)}},Gt=function(t){Ut.mark('FA "5.0.7" '+t+" ends"),Ut.measure('FA "5.0.7" '+t,'FA "5.0.7" '+t+" begins",'FA "5.0.7" '+t+" ends")},Vt={begin:zt,end:Gt},Yt=function(t,e){return function(n,r,o,i){return t.call(e,n,r,o,i)}},Xt=function(t,e,n,r){var o,i,a,s=Object.keys(t),u=s.length,c=void 0!==r?Yt(e,r):e;for(void 0===n?(o=1,a=t[s[0]]):(o=0,a=n);o<u;o++)i=s[o],a=c(a,t[i],i,t);return a},Ht=St.styles,Wt=St.shims,Kt={},Jt={},Qt={},Zt=function(){var t=function(t){return Xt(Ht,function(e,n,r){return e[r]=Xt(n,t,{}),e},{})};Kt=t(function(t,e,n){return t[e[3]]=n,t}),Jt=t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in Ht;Qt=Xt(Wt,function(t,n){var r=n[0],o=n[1],i=n[2];return"far"!==o||e||(o="fas"),t[r]={prefix:o,iconName:i},t},{})};Zt();var $t=St.styles,te=function(){return{prefix:null,iconName:null,rest:[]}},ee=function(){},ne={replace:function(t){var e=t[0],n=t[1],r=n.map(function(t){return C(t)}).join("\n");if(e.parentNode&&e.outerHTML)e.outerHTML=r+(It.keepOriginalSource&&"svg"!==e.tagName.toLowerCase()?"\x3c!-- "+e.outerHTML+" --\x3e":"");else if(e.parentNode){var o=document.createElement("span");e.parentNode.replaceChild(o,e),o.outerHTML=r}},nest:function(t){var e=t[0],n=t[1];if(~c(e).indexOf(It.replacementClass))return ne.replace(t);var r=new RegExp(It.familyPrefix+"-.*");delete n[0].attributes.style;var o=n[0].attributes.class.split(" ").reduce(function(t,e){return e===It.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t},{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" ");var i=n.map(function(t){return C(t)}).join("\n");e.setAttribute("class",o.toNode.join(" ")),e.setAttribute(lt,""),e.innerHTML=i}},re=!1,oe=null,ie=function(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(t,e){var n=e.split(":"),r=n[0],o=n.slice(1);return r&&o.length>0&&(t[r]=o.join(":").trim()),t},{})),n},ae=function(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",o=x(c(t));return e&&n&&(o.prefix=e,o.iconName=n),o.prefix&&r.length>1?o.iconName=b(o.prefix,t.innerText):o.prefix&&1===r.length&&(o.iconName=_(o.prefix,L(t.innerText))),o},se=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],o=n.slice(1).join("-");if(r&&"h"===o)return t.flipX=!0,t;if(r&&"v"===o)return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(r){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o}return t},e):e},ue=function(t){return se(t.getAttribute("data-fa-transform"))},ce=function(t){var e=t.getAttribute("data-fa-symbol");return null!==e&&(""===e||e)},le=function(t){var e=u(t.attributes).reduce(function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t},{}),n=t.getAttribute("title");return It.autoA11y&&(n?e["aria-labelledby"]=It.replacementClass+"-title-"+s():e["aria-hidden"]="true"),e},fe=function(t){var e=t.getAttribute("data-fa-mask");return e?x(e.split(" ").map(function(t){return t.trim()})):te()};R.prototype=Object.create(Error.prototype),R.prototype.constructor=R;var pe={fill:"currentColor"},he={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},de={tag:"path",attributes:bt({},pe,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},ge=bt({},he,{attributeName:"opacity"}),ye={tag:"circle",attributes:bt({},pe,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:bt({},he,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:bt({},ge,{values:"1;0;1;1;0;1;"})}]},me={tag:"path",attributes:bt({},pe,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:bt({},ge,{values:"1;0;0;0;0;1;"})}]},ve={tag:"path",attributes:bt({},pe,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:bt({},ge,{values:"0;0;1;1;0;0;"})}]},_e={tag:"g",children:[de,ye,me,ve]},be=St.styles,we="fa-layers-text",xe=/Font Awesome 5 (Solid|Regular|Light|Brands)/,Ee={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"},Ce=function(){var t="svg-inline--fa",e=It.familyPrefix,n=It.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==e||n!==t){var o=new RegExp("\\.fa\\-","g"),i=new RegExp("\\."+t,"g");r=r.replace(o,"."+e+"-").replace(i,"."+n)}return r},Ie=function(){function t(){vt(this,t),this.definitions={}}return _t(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(e){t.definitions[e]=bt({},t.definitions[e]||{},o[e]),z(e,o[e])})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],o=r.prefix,i=r.iconName,a=r.icon;t[o]||(t[o]={}),t[o][i]=a}),t}}]),t}(),Ne=!1,Se=new Ie,Pe=function(){o(!1),M()},Oe={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(st){V();var e=t.node,n=void 0===e?rt:e,r=t.callback,o=void 0===r?function(){}:r;It.searchPseudoElements&&B(n),q(n,o)}},css:Ce,insertCss:function(){a(Ce())}},Me={transform:function(t){return se(t)}},Le=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:X(e||{}),o=n.mask;return o&&(o=(o||{}).icon?o:X(o||{})),t(r,bt({},n,{mask:o}))}}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?Rt:n,o=e.symbol,i=void 0!==o&&o,a=e.mask,u=void 0===a?null:a,c=e.title,l=void 0===c?null:c,f=e.classes,p=void 0===f?[]:f,h=e.attributes,d=void 0===h?{}:h,g=e.styles,y=void 0===g?{}:g;if(t){var v=t.prefix,_=t.iconName,b=t.icon;return Y(bt({type:"icon"},t),function(){return V(),It.autoA11y&&(l?d["aria-labelledby"]=It.replacementClass+"-title-"+s():d["aria-hidden"]="true"),m({icons:{main:G(b),mask:u?G(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:_,transform:bt({},Rt,r),symbol:i,title:l,extra:{attributes:d,styles:y,classes:p}})})}}),Te=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?Rt:n,o=e.title,i=void 0===o?null:o,a=e.classes,s=void 0===a?[]:a,u=e.attributes,c=void 0===u?{}:u,l=e.styles,f=void 0===l?{}:l;return Y({type:"text",content:t},function(){return V(),v({content:t,transform:bt({},Rt,r),title:i,extra:{attributes:c,styles:f,classes:[It.familyPrefix+"-layers-text"].concat(wt(s))}})})},Re=function(t){return Y({type:"layer"},function(){V();var e=[];return t(function(t){Array.isArray(t)?t.map(function(t){e=e.concat(t.abstract)}):e=e.concat(t.abstract)}),[{tag:"span",attributes:{class:It.familyPrefix+"-layers"},children:e}]})},Ae={noAuto:Pe,dom:Oe,library:Se,parse:Me,findIconDefinition:X,icon:Le,text:Te,layer:Re},ke=function(){st&&It.autoReplaceSvg&&Ae.dom.i2svg({node:rt})};Object.defineProperty(Ae,"config",{get:function(){return It},set:function(t){r(t)}}),st&&function(t){try{t()}catch(t){if(!ht)throw t}}(H);var De=Ae.config;e.default=Ae},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(28),o=n(29),i=n(11),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t,e,n,o){var s=void 0;"string"===typeof t?(s=Object(i.d)(t),s.state=e):(s=a({},t),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==e&&void 0===s.state&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(s.key=n),o?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=Object(r.default)(s.pathname,o.pathname)):s.pathname=o.pathname:s.pathname||(s.pathname="/"),s},u=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(o.default)(t.state,e.state)}},function(t,e,n){(function(e){!function(e,r){t.exports=r(n(13),n(3),n(0))}(0,function(t,n,r){"use strict";function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function i(t){return t.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.indexOf(":"),r=p.camelize(e.slice(0,n)),i=e.slice(n+1).trim();return r.startsWith("webkit")?t[o(r)]=i:t[r]=i,t},{})}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(e.children||[]).map(a.bind(null,t)),o=Object.keys(e.attributes||{}).reduce(function(t,n){var r=e.attributes[n];switch(n){case"class":t.attrs.className=r,delete e.attributes.class;break;case"style":t.attrs.style=i(r);break;default:0===n.indexOf("aria-")||0===n.indexOf("data-")?t.attrs[n.toLowerCase()]=r:t.attrs[p.camelize(n)]=r}return t},{attrs:{}}),s=n.style,u=void 0===s?{}:s,c=y(n,["style"]);return o.attrs.style=g({},o.attrs.style,u),t.apply(void 0,[e.tag,g({},o.attrs,c)].concat(m(r)))}function s(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?d({},t,e):{}}function u(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},d(e,"fa-"+t.size,null!==t.size),d(e,"fa-rotate-"+t.rotation,null!==t.rotation),d(e,"fa-pull-"+t.pull,null!==t.pull),e);return Object.keys(n).map(function(t){return n[t]?t:null}).filter(function(t){return t})}function c(t){return null===t?null:"object"===("undefined"===typeof t?"undefined":h(t))&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}function l(e){var n=e.icon,o=e.mask,i=e.symbol,f=e.className,p=c(n),h=s("classes",[].concat(m(u(e)),m(f.split(" ")))),d=s("transform","string"===typeof e.transform?t.parse.transform(e.transform):e.transform),y=s("mask",c(o)),v=t.icon(p,g({},h,d,y,{symbol:i}));if(!v)return _("Could not find icon",p),null;var b=v.abstract,w=a.bind(null,r.createElement),x={};return Object.keys(e).forEach(function(t){l.defaultProps.hasOwnProperty(t)||(x[t]=e[t])}),w(b[0],x)}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var f="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},p=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){!function(e){var n=function(t,e,r){if(!c(e)||f(e)||p(e)||h(e)||u(e))return e;var o,i=0,a=0;if(l(e))for(o=[],a=e.length;i<a;i++)o.push(n(t,e[i],r));else{o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[t(s,r)]=n(t,e[s],r))}return o},r=function(t,e){e=e||{};var n=e.separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)},o=function(t){return d(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))},i=function(t){var e=o(t);return e.substr(0,1).toUpperCase()+e.substr(1)},a=function(t,e){return r(t,e).toLowerCase()},s=Object.prototype.toString,u=function(t){return"function"===typeof t},c=function(t){return t===Object(t)},l=function(t){return"[object Array]"==s.call(t)},f=function(t){return"[object Date]"==s.call(t)},p=function(t){return"[object RegExp]"==s.call(t)},h=function(t){return"[object Boolean]"==s.call(t)},d=function(t){return(t-=0)===t},g=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!==typeof n?t:function(e,r){return n(e,t,r)}},y={camelize:o,decamelize:a,pascalize:i,depascalize:a,camelizeKeys:function(t,e){return n(g(o,e),t)},decamelizeKeys:function(t,e){return n(g(a,e),t,e)},pascalizeKeys:function(t,e){return n(g(i,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=y:e.humps=y}(f)}),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var s={key:t,arg:e,resolve:n,reject:o,next:null};a?a=a.next=s:(i=a=s,r(t,e))})}function r(n,i){try{var a=e[n](i),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){r("next",t)},function(t){r("throw",t)}):o(a.done?"return":"normal",a.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}i=i.next,i?r(i.key,i.arg):a=null}var i,a;this._invoke=n,"function"!==typeof e.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},m=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},v=!1;try{v=!0}catch(t){}var _=function(){if(!v&&console&&"function"===typeof console.error){var t;(t=console).error.apply(t,arguments)}};return l.propTypes={border:n.bool,className:n.string,mask:n.oneOfType([n.object,n.array,n.string]),fixedWidth:n.bool,flip:n.oneOf(["horizontal","vertical","both"]),icon:n.oneOfType([n.object,n.array,n.string]),listItem:n.bool,pull:n.oneOf(["right","left"]),pulse:n.bool,name:n.string,rotation:n.oneOf([90,180,270]),size:n.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:n.bool,symbol:n.oneOfType([n.bool,n.string]),transform:n.oneOfType([n.string,n.object])},l.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,name:"",rotation:null,size:null,spin:!1,symbol:!1,transform:null},t.noAuto(),l})}).call(e,n(18))},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.bbox,o=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&I(r),o&&N(o);var i={type:"Feature"};return o&&(i.id=o),r&&(i.bbox=r),i.properties=e||{},i.geometry=t,i}function n(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var o=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");o&&I(o);var a;switch(t){case"Point":a=r(e).geometry;break;case"LineString":a=s(e).geometry;break;case"Polygon":a=i(e).geometry;break;case"MultiPoint":a=f(e).geometry;break;case"MultiLineString":a=l(e).geometry;break;case"MultiPolygon":a=p(e).geometry;break;default:throw new Error(t+" is invalid")}return o&&(a.bbox=o),a}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function o(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map(function(t){return r(t,e)}),n)}function i(t,n,r){if(!t)throw new Error("coordinates is required");for(var o=0;o<t.length;o++){var i=t[o];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++){if(0===o&&0===a&&!E(i[0][0])||!E(i[0][1]))throw new Error("coordinates must contain numbers");if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map(function(t){return i(t,e)}),n)}function s(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map(function(t){return s(t,e)}),n)}function c(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&I(n),r&&N(r);var o={type:"FeatureCollection"};return r&&(o.id=r),n&&(o.bbox=n),o.features=t,o}function l(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function d(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function g(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Fi[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function y(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Fi[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function m(t,e){return _(y(t,e))}function v(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function _(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function w(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return g(y(t,e),n||"kilometers")}function x(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Bi[e||"meters"];if(!r)throw new Error("invalid original units");var o=Bi[n||"kilometers"];if(!o)throw new Error("invalid final units");return t/r*o}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function I(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!E(t))throw new Error("bbox must only contain numbers")})}function N(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function S(t,e,n){if(null!==t)for(var r,o,i,a,s,u,c,l,f=0,p=0,h=t.type,d="FeatureCollection"===h,g="Feature"===h,y=d?t.features.length:1,m=0;m<y;m++){s=(l=!!(c=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<s;v++){var _=0,b=0;if(null!==(a=l?c.geometries[v]:c)){u=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":e(u,p,m,_,b),p++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],p,m,_,b),p++,"MultiPoint"===w&&_++;"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(o=0;o<u[r].length-f;o++)e(u[r][o],p,m,_,b),p++;"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===w&&(b=0),o=0;o<u[r].length;o++){for(i=0;i<u[r][o].length-f;i++)e(u[r][o][i],p,m,_,b),p++;b++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)S(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function P(t,e,n,r){var o=n;return S(t,function(t,r,i,a,s){o=0===r&&void 0===n?t:e(o,t,r,i,a,s)},r),o}function O(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function M(t,e,n){var r=n;return O(t,function(t,o){r=0===o&&void 0===n?t:e(r,t,o)}),r}function L(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function T(t,e,n){var r=n;return L(t,function(t,o){r=0===o&&void 0===n?t:e(r,t,o)}),r}function R(t){var e=[];return S(t,function(t){e.push(t)}),e}function A(t,e){var n,r,o,i,a,s,u,c,l,f,p=0,h="FeatureCollection"===t.type,d="Feature"===t.type,g=h?t.features.length:1;for(n=0;n<g;n++){for(s=h?t.features[n].geometry:d?t.geometry:t,c=h?t.features[n].properties:d?t.properties:{},l=h?t.features[n].bbox:d?t.bbox:void 0,f=h?t.features[n].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(i,p,c,l,f);break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)e(i.geometries[r],p,c,l,f);break;default:throw new Error("Unknown Geometry Type")}else e(null,p,c,l,f);p++}}function k(t,e,n){var r=n;return A(t,function(t,o,i,a,s){r=0===o&&void 0===n?t:e(r,t,o,i,a,s)}),r}function D(t,n){A(t,function(t,r,o,i,a){var s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,o,{bbox:i,id:a}),r,0)}var u;switch(s){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}t.coordinates.forEach(function(t,i){n(e({type:u,coordinates:t},o),r,i)})})}function F(t,e,n){var r=n;return D(t,function(t,o,i){r=0===o&&0===i&&void 0===n?t:e(r,t,o,i)}),r}function j(t,e){D(t,function(t,n,r){var o=0;if(t.geometry){var i=t.geometry.type;"Point"!==i&&"MultiPoint"!==i&&P(t,function(i,a,u,c,l,f){var p=s([i,a],t.properties);return e(p,n,r,f,o),o++,a})}})}function B(t,e,n){var r=n,o=!1;return j(t,function(t,i,a,s,u){r=!1===o&&void 0===n?t:e(r,t,i,a,s,u),o=!0}),r}function q(t,e){if(!t)throw new Error("geojson is required");D(t,function(t,n,r){if(null!==t.geometry){var o=t.geometry.type,i=t.geometry.coordinates;switch(o){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var a=0;a<i.length;a++)e(s(i[a],t.properties),n,r,a)}}})}function U(t,e,n){var r=n;return q(t,function(t,o,i,a){r=0===o&&void 0===n?t:e(r,t,o,i,a)}),r}function z(t){var e=[1/0,1/0,-1/0,-1/0];return S(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function G(t){if(!t)throw new Error("obj is required");var e=V(t);if(e.length>1&&E(e[0])&&E(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function V(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return Y(e),e;throw new Error("No valid coordinates")}function Y(t){if(t.length>1&&E(t[0])&&E(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Y(t[0]);throw new Error("coordinates must only contain numbers")}function X(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function H(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function W(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var o=t.features[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}}function K(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function J(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Q(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Z(t,e,n){n=n||{};for(var r=Object.keys(Gi),o=0;o<r.length;o++){var i=r[o],a=n[i];a=void 0!==a&&null!==a?a:Gi[i],Vi[i]=a}Vi.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach(function(r,o){r.forEach(function(r,i){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var a=function(t,e,n){var r,o,i,a=t.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],c=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],f=(t[e][n],t[e][n]),p=f.cval,h=nt(f,i=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][p]);s.push([n+h[0],e+h[1]]),h=nt(f,i=l[p]),s.push([n+h[0],e+h[1]]),et(f);for(var d=n+u[p],g=e+c[p],y=p;d>=0&&g>=0&&g<a&&(d!=n||g!=e)&&void 0!==(f=t[g][d]);){if(0===(p=f.cval)||15===p)return{path:s,info:"mergeable"};i=l[p],r=u[p],o=c[p],5!==p&&10!==p||(5===p?f.flipped?-1===c[y]?(i="left",r=-1,o=0):(i="right",r=1,o=0):-1===u[y]&&(i="bottom",r=0,o=-1):10===p&&(f.flipped?-1===u[y]?(i="top",r=0,o=1):(i="bottom",r=0,o=-1):1===c[y]&&(i="left",r=-1,o=0))),h=nt(f,i),s.push([d+h[0],g+h[1]]),et(f),d+=r,g+=o,y=p}return{path:s,info:"closed"}}(t.cells,o,i),s=!1;if("mergeable"===a.info)for(var u=a.path[a.path.length-1][0],c=a.path[a.path.length-1][1],l=n-1;l>=0;l--)if(Math.abs(e[l][0][0]-u)<=1e-7&&Math.abs(e[l][0][1]-c)<=1e-7){for(var f=a.path.length-2;f>=0;--f)e[l].unshift(a.path[f]);s=!0;break}s||(e[n++]=a.path)}})}),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,o={rows:n,cols:r,cells:[]},i=0;i<n;++i){o.cells[i]=[];for(var a=0;a<r;++a){var s=0,u=t[i+1][a],c=t[i+1][a+1],l=t[i][a+1],f=t[i][a];if(!(isNaN(u)||isNaN(c)||isNaN(l)||isNaN(f))){s|=u>=e?8:0,s|=c>=e?4:0,s|=l>=e?2:0;var p=!1;if(5===(s|=f>=e?1:0)||10===s){var h=(u+c+l+f)/4;5===s&&h<e?(s=10,p=!0):10===s&&h<e&&(s=5,p=!0)}if(0!==s&&15!==s){var d,g,y,m;d=g=y=m=.5,1===s?(y=1-$(e,u,f),g=1-$(e,l,f)):2===s?(g=$(e,f,l),m=1-$(e,c,l)):3===s?(y=1-$(e,u,f),m=1-$(e,c,l)):4===s?(d=$(e,u,c),m=$(e,l,c)):5===s?(d=$(e,u,c),m=$(e,l,c),g=1-$(e,l,f),y=1-$(e,u,f)):6===s?(g=$(e,f,l),d=$(e,u,c)):7===s?(y=1-$(e,u,f),d=$(e,u,c)):8===s?(y=$(e,f,u),d=1-$(e,c,u)):9===s?(g=1-$(e,l,f),d=1-$(e,c,u)):10===s?(d=1-$(e,c,u),m=1-$(e,c,l),g=$(e,f,l),y=$(e,f,u)):11===s?(d=1-$(e,c,u),m=1-$(e,c,l)):12===s?(y=$(e,f,u),m=$(e,l,c)):13===s?(g=1-$(e,l,f),m=$(e,l,c)):14===s?(y=$(e,f,u),g=$(e,f,l)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),o.cells[i][a]={cval:s,flipped:p,top:d,right:m,bottom:g,left:y}}}}}return o}(t,e));return"function"==typeof Vi.successCallback&&Vi.successCallback(s),s}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,o=e.flags;W(t,"Point","input must contain Points");for(var i=function(t,e){var n={};return L(t,function(t){var e=V(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return V(t)[0]-V(e)[0]})}).sort(function(t,n){return e?V(t[0])[1]-V(n[0])[1]:V(n[0])[1]-V(t[0])[1]})}(t,r),a=[],s=0;s<i.length;s++){for(var u=i[s],c=[],l=0;l<u.length;l++){var f=u[l];f.properties[n]?c.push(f.properties[n]):c.push(0),!0===o&&(f.properties.matrixPosition=[s,l])}a.push(c)}return a}function ot(t,e,n,r,o){for(n=n||0,r=r||t.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};r>n;){if(r-n>600){var i=r-n+1,a=e-n+1,s=Math.log(i),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(i-u)/i)*(a-i/2<0?-1:1);ot(t,e,Math.max(n,Math.floor(e-a*u/i+c)),Math.min(r,Math.floor(e+(i-a)*u/i+c)),o)}var l=t[e],f=n,p=r;for(it(t,n,e),o(t[r],l)>0&&it(t,n,r);f<p;){for(it(t,f,p),f++,p--;o(t[f],l)<0;)f++;for(;o(t[p],l)>0;)p--}0===o(t[n],l)?it(t,n,p):it(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function it(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function at(t,e){if(!(this instanceof at))return new at(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function st(t,e){ut(t,0,t.children.length,e,t)}function ut(t,e,n,r,o){o||(o=yt(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=e;a<n;a++)i=t.children[a],ct(o,t.leaf?r(i):i);return o}function ct(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lt(t,e){return t.minX-e.minX}function ft(t,e){return t.minY-e.minY}function pt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function gt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function yt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mt(t,e,n,r,o){for(var i,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(i=e+Math.ceil((n-e)/r/2)*r,Yi(t,i,e,n,o),a.push(e,i,i,n))}function vt(t,e){return e={exports:{}},t(e,e.exports),e.exports}function _t(t,e){if(!(this instanceof _t))return new _t(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function bt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,o=function(t){for(var e=t[0],n=t[0],r=t[0],o=t[0],i=0;i<t.length;i++){var a=t[i];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>o[1]&&(o=a)}var s=[e,n,r,o],u=s.slice();for(i=0;i<t.length;i++)oa(t[i],s)||u.push(t[i]);var c=ta(u),l=[];for(i=0;i<c.length;i++)l.push(u[c[i]]);return l}(t),i=Xi(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<o.length;s++){var u=o[s];i.remove(u),r=It(u,r),a.push(r)}var c=Xi(16);for(s=0;s<a.length;s++)c.insert(Ct(a[s]));for(var l=e*e,f=n*n;a.length;){var p=a.shift(),h=p.p,d=p.next.p,g=Nt(h,d);if(!(g<f)){var y=g/l;(u=function(t,e,n,r,o,i,a){for(var s=new na(null,wt),u=t.data;u;){for(var c=0;c<u.children.length;c++){var l=u.children[c],f=u.leaf?St(l,n,r):function(t,e,n){if(xt(t,n)||xt(e,n))return 0;var r=Pt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var o=Pt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===o)return 0;var i=Pt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===i)return 0;var a=Pt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,o,i,a)}(n,r,l);f>i||s.push({node:l,dist:f})}for(;s.length&&!s.peek().node.children;){var p=s.pop(),h=p.node,d=St(h,e,n),g=St(h,r,o);if(p.dist<d&&p.dist<g&&Et(n,h,a)&&Et(r,h,a))return h}(u=s.pop())&&(u=u.node)}return null}(i,p.prev.p,h,d,p.next.next.p,y,c))&&Math.min(Nt(u,h),Nt(u,d))<=y&&(a.push(p),a.push(It(u,p)),i.remove(u),c.remove(p),c.insert(Ct(p)),c.insert(Ct(p.next)))}}p=r;var m=[];do{m.push(p.p),p=p.next}while(p!==r);return m.push(p.p),m}function wt(t,e){return t.dist-e.dist}function xt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function Et(t,e,n){for(var r=Math.min(t[0],e[0]),o=Math.min(t[1],e[1]),i=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:o,maxX:i,maxY:a}),u=0;u<s.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&ia(t,e,n)>0!=ia(t,e,r)>0&&ia(n,r,t)>0!=ia(n,r,e)>0}(s[u].p,s[u].next.p,t,e))return!1;return!0}function Ct(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function It(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Nt(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function St(t,e,n){var r=e[0],o=e[1],i=n[0]-r,a=n[1]-o;if(0!==i||0!==a){var s=((t[0]-r)*i+(t[1]-o)*a)/(i*i+a*a);s>1?(r=n[0],o=n[1]):s>0&&(r+=i*s,o+=a*s)}return i=t[0]-r,a=t[1]-o,i*i+a*a}function Pt(t,e,n,r,o,i,a,s){var u,c,l,f,p=n-t,h=r-e,d=a-o,g=s-i,y=t-o,m=e-i,v=p*p+h*h,_=p*d+h*g,b=d*d+g*g,w=p*y+h*m,x=d*y+g*m,E=v*b-_*_,C=E,I=E;0===E?(c=0,C=1,f=x,I=b):(f=v*x-_*w,(c=_*x-b*w)<0?(c=0,f=x,I=b):c>C&&(c=C,f=x+_,I=b)),f<0?(f=0,-w<0?c=0:-w>v?c=C:(c=-w,C=v)):f>I&&(f=I,-w+_<0?c=0:-w+_>v?c=C:(c=-w+_,C=v)),u=0===c?0:c/C;var N=(1-(l=0===f?0:f/I))*o+l*a-((1-u)*t+u*n),S=(1-l)*i+l*s-((1-u)*e+u*r);return N*N+S*S}function Ot(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(S(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var o=aa(r,n);return o.length>3?i([o]):null}function Mt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var o=G(t),i=V(e),a=e.geometry?e.geometry.type:e.type,s=e.bbox;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(o,s))return!1;"Polygon"===a&&(i=[i]);for(var u=0,c=!1;u<i.length&&!c;u++)if(Lt(o,i[u][0],r)){for(var l=!1,f=1;f<i[u].length&&!l;)Lt(o,i[u][f],!r)&&(l=!0),f++;l||(c=!0)}return c}function Lt(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,i=e.length-1;o<e.length;i=o++){var a=e[o][0],s=e[o][1],u=e[i][0],c=e[i][1];if(t[1]*(a-u)+s*(u-t[0])+c*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(c-t[1])<=0)return!n;s>t[1]!=c>t[1]&&t[0]<(u-a)*(t[1]-s)/(c-s)+a&&(r=!r)}return r}function Tt(t,e){var n=[];return A(e,function(e){L(t,function(t){Mt(t,e)&&n.push(t)})}),c(n)}function Rt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return c(function(t){if(t.length<3)return[];t.sort(kt);for(var e,n,r,o,i,a,s=t.length-1,u=t[s].x,c=t[0].x,l=t[s].y,f=l;s--;)t[s].y<l&&(l=t[s].y),t[s].y>f&&(f=t[s].y);var p,h=c-u,d=f-l,g=h>d?h:d,y=.5*(c+u),m=.5*(f+l),v=[new At({x:y-20*g,y:m-g,__sentinel:!0},{x:y,y:m+20*g,__sentinel:!0},{x:y+20*g,y:m-g,__sentinel:!0})],_=[],b=[];for(s=t.length;s--;){for(b.length=0,p=v.length;p--;)(h=t[s].x-v[p].x)>0&&h*h>v[p].r?(_.push(v[p]),v.splice(p,1)):(d=t[s].y-v[p].y,h*h+d*d>v[p].r||(b.push(v[p].a,v[p].b,v[p].b,v[p].c,v[p].c,v[p].a),v.splice(p,1)));for(Dt(b),p=b.length;p;)n=b[--p],e=b[--p],r=t[s],o=n.x-e.x,i=n.y-e.y,a=2*(o*(r.y-n.y)-i*(r.x-n.x)),Math.abs(a)>1e-12&&v.push(new At(e,n,r))}for(Array.prototype.push.apply(_,v),s=_.length;s--;)(_[s].a.__sentinel||_[s].b.__sentinel||_[s].c.__sentinel)&&_.splice(s,1);return _}(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r})).map(function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],o=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),o.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},i([[e,r,o,e]],a)}))}function At(t,e,n){this.a=t,this.b=e,this.c=n;var r,o,i=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,c=i*(t.x+e.x)+a*(t.y+e.y),l=s*(t.x+n.x)+u*(t.y+n.y),f=2*(i*(n.y-e.y)-a*(n.x-e.x));this.x=(u*c-a*l)/f,this.y=(i*l-s*c)/f,r=this.x-t.x,o=this.y-t.y,this.r=r*r+o*o}function kt(t,e){return e.x-t.x}function Dt(t){var e,n,r,o,i,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(i=t[--r],o=t[--r],e===o&&n===i||e===i&&n===o){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function Ft(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,o=G(t),i=G(e),a=b(i[1]-o[1]),s=b(i[0]-o[0]),u=b(o[1]),c=b(i[1]),l=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(c);return g(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),r)}function jt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Bt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return Bt(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ut(t);default:throw new Error("unknown GeoJSON type")}}function Bt(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=qt(t.properties),e.geometry=Ut(t.geometry),e}function qt(t){var e={};return t?(Object.keys(t).forEach(function(n){var r=t[n];"object"==typeof r?null===r?e[n]=null:r.length?e[n]=r.map(function(t){return t}):e[n]=qt(r):e[n]=r}),e):e}function Ut(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return Ut(t)}),e):(e.coordinates=zt(t.coordinates),e)}function zt(t){return"object"!=typeof t[0]?t.slice():t.map(function(t){return zt(t)})}function Gt(t,e){function n(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],r=0,o=n.length;r<o;++r)e.push(u(n[r],r));t<0&&la(e,o)}function r(t){return u(t)}function o(t){for(var e=[],r=0,o=t.length;r<o;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function i(t){for(var e=o(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(i)}function s(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(s)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=o(t.arcs);break;case"MultiLineString":e=t.arcs.map(o);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:n,coordinates:e}}var u=ca(t.transform),c=t.arcs;return s(e)}function Vt(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){t.forEach(function(e){e.forEach(function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)})}),a.push(t)}function o(e){return function(t){for(var e,n=-1,r=t.length,o=t[r-1],i=0;++n<r;)e=o,o=t[n],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}(Gt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},a=[],s=[];return e.forEach(n),a.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),a.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].length<2&&r.push(t)})})}),r=fa(t,r),(n=r.length)>1)for(var a,s,u=1,c=o(r[0]);u<n;++u)(a=o(r[u]))>c&&(s=r[0],r[0]=r[u],r[u]=s,c=a);return r})}}function Yt(t,e,n){for(var r,o=e+(n---e>>1);e<o;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Xt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Ht)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Ht:Wt)(t)}function Ht(t){var e,n=Wt(t.geometry);null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox);for(e in t.properties){n.properties=t.properties;break}return n}function Wt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Wt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Kt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Jt(t,e){var n,r=t[0],o=t[1],i=e[0],a=e[1];return o<r&&(n=r,r=o,o=n),a<i&&(n=i,i=a,a=n),r===i&&o===a}function Qt(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=jt(t));var r=[],o=U(t,function(t,e){return function(t,e){var n,r=t.geometry.coordinates,o=e.geometry.coordinates,i=Zt(r[0]),a=Zt(r[r.length-1]),u=Zt(o[0]),c=Zt(o[o.length-1]);if(i===c)n=o.concat(r.slice(1));else if(u===a)n=r.concat(o.slice(1));else if(i===u)n=r.slice(1).reverse().concat(o);else{if(a!==c)return null;n=r.concat(o.reverse().slice(1))}return s(n)}(t,e)||(r.push(t),e)});return o&&r.push(o),r.length?1===r.length?r[0]:l(r.map(function(t){return t.coordinates})):null}function Zt(t){return t[0].toString()+","+t[1].toString()}function $t(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=jt(t));var r=function(t){var e={};D(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return Qt(t,e);case"Polygon":return function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=jt(t));var r=[];D(t,function(t){r.push(t.geometry)});var o=xa({geoms:h(r).geometry});return pa(o,o.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}function te(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var o=Q(t),i=[];switch(o){case"LineString":i=ee(t);break;case"MultiLineString":case"Polygon":V(t).forEach(function(t){i.push(ee(t))});break;case"MultiPolygon":V(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(ee(t))}),i.push(e)});break;case"Point":return t;case"MultiPoint":var a={};V(t).forEach(function(t){var e=t.join("-");a.hasOwnProperty(e)||(i.push(t),a[e]=!0)});break;default:throw new Error(o+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=i,t):{type:o,coordinates:i}:!0===r?(t.geometry.coordinates=i,t):e({type:o,coordinates:i},t.properties,t.bbox,t.id)}function ee(t){var e=V(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,o,i=[],a=e.length-1;i.push(e[0]);for(var s=1;s<a;s++)n=e[s-1],r=e[s],function(t,e,n){var r=n[0],o=n[1],i=t[0],a=t[1],s=e[0],u=e[1],c=s-i,l=u-a;return(r-i)*l-(o-a)*c==0&&(Math.abs(c)>=Math.abs(l)?c>0?i<=r&&r<=s:s<=r&&r<=i:l>0?a<=o&&o<=u:u<=o&&o<=a)}(n,o=e[s+1],r)||i.push(r);return i.push(o),i}function ne(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function re(t,e,n){var r=e.x,o=e.y,i=n.x-r,a=n.y-o;if(0!==i||0!==a){var s=((t.x-r)*i+(t.y-o)*a)/(i*i+a*a);s>1?(r=n.x,o=n.y):s>0&&(r+=i*s,o+=a*s)}return i=t.x-r,a=t.y-o,i*i+a*a}function oe(t,e,n,r,o){for(var i,a=r,s=e+1;s<n;s++){var u=re(t[s],t[e],t[n]);u>a&&(i=s,a=u)}a>r&&(i-e>1&&oe(t,e,i,r,o),o.push(t[i]),n-i>1&&oe(t,i,n,r,o))}function ie(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=n?t:function(t,e){for(var n,r=t[0],o=[r],i=1,a=t.length;i<a;i++)ne(n=t[i],r)>e&&(o.push(n),r=n);return r!==n&&o.push(n),o}(t,r),t=function(t,e){var n=t.length-1,r=[t[0]];return oe(t,0,n,e,r),r.push(t[n]),r}(t,r)}function ae(t,e,n){return ie(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function se(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error("invalid polygon");for(var o=ie(r,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(o);)o=ie(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o})}function ue(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!E(n))throw new Error("resolution must be an number");if(!E(r))throw new Error("sharpness must be an number");for(var o=[],i=new Ea({points:K(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:r}),a=0;a<i.duration;a+=10){var u=i.pos(a);Math.floor(a/100)%2==0&&o.push([u.x,u.y])}return s(o,t.properties)}function ce(t){I(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return i([[a,[r,n],[r,o],[e,o],a]])}function le(t){return ce(z(t))}function fe(t){var e=t[0],n=t[1],r=t[2],o=t[3];if(Ft(t.slice(0,2),[r,n])>=Ft(t.slice(0,2),[e,o])){var i=(n+o)/2;return[e,i-(r-e)/2,r,i+(r-e)/2]}var a=(e+r)/2;return[a-(o-n)/2,n,a+(o-n)/2,o]}function pe(t,e,n,o){if(o=o||{},!C(o))throw new Error("options is invalid");var i=o.units,a=o.properties,s=G(t),u=b(s[0]),c=b(s[1]),l=b(n),f=y(e,i),p=Math.asin(Math.sin(c)*Math.cos(f)+Math.cos(c)*Math.sin(f)*Math.cos(l));return r([_(u+Math.atan2(Math.sin(l)*Math.sin(f)*Math.cos(c),Math.cos(f)-Math.sin(c)*Math.sin(p))),_(p)],a)}function he(t,e,n){var r=(n=n||{}).steps||64,o=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,o=o||t.properties||{};for(var a=[],s=0;s<r;s++)a.push(pe(t,e,-360*s/r,n).geometry.coordinates);return a.push(a[0]),i([a],o)}function de(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=de(e,t);return n=(n+180)%360}(t,e);var r=G(t),o=G(e),i=b(r[0]),a=b(o[0]),s=b(r[1]),u=b(o[1]),c=Math.sin(a-i)*Math.cos(u),l=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-i);return _(Math.atan2(c,l))}function ge(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var o=z(t);return r([(o[0]+o[2])/2,(o[1]+o[3])/2],n)}function ye(t,e){var n=0,o=0,i=0;return S(t,function(t){n+=t[0],o+=t[1],i++},!0),r([n/i,o/i],e)}function me(t,e){switch(Q(t)){case"Point":return t;case"Polygon":var n=[];S(t,function(t){n.push(t)});var o,i,a,s,u,c,l,f,p=ye(t,e),h=p.geometry.coordinates,d=0,g=0,y=0,m=n.map(function(t){return[t[0]-h[0],t[1]-h[1]]});for(o=0;o<n.length-1;o++)s=(i=m[o])[0],c=i[1],u=(a=m[o+1])[0],y+=f=s*(l=a[1])-u*c,d+=(s+u)*f,g+=(c+l)*f;if(0===y)return p;var v=1/(.5*y*6);return r([h[0]+v*d,h[1]+v*g],e);default:var _=Ot(t);return _?me(_,e):ye(t,e)}}function ve(t){var e=[];return"FeatureCollection"===t.type?L(t,function(t){S(t,function(n){e.push(r(n,t.properties))})}):S(t,function(n){e.push(r(n,t.properties))}),c(e)}function _e(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,i=be(t,0,o,n,!0),a=[];if(!i)return a;var s,u,c,l,f,p,h;if(r&&(i=function(t,e,n,r){var o,i,a,s,u,c=[];for(o=0,i=e.length;o<i;o++)a=e[o]*r,s=o<i-1?e[o+1]*r:t.length,(u=be(t,a,s,r,!1))===u.next&&(u.steiner=!0),c.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(u));for(c.sort(Ee),o=0;o<c.length;o++)!function(t,e){if(e=function(t,e){var n,r=e,o=t.x,i=t.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===a)return n.prev;var u,c=n,l=n.x,f=n.y,p=1/0;for(r=n.next;r!==c;)o>=r.x&&r.x>=l&&o!==r.x&&Ie(i<f?o:a,i,l,f,i<f?a:o,i,r.x,r.y)&&((u=Math.abs(i-r.y)/(o-r.x))<p||u===p&&r.x>n.x)&&Oe(r,t)&&(n=r,p=u),r=r.next;return n}(t,e)){var n=Me(e,t);we(n,n.next)}}(c[o],n),n=we(n,n.next);return n}(t,e,i,n)),t.length>80*n){s=c=t[0],u=l=t[1];for(var d=n;d<o;d+=n)f=t[d],p=t[d+1],f<s&&(s=f),p<u&&(u=p),f>c&&(c=f),p>l&&(l=p);h=0!==(h=Math.max(c-s,l-u))?1/h:0}return xe(i,a,n,s,u,h),a}function be(t,e,n,r,o){var i,a;if(o===Ae(t,e,n,r)>0)for(i=e;i<n;i+=r)a=Le(i,t[i],t[i+1],a);else for(i=n-r;i>=e;i-=r)a=Le(i,t[i],t[i+1],a);return a&&Se(a,a.next)&&(Te(a),a=a.next),a}function we(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Se(r,r.next)&&0!==Ne(r.prev,r,r.next))r=r.next;else{if(Te(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function xe(t,e,n,r,o,i,a){if(t){!a&&i&&function(t,e,n,r){var o=t;do{null===o.z&&(o.z=Ce(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,r,o,i,a,s,u,c=1;do{for(n=t,t=null,i=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(a>1)}(o)}(t,r,o,i);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,i?function(t,e,n,r){var o=t.prev,i=t,a=t.next;if(Ne(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,c=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,l=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,f=Ce(s,u,e,n,r),p=Ce(c,l,e,n,r),h=t.nextZ;h&&h.z<=p;){if(h!==t.prev&&h!==t.next&&Ie(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&Ne(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=f;){if(h!==t.prev&&h!==t.next&&Ie(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&Ne(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}(t,r,o,i):function(t){var e=t.prev,n=t,r=t.next;if(Ne(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(Ie(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&Ne(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Te(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?xe(t=function(t,e,n){var r=t;do{var o=r.prev,i=r.next.next;!Se(o,i)&&Pe(o,r,r.next,i)&&Oe(o,i)&&Oe(i,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(i.i/n),Te(r),Te(r.next),r=t=i),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,o,i,2):2===a&&function(t,e,n,r,o,i){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Pe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Oe(t,e)&&Oe(e,t)&&function(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(a,s)){var u=Me(a,s);return a=we(a,a.next),u=we(u,u.next),xe(a,e,n,r,o,i),void xe(u,e,n,r,o,i)}s=s.next}a=a.next}while(a!==t)}(t,e,n,r,o,i):xe(we(t),e,n,r,o,i,1);break}}}function Ee(t,e){return t.x-e.x}function Ce(t,e,n,r,o){return t=32767*(t-n)*o,e=32767*(e-r)*o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Ie(t,e,n,r,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function Ne(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Se(t,e){return t.x===e.x&&t.y===e.y}function Pe(t,e,n,r){return!!(Se(t,e)&&Se(n,r)||Se(t,r)&&Se(n,e))||Ne(t,e,n)>0!=Ne(t,e,r)>0&&Ne(n,r,t)>0!=Ne(n,r,e)>0}function Oe(t,e){return Ne(t.prev,t,t.next)<0?Ne(t,e,t.next)>=0&&Ne(t,t.prev,e)>=0:Ne(t,e,t.prev)<0||Ne(t,t.next,e)<0}function Me(t,e){var n=new Re(t.i,t.x,t.y),r=new Re(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Le(t,e,n,r){var o=new Re(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function Te(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Re(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ae(t,e,n,r){for(var o=0,i=e,a=n-r;i<n;i+=r)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}function ke(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)n.vertices.push(t[o][i][a]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}(t),n=Ca(e.vertices,e.holes,2),r=[],o=[];n.forEach(function(t,r){var i=n[r];o.push([e.vertices[2*i],e.vertices[2*i+1]])});for(var a=0;a<o.length;a+=3){var s=o.slice(a,a+3);s.push(o[a]),r.push(i([s]))}return r}function De(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return L(e,function(e,o){var i=Ft(t,e);i<r&&((n=jt(e)).properties.featureIndex=o,n.properties.distanceToPoint=i,r=i)}),n}function Fe(t,e,n,r,o){je(t,e,n||0,r||t.length-1,o||function(t,e){return t<e?-1:t>e?1:0})}function je(t,e,n,r,o){for(;r>n;){if(r-n>600){var i=r-n+1,a=e-n+1,s=Math.log(i),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(i-u)/i)*(a-i/2<0?-1:1);je(t,e,Math.max(n,Math.floor(e-a*u/i+c)),Math.min(r,Math.floor(e+(i-a)*u/i+c)),o)}var l=t[e],f=n,p=r;for(Be(t,n,e),o(t[r],l)>0&&Be(t,n,r);f<p;){for(Be(t,f,p),f++,p--;o(t[f],l)<0;)f++;for(;o(t[p],l)>0;)p--}0===o(t[n],l)?Be(t,n,p):Be(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function Be(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function qe(t,e){if(!(this instanceof qe))return new qe(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ue(t,e){ze(t,0,t.children.length,e,t)}function ze(t,e,n,r,o){o||(o=Je(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=e;a<n;a++)i=t.children[a],Ge(o,t.leaf?r(i):i);return o}function Ge(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ve(t,e){return t.minX-e.minX}function Ye(t,e){return t.minY-e.minY}function Xe(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function He(t){return t.maxX-t.minX+(t.maxY-t.minY)}function We(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ke(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Je(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Qe(t,e,n,r,o){for(var i,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(Fe(t,i=e+Math.ceil((n-e)/r/2)*r,e,n,o),a.push(e,i,i,n))}function Ze(t){var e=qe(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}else t.bbox=t.bbox?t.bbox:tn(t);return qe.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=$e(t);n.bbox=t,e.push(n)}):L(t,function(t){t.bbox=t.bbox?t.bbox:tn(t),e.push(t)}),qe.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}return qe.prototype.remove.call(this,t)},e.clear=function(){return qe.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:qe.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return qe.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:qe.prototype.all.call(this)}},e.toJSON=function(){return qe.prototype.toJSON.call(this)},e.fromJSON=function(t){return qe.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:tn(t),{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function $e(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function tn(t){var e=[1/0,1/0,-1/0,-1/0];return S(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function en(t){if(!t)throw new Error("geojson is required");var e=[];return D(t,function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=V(r);break;case"LineString":n=[V(r)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,r){var o=s([t,r],e);return o.bbox=function(t,e){var n=t[0],r=t[1],o=e[0],i=e[1];return[n<o?n:o,r<i?r:i,n>o?n:o,r>i?r:i]}(t,r),n.push(o),r}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),c(e)}function nn(t,n){var r={},o=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var i=rn(t,n);return i&&o.push(i),c(o)}var a=Ze();return a.load(en(n)),L(en(t),function(t){L(a.search(t),function(e){var n=rn(t,e);if(n){var i=V(n).join(",");r[i]||(r[i]=!0,o.push(n))}})}),c(o)}function rn(t,e){var n=V(t),o=V(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==o.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],a=n[0][1],s=n[1][0],u=n[1][1],c=o[0][0],l=o[0][1],f=o[1][0],p=o[1][1],h=(p-l)*(s-i)-(f-c)*(u-a),d=(f-c)*(a-l)-(p-l)*(i-c),g=(s-i)*(a-l)-(u-a)*(i-c);if(0===h)return null;var y=d/h,m=g/h;return y>=0&&y<=1&&m>=0&&m<=1?r([i+y*(s-i),a+y*(u-a)]):null}function on(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var o=t.geometry?t.geometry.type:t.type;if("LineString"!==o&&"MultiLineString"!==o)throw new Error("lines must be LineString or MultiLineString");var i=r([1/0,1/0],{dist:1/0}),a=0;return D(t,function(t){for(var o=V(t),u=0;u<o.length-1;u++){var c=r(o[u]);c.properties.dist=Ft(e,c,n);var l=r(o[u+1]);l.properties.dist=Ft(e,l,n);var f=Ft(c,l,n),p=Math.max(c.properties.dist,l.properties.dist),h=de(c,l),d=pe(e,p,h+90,n),g=pe(e,p,h-90,n),y=nn(s([d.geometry.coordinates,g.geometry.coordinates]),s([c.geometry.coordinates,l.geometry.coordinates])),m=null;y.features.length>0&&((m=y.features[0]).properties.dist=Ft(e,m,n),m.properties.location=a+Ft(c,m,n)),c.properties.dist<i.properties.dist&&((i=c).properties.index=u,i.properties.location=a),l.properties.dist<i.properties.dist&&((i=l).properties.index=u+1,i.properties.location=a+f),m&&m.properties.dist<i.properties.dist&&((i=m).properties.index=u),a+=f}}),i}function an(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");var o;return(o=r?sn(G(e),G(t)):sn(G(t),G(e)))>180?-(360-o):o}function sn(t,e){var n=b(t[1]),r=b(e[1]),o=b(e[0]-t[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var i=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(_(Math.atan2(o,i))+360)%360}function un(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var o=G(t),i=G(e);return i[0]+=i[0]-o[0]>180?-360:o[0]-i[0]>180?360:0,w(function(t,e,n){var r=n=void 0===n?Di:Number(n),o=t[1]*Math.PI/180,i=e[1]*Math.PI/180,a=i-o,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var u=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(u)>1e-11?a/u:Math.cos(o);return Math.sqrt(a*a+c*c*s*s)*r}(o,i),"meters",r)}function cn(t,e){return fn(t,"mercator",e)}function ln(t,e){return fn(t,"wgs84",e)}function fn(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&E(t[0])?t="mercator"===e?pn(t):hn(t):(!0!==r&&(t=jt(t)),S(t,function(t){var n="mercator"===e?pn(t):hn(t);t[0]=n[0],t[1]=n[1]})),t}function pn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function hn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function dn(t,n,o){if(o=o||{},!C(o))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):H(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):H(n,"LineString","line");var i=1/0,a=t.geometry.coordinates;return j(n,function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],s=function(t,e,n,o){var i=o.mercator,a=!0!==i?Ft(e,t,o):gn(e,t,o),s=v(!0!==i?de(e,t):an(e,t)),u=v(!0!==i?de(e,n):an(e,n)),c=Math.abs(s-u);if(c>90)return a;var l=(u+180)%360,f=v(!0!==i?de(n,t):an(n,t)),p=Math.abs(f-l);return p>180&&(p=Math.abs(p-360)),p>90?!0!==i?Ft(t,n,o):gn(t,n,o):!0!==i?a*Math.sin(b(c)):function(t,e,n,o){var i=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(i=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=cn([t[0]+i,t[1]]),u=cn([e[0]+i,e[1]]),c=cn([n[0]+i,n[1]]),l=ln(function(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1],s=n[0],u=n[1],c=i-r,l=a-o,f=((s-r)*c+(u-o)*l)/(c*c+l*l);return[r+f*c,o+f*l]}(s,u,c));return 0!==i&&(l[0]-=i),un(a,l,o)}(e,n,t,o)}(a,e,n,o);i>s&&(i=s)}),i}function gn(t,e,n){var r=n.units,o=0;Math.abs(t[0])>=180&&(o=t[0]>0?-180:180),Math.abs(e[0])>=180&&(o=e[0]>0?-180:180);var i=cn([t[0]+o,t[1]]),a=cn([e[0]+o,e[1]]),s=function(t){return t*t},u=s(i[0]-a[0])+s(i[1]-a[1]);return w(Math.sqrt(u),"meters",r)}function yn(t){for(var n=function(t){return"FeatureCollection"!==t.type?c("Feature"!==t.type?[e(t)]:[t]):t}(t),o=ge(n),i=!1,a=0;!i&&a<n.features.length;){var s,u=n.features[a].geometry,l=!1;if("Point"===u.type)o.geometry.coordinates[0]===u.coordinates[0]&&o.geometry.coordinates[1]===u.coordinates[1]&&(i=!0);else if("MultiPoint"===u.type){var f=!1;for(s=0;!f&&s<u.coordinates.length;)o.geometry.coordinates[0]===u.coordinates[s][0]&&o.geometry.coordinates[1]===u.coordinates[s][1]&&(i=!0,f=!0),s++}else if("LineString"===u.type)for(s=0;!l&&s<u.coordinates.length-1;)mn(o.geometry.coordinates[0],o.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(l=!0,i=!0),s++;else if("MultiLineString"===u.type)for(var p=0;p<u.coordinates.length;){l=!1,s=0;for(var h=u.coordinates[p];!l&&s<h.length-1;)mn(o.geometry.coordinates[0],o.geometry.coordinates[1],h[s][0],h[s][1],h[s+1][0],h[s+1][1])&&(l=!0,i=!0),s++;p++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Mt(o,u)&&(i=!0);a++}if(i)return o;var d=c([]);for(a=0;a<n.features.length;a++)d.features=d.features.concat(ve(n.features[a]).features);return r(De(o,d).geometry.coordinates)}function mn(t,e,n,r,o,i){return Math.sqrt((o-n)*(o-n)+(i-r)*(i-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((o-t)*(o-t)+(i-e)*(i-e))}function vn(t){return k(t,function(t,e){return t+_n(e)},0)}function _n(t){var e,n=0;switch(t.type){case"Polygon":return bn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=bn(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=_n(t.geometries[e]);return n}}function bn(t){var e=0;if(t&&t.length>0){e+=Math.abs(wn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(wn(t[n]))}return e}function wn(t){var e,n,r,o,i,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(r=u-2,o=u-1,i=0):a===u-1?(r=u-1,o=0,i=1):(r=a,o=a+1,i=a+2),e=t[r],n=t[o],s+=(xn(t[i][0])-xn(e[0]))*Math.sin(xn(n[1]));s=s*Sa*Sa/2}return s}function xn(t){return t*Math.PI/180}function En(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return B(t,function(t,n){var r=n.geometry.coordinates;return t+Ft(r[0],r[1],e)},0)}function Cn(t,e,n,r){if(r=r||{},!C(r))throw new Error("options is invalid");var o,i=[];if("Feature"===t.type)o=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");o=t.coordinates}for(var a,u,c,l=0,f=0;f<o.length&&!(e>=l&&f===o.length-1);f++){if(l>e&&0===i.length){if(!(a=e-l))return i.push(o[f]),s(i);u=de(o[f],o[f-1])-180,c=pe(o[f],a,u,r),i.push(c.geometry.coordinates)}if(l>=n)return(a=n-l)?(u=de(o[f],o[f-1])-180,c=pe(o[f],a,u,r),i.push(c.geometry.coordinates),s(i)):(i.push(o[f]),s(i));if(l>=e&&i.push(o[f]),f===o.length-1)return s(i);l+=Ft(o[f],o[f+1],r)}return s(o[o.length-1])}function In(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var o=G(t),i=V(e),a=0;a<i.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===i.length-2&&(s="end"),0===a&&a+1===i.length-1&&(s="both")),function(t,e,n,r){var o=n[0],i=n[1],a=t[0],s=t[1],u=e[0],c=e[1],l=n[0]-a,f=n[1]-s,p=u-a,h=c-s;return l*h-f*p==0&&(r?"start"===r?Math.abs(p)>=Math.abs(h)?p>0?a<o&&o<=u:u<=o&&o<a:h>0?s<i&&i<=c:c<=i&&i<s:"end"===r?Math.abs(p)>=Math.abs(h)?p>0?a<=o&&o<u:u<o&&o<=a:h>0?s<=i&&i<c:c<i&&i<=s:"both"===r?Math.abs(p)>=Math.abs(h)?p>0?a<o&&o<u:u<o&&o<a:h>0?s<i&&i<c:c<i&&i<s:void 0:Math.abs(p)>=Math.abs(h)?p>0?a<=o&&o<=u:u<=o&&o<=a:h>0?s<=i&&i<=c:c<=i&&i<=s)}(i[a],i[a+1],o,s))return!0}return!1}function Nn(t,e){var n=Q(t),r=Q(e),o=K(t),i=K(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Pn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(o,i);case"LineString":return In(o,i,{ignoreEndVertices:!0});case"Polygon":return Mt(o,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,o=0;o<e.coordinates.length;o++)Pn(t.coordinates[n],e.coordinates[o])&&(r=!0);if(!r)return!1}return!0}(o,i);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!In(t.coordinates[r],e))return!1;n||(n=In(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(o,i);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var o=Mt(t.coordinates[1],e);if(!o){n=!1;break}o=Mt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&o}(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!In(t.coordinates[n],e))return!1;return!0}(o,i);case"Polygon":return function(t,e){if(!Sn(z(e),z(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Mt(t.coordinates[r],e))return!1;if(n||(n=Mt(t.coordinates[r],e,{ignoreBoundary:!0})),!n){n=Mt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0})}}return n}(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=z(t);if(!Sn(z(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Mt(t.coordinates[0][r],e))return!1;return!0}(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function Sn(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function Pn(t,e){return t[0]===e[0]&&t[1]===e[1]}function On(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var o=n.mask,i=n.properties,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(o&&-1===["Polygon","MultiPolygon"].indexOf(Q(o)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],l=t[2],f=t[3],p=e/Ft([s,u],[l,u],n)*(l-s),h=e/Ft([s,u],[s,f],n)*(f-u),d=l-s,g=f-u,y=Math.floor(d/p),m=(g-Math.floor(g/h)*h)/2,v=s+(d-y*p)/2;v<=l;){for(var _=u+m;_<=f;){var b=r([v,_],i);o?Nn(b,o)&&a.push(b):a.push(b),_+=h}v+=p}return c(a)}function Mn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,o=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==o&&void 0!==o||(t=JSON.parse(JSON.stringify(t)));var i=Math.pow(10,n);return S(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,i,r)}),t}function Ln(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Ln(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Tn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Rn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Rn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function An(t,e){var n=[],r=Ze();return D(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var o=r.search(e);if(o.features.length){var i=Dn(e,o);n=n.filter(function(t){return t.id!==i.id}),r.remove(i),L(kn(i,e),function(t){n.push(t),r.insert(t)})}}else(n=kn(t,e).features).forEach(function(t){t.bbox||(t.bbox=fe(z(t)))}),r.load(c(n))}),c(n)}function kn(t,e){var n=[],r=V(t)[0],o=V(t)[t.geometry.coordinates.length-1];if(Fn(r,G(e))||Fn(o,G(e)))return c([t]);var i=Ze(),a=en(t);i.load(a);var u=i.search(e);if(!u.features.length)return c([t]);var l=Dn(e,u),f=T(a,function(t,r,o){var i=V(r)[1],a=G(e);return o===l.id?(t.push(a),n.push(s(t)),Fn(a,i)?[a]:[a,i]):(t.push(i),t)},[r]);return f.length>1&&n.push(s(f)),c(n)}function Dn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return L(e,function(e){var o=on(e,t).properties.dist;o<r&&(n=e,r=o)}),n}function Fn(t,e){return t[0]===e[0]&&t[1]===e[1]}function jn(t,e,n,r,o){if(o=o||{},!C(o))throw new Error("options is invalid");var i=o.steps,a=o.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if("object"!=typeof o)throw new Error("options must be an object");i=i||64;var u=Bn(n),c=Bn(r),l=t.properties;if(u===c)return s(he(t,e,o).geometry.coordinates[0],l);for(var f=u,p=u<c?c:c+360,h=f,d=[],g=0;h<p;)d.push(pe(t,e,h,a).geometry.coordinates),h=f+360*++g/i;return h>p&&d.push(pe(t,e,p,a).geometry.coordinates),s(d,l)}function Bn(t){var e=t%360;return e<0&&(e+=360),e}function qn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties,r=Q(t),o=V(t);if(n=n||t.properties||{},!o.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Un(o,n);case"MultiPolygon":var i=[];return o.forEach(function(t){i.push(Un(t,n))}),c(i);default:throw new Error("geom "+r+" not supported")}}function Un(t,e){return t.length>1?l(t,e):s(t[0],e)}function zn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,o=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,o=void 0===o||o,Q(t)){case"FeatureCollection":case"GeometryCollection":var i=[];return(t.features?t.features:t.geometries).forEach(function(t){i.push(V(Gn(t,{},r,o)))}),p(i,n)}return Gn(t,n,r,o)}function Gn(t,e,n,r){e=e||t.properties||{};var o=V(t),a=Q(t);if(!o.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(o=Vn(o)),i([o],e);case"MultiLineString":var u=[],c=0;return o.forEach(function(t){if(n&&(t=Vn(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.abs(e-r)*Math.abs(n-o)}(z(s(t)));e>c?(u.unshift(t),c=e):u.push(t)}else u.push(t)}),i(u,e);default:throw new Error("geometry type "+a+" is not supported")}}function Vn(t){var e=t[0],n=e[0],r=e[1],o=t[t.length-1],i=o[0],a=o[1];return n===i&&r===a||t.push(e),t}function Yn(t,e,n){var r,o,i,a,s,u=t.length,c=Hn(t[0],e),l=[];for(n||(n=[]),r=1;r<u;r++){for(o=t[r-1],a=s=Hn(i=t[r],e);;){if(!(c|a)){l.push(o),a!==s?(l.push(i),r<u-1&&(n.push(l),l=[])):r===u-1&&l.push(i);break}if(c&a)break;c?c=Hn(o=Xn(o,i,c,e),e):a=Hn(i=Xn(o,i,a,e),e)}c=s}return l.length&&n.push(l),n}function Xn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Hn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Wn(t,e){for(var n=[],r=0;r<t.length;r++){var o=ja.polygon(t[r],e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&n.push(o))}return n}function Kn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Jn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var r,o;if(Qn(t)||Qn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Kn(t))return!!Kn(e)&&(t=Ba.call(t),e=Ba.call(e),Jn(t,e,n));if(Zn(t)){if(!Zn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var i=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!==a[r])return!1;for(r=i.length-1;r>=0;r--)if(o=i[r],!Jn(t[o],e[o],n))return!1;return typeof t==typeof e}(t,e,n))}function Qn(t){return null===t||void 0===t}function Zn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}function $n(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.tolerance||0,o=[],i=Ze();i.load(en(t));var a;return j(e,function(t){var e=!1;L(i.search(t),function(n){if(!1===e){var o=V(t).sort(),i=V(n).sort();Jn(o,i)?(e=!0,a=a?tr(a,t):t):(0===r?In(o[0],n)&&In(o[1],n):on(n,o[0]).properties.dist<=r&&on(n,o[1]).properties.dist<=r)?(e=!0,a=a?tr(a,t):t):(0===r?In(i[0],t)&&In(i[1],t):on(t,i[0]).properties.dist<=r&&on(t,i[1]).properties.dist<=r)&&(a=a?tr(a,n):n)}}),!1===e&&a&&(o.push(a),a=void 0)}),a&&o.push(a),c(o)}function tr(t,e){var n=V(e),r=V(t),o=r[0],i=r[r.length-1],a=t.geometry.coordinates;return Jn(n[0],o)?a.unshift(n[1]):Jn(n[0],i)?a.push(n[1]):Jn(n[1],o)?a.unshift(n[0]):Jn(n[1],i)&&a.push(n[0]),t}function er(t){var e=t%360;return e<0&&(e+=360),e}function nr(t,e,n,o){if(o=o||{},!C(o))throw new Error("options is invalid");var i=o.units,a=o.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=w(e,i,"meters"),u=G(t),c=function(t,e,n,r){r=void 0===r?Di:Number(r);var o=e/r,i=t[0]*Math.PI/180,a=b(t[1]),s=b(n),u=o*Math.cos(s),c=a+u;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var l=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(l)>1e-11?u/l:Math.cos(a);return[(180*(i+o*Math.sin(s)/f)/Math.PI+540)%360-180,180*c/Math.PI]}(u,s,n);return c[0]+=c[0]-u[0]>180?-360:u[0]-c[0]>180?360:0,r(c,a)}function rr(t,e,n,r,o,i){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),r=or(s,u,e),n<=0&&r>0?function(t,e,n){return or(t,e,n)<0}(e,s,o)||(o=s):n>0&&r<=0&&(function(t,e,n){return or(t,e,n)>0}(e,s,i)||(i=s)),n=r}return[o,i]}function or(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function ir(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,o=V(t),i=0,a=1;a<o.length;)n=r||o[0],i+=((r=o[a])[0]-n[0])*(r[1]+n[1]),a++;return i>0}function ar(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return A(t,function(t){ar(t,e)}),t;case"LineString":return sr(V(t),e),t;case"Polygon":return ur(V(t),e),t;case"MultiLineString":return V(t).forEach(function(t){sr(t,e)}),t;case"MultiPolygon":return V(t).forEach(function(t){ur(t,e)}),t;case"Point":case"MultiPoint":return t}}function sr(t,e){ir(t)===e&&t.reverse()}function ur(t,e){ir(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)ir(t[n])===e&&t[n].reverse()}function cr(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,o=e.flags;W(t,"Point","input must contain Points");for(var i=function(t,e){var n={};return L(t,function(t){var e=V(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return V(t)[0]-V(e)[0]})}).sort(function(t,n){return e?V(t[0])[1]-V(n[0])[1]:V(n[0])[1]-V(t[0])[1]})}(t,r),a=[],s=0;s<i.length;s++){for(var u=i[s],c=[],l=0;l<u.length;l++){var f=u[l];f.properties[n]?c.push(f.properties[n]):c.push(0),!0===o&&(f.properties.matrixPosition=[s,l])}a.push(c)}return a}function lr(t,e,n,r){r=r||{};for(var o=Object.keys(qa),i=0;i<o.length;i++){var a=o[i],s=r[a];s=void 0!==s&&null!==s?s:qa[a],Ua[a]=s}Ua.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,c=function(t,e,n){for(var r=t.length-1,o=t[0].length-1,i={rows:r,cols:o,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){i.cells[s]=[];for(var u=0;u<o;++u){var c=0,l=t[s+1][u],f=t[s+1][u+1],p=t[s][u+1],h=t[s][u];if(!(isNaN(l)||isNaN(f)||isNaN(p)||isNaN(h))){c|=l<e?0:l>a?128:64,c|=f<e?0:f>a?32:16,c|=p<e?0:p>a?8:4;var d=+(c|=h<e?0:h>a?2:1),g=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var y=(l+f+p+h)/4;g=y>a?2:y<e?0:1,34===c?1===g?c=35:0===g&&(c=136):136===c?1===g?(c=35,g=4):0===g&&(c=34):17===c?1===g?(c=155,g=4):0===g&&(c=153):68===c?1===g?(c=103,g=4):0===g&&(c=102):153===c?1===g&&(c=155):102===c?1===g&&(c=103):152===c?g<2&&(c=156,g=1):137===c?g<2&&(c=139,g=1):98===c?g<2&&(c=99,g=1):38===c?g<2&&(c=39,g=1):18===c?g>0?(c=156,g=4):c=152:33===c?g>0?(c=139,g=4):c=137:72===c?g>0?(c=99,g=4):c=98:132===c&&(g>0?(c=39,g=4):c=38)}if(0!=c&&170!=c){var m,v,_,b,w,x,E,C;m=v=_=b=w=x=E=C=.5;var I=[];1===c?(_=1-fr(e,p,h),C=1-fr(e,l,h),I.push(Ss[c])):169===c?(_=fr(a,h,p),C=fr(a,h,l),I.push(Ss[c])):4===c?(x=1-fr(e,f,p),b=fr(e,h,p),I.push(Is[c])):166===c?(x=fr(a,p,f),b=1-fr(a,p,h),I.push(Is[c])):16===c?(w=fr(e,p,f),v=fr(e,l,f),I.push(Cs[c])):154===c?(w=1-fr(a,f,p),v=1-fr(a,f,l),I.push(Cs[c])):64===c?(E=fr(e,h,l),m=1-fr(e,f,l),I.push(Os[c])):106===c?(E=1-fr(a,l,h),m=fr(a,l,f),I.push(Os[c])):168===c?(b=fr(a,h,p),_=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),I.push(Ns[c]),I.push(Ss[c])):2===c?(b=1-fr(e,p,h),_=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),I.push(Ns[c]),I.push(Ss[c])):162===c?(w=fr(a,p,f),x=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),I.push(Ns[c]),I.push(Ss[c])):8===c?(w=1-fr(e,f,p),x=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),I.push(Cs[c]),I.push(Is[c])):138===c?(w=1-fr(e,f,p),x=1-fr(a,f,p),m=1-fr(a,f,l),v=1-fr(e,f,l),I.push(Cs[c]),I.push(Is[c])):32===c?(w=fr(a,p,f),x=fr(e,p,f),m=fr(e,l,f),v=fr(a,l,f),I.push(Cs[c]),I.push(Is[c])):42===c?(C=1-fr(a,l,h),E=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f),I.push(Ps[c]),I.push(Os[c])):128===c&&(C=fr(e,h,l),E=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l),I.push(Ps[c]),I.push(Os[c])),5===c?(x=1-fr(e,f,p),C=1-fr(e,l,h),I.push(Is[c])):165===c?(x=fr(a,p,f),C=fr(a,h,l),I.push(Is[c])):20===c?(b=fr(e,h,p),v=fr(e,l,f),I.push(Ns[c])):150===c?(b=1-fr(a,p,h),v=1-fr(a,f,l),I.push(Ns[c])):80===c?(w=fr(e,p,f),E=fr(e,h,l),I.push(Cs[c])):90===c?(w=1-fr(a,f,p),E=1-fr(a,l,h),I.push(Cs[c])):65===c?(_=1-fr(e,p,h),m=1-fr(e,f,l),I.push(Ss[c])):105===c?(_=fr(a,h,p),m=fr(a,l,f),I.push(Ss[c])):160===c?(w=fr(a,p,f),x=fr(e,p,f),C=fr(e,h,l),E=fr(a,h,l),I.push(Cs[c]),I.push(Is[c])):10===c?(w=1-fr(e,f,p),x=1-fr(a,f,p),C=1-fr(a,l,h),E=1-fr(e,l,h),I.push(Cs[c]),I.push(Is[c])):130===c?(b=1-fr(e,p,h),_=1-fr(a,p,h),m=1-fr(a,f,l),v=1-fr(e,f,l),I.push(Ns[c]),I.push(Ss[c])):40===c?(b=fr(a,h,p),_=fr(e,h,p),m=fr(e,l,f),v=fr(a,l,f),I.push(Ns[c]),I.push(Ss[c])):101===c?(x=fr(a,p,f),m=fr(a,l,f),I.push(Is[c])):69===c?(x=1-fr(e,f,p),m=1-fr(e,f,l),I.push(Is[c])):149===c?(C=fr(a,h,l),v=1-fr(a,f,l),I.push(Ps[c])):21===c?(C=1-fr(e,l,h),v=fr(e,l,f),I.push(Ps[c])):86===c?(b=1-fr(a,p,h),E=1-fr(a,l,h),I.push(Ns[c])):84===c?(b=fr(e,h,p),E=fr(e,h,l),I.push(Ns[c])):89===c?(w=1-fr(a,f,p),_=fr(a,h,p),I.push(Ss[c])):81===c?(w=fr(e,p,f),_=1-fr(e,p,h),I.push(Ss[c])):96===c?(w=fr(a,p,f),x=fr(e,p,f),E=fr(e,h,l),m=fr(a,l,f),I.push(Cs[c]),I.push(Is[c])):74===c?(w=1-fr(e,f,p),x=1-fr(a,f,p),E=1-fr(a,l,h),m=1-fr(e,f,l),I.push(Cs[c]),I.push(Is[c])):24===c?(w=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),v=fr(e,l,f),I.push(Cs[c]),I.push(Ss[c])):146===c?(w=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),v=1-fr(a,f,l),I.push(Cs[c]),I.push(Ss[c])):6===c?(x=1-fr(e,f,p),b=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),I.push(Is[c]),I.push(Ns[c])):164===c?(x=fr(a,p,f),b=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),I.push(Is[c]),I.push(Ns[c])):129===c?(_=1-fr(e,p,h),C=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l),I.push(Ss[c]),I.push(Ps[c])):41===c?(_=fr(a,h,p),C=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f),I.push(Ss[c]),I.push(Ps[c])):66===c?(b=1-fr(e,p,h),_=1-fr(a,p,h),E=1-fr(a,l,h),m=1-fr(e,f,l),I.push(Ns[c]),I.push(Ss[c])):104===c?(b=fr(a,h,p),_=fr(e,h,p),E=fr(e,h,l),m=fr(a,l,f),I.push(Ss[c]),I.push(Ms[c])):144===c?(w=fr(e,p,f),C=fr(e,h,l),E=fr(a,h,l),v=1-fr(a,f,l),I.push(Cs[c]),I.push(Os[c])):26===c?(w=1-fr(a,f,p),C=1-fr(a,l,h),E=1-fr(e,l,h),v=fr(e,l,f),I.push(Cs[c]),I.push(Os[c])):36===c?(x=fr(a,p,f),b=fr(e,h,p),m=fr(e,l,f),v=fr(a,l,f),I.push(Is[c]),I.push(Ns[c])):134===c?(x=1-fr(e,f,p),b=1-fr(a,p,h),m=1-fr(a,f,l),v=1-fr(e,f,l),I.push(Is[c]),I.push(Ns[c])):9===c?(w=1-fr(e,f,p),x=1-fr(a,f,p),_=fr(a,h,p),C=1-fr(e,l,h),I.push(Cs[c]),I.push(Is[c])):161===c?(w=fr(a,p,f),x=fr(e,p,f),_=1-fr(e,p,h),C=fr(a,h,l),I.push(Cs[c]),I.push(Is[c])):37===c?(x=fr(a,p,f),C=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f),I.push(Is[c]),I.push(Ps[c])):133===c?(x=1-fr(e,f,p),C=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l),I.push(Is[c]),I.push(Ps[c])):148===c?(b=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),v=1-fr(a,f,l),I.push(Ns[c]),I.push(Os[c])):22===c?(b=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),v=fr(e,l,f),I.push(Ns[c]),I.push(Os[c])):82===c?(w=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),E=1-fr(a,l,h),I.push(Cs[c]),I.push(Ss[c])):88===c?(w=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),E=fr(e,h,l),I.push(Cs[c]),I.push(Ss[c])):73===c?(w=1-fr(e,f,p),x=1-fr(a,f,p),_=fr(a,h,p),m=1-fr(e,f,l),I.push(Cs[c]),I.push(Is[c])):97===c?(w=fr(a,p,f),x=fr(e,p,f),_=1-fr(e,p,h),m=fr(a,l,f),I.push(Cs[c]),I.push(Is[c])):145===c?(w=fr(e,p,f),_=1-fr(e,p,h),C=fr(a,h,l),v=1-fr(a,f,l),I.push(Cs[c]),I.push(Ps[c])):25===c?(w=1-fr(a,f,p),_=fr(a,h,p),C=1-fr(e,l,h),v=fr(e,l,f),I.push(Cs[c]),I.push(Ps[c])):70===c?(x=1-fr(e,f,p),b=1-fr(a,p,h),E=1-fr(a,l,h),m=1-fr(e,f,l),I.push(Is[c]),I.push(Ns[c])):100===c?(x=fr(a,p,f),b=fr(e,h,p),E=fr(e,h,l),m=fr(a,l,f),I.push(Is[c]),I.push(Ns[c])):34===c?(0===g?(w=1-fr(e,f,p),x=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)):(w=fr(a,p,f),x=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)),I.push(Cs[c]),I.push(Is[c]),I.push(Ps[c]),I.push(Os[c])):35===c?(4===g?(w=1-fr(e,f,p),x=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)):(w=fr(a,p,f),x=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)),I.push(Cs[c]),I.push(Is[c]),I.push(Ss[c]),I.push(Os[c])):136===c?(0===g?(w=fr(a,p,f),x=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)):(w=1-fr(e,f,p),x=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)),I.push(Cs[c]),I.push(Is[c]),I.push(Ps[c]),I.push(Os[c])):153===c?(0===g?(w=fr(e,p,f),_=1-fr(e,p,h),C=1-fr(e,l,h),v=fr(e,l,f)):(w=1-fr(a,f,p),_=fr(a,h,p),C=fr(a,h,l),v=1-fr(a,f,l)),I.push(Cs[c]),I.push(Ss[c])):102===c?(0===g?(x=1-fr(e,f,p),b=fr(e,h,p),E=fr(e,h,l),m=1-fr(e,f,l)):(x=fr(a,p,f),b=1-fr(a,p,h),E=1-fr(a,l,h),m=fr(a,l,f)),I.push(Is[c]),I.push(Os[c])):155===c?(4===g?(w=fr(e,p,f),_=1-fr(e,p,h),C=1-fr(e,l,h),v=fr(e,l,f)):(w=1-fr(a,f,p),_=fr(a,h,p),C=fr(a,h,l),v=1-fr(a,f,l)),I.push(Cs[c]),I.push(Ps[c])):103===c?(4===g?(x=1-fr(e,f,p),b=fr(e,h,p),E=fr(e,h,l),m=1-fr(e,f,l)):(x=fr(a,p,f),b=1-fr(a,p,h),E=1-fr(a,l,h),m=fr(a,l,f)),I.push(Is[c]),I.push(Ns[c])):152===c?(0===g?(w=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),v=fr(e,l,f)):(w=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),v=1-fr(a,f,l)),I.push(Cs[c]),I.push(Ns[c]),I.push(Ss[c])):156===c?(4===g?(w=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),v=fr(e,l,f)):(w=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),v=1-fr(a,f,l)),I.push(Cs[c]),I.push(Ss[c]),I.push(Os[c])):137===c?(0===g?(w=fr(a,p,f),x=fr(e,p,f),_=1-fr(e,p,h),C=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)):(w=1-fr(e,f,p),x=1-fr(a,f,p),_=fr(a,h,p),C=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)),I.push(Cs[c]),I.push(Is[c]),I.push(Ss[c])):139===c?(4===g?(w=fr(a,p,f),x=fr(e,p,f),_=1-fr(e,p,h),C=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)):(w=1-fr(e,f,p),x=1-fr(a,f,p),_=fr(a,h,p),C=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)),I.push(Cs[c]),I.push(Is[c]),I.push(Ps[c])):98===c?(0===g?(w=1-fr(e,f,p),x=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),E=fr(e,h,l),m=1-fr(e,f,l)):(w=fr(a,p,f),x=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),E=1-fr(a,l,h),m=fr(a,l,f)),I.push(Cs[c]),I.push(Is[c]),I.push(Os[c])):99===c?(4===g?(w=1-fr(e,f,p),x=1-fr(a,f,p),b=fr(a,h,p),_=fr(e,h,p),E=fr(e,h,l),m=1-fr(e,f,l)):(w=fr(a,p,f),x=fr(e,p,f),b=1-fr(e,p,h),_=1-fr(a,p,h),E=1-fr(a,l,h),m=fr(a,l,f)),I.push(Cs[c]),I.push(Is[c]),I.push(Ss[c])):38===c?(0===g?(x=1-fr(e,f,p),b=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)):(x=fr(a,p,f),b=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)),I.push(Is[c]),I.push(Ps[c]),I.push(Os[c])):39===c?(4===g?(x=1-fr(e,f,p),b=fr(e,h,p),C=fr(e,h,l),E=fr(a,h,l),m=1-fr(a,f,l),v=1-fr(e,f,l)):(x=fr(a,p,f),b=1-fr(a,p,h),C=1-fr(a,l,h),E=1-fr(e,l,h),m=fr(e,l,f),v=fr(a,l,f)),I.push(Is[c]),I.push(Ns[c]),I.push(Os[c])):85===c&&(w=1,x=0,b=1,_=0,C=0,E=1,m=0,v=1),(m<0||m>1||v<0||v>1||w<0||w>1||b<0||b>1||C<0||C>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+c+" "+d+" "+l+","+f+","+p+","+h+" "+g+" "+m+" "+v+" "+w+" "+x+" "+b+" "+_+" "+C+" "+E),i.cells[s][u]={cval:c,cval_real:d,flipped:g,topleft:m,topright:v,righttop:w,rightbottom:x,bottomright:b,bottomleft:_,leftbottom:C,lefttop:E,edges:I}}}}}return i}(t,e,n);return Ua.polygons?(Ua.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach(function(t,r){t.forEach(function(t,o){if(void 0!==t){var i=Ts[t.cval](t);"object"==typeof i&&pr(i)?"object"==typeof i[0]&&pr(i[0])?"object"==typeof i[0][0]&&pr(i[0][0])?i.forEach(function(t){t.forEach(function(t){t[0]+=o,t[1]+=r}),e[n++]=t}):(i.forEach(function(t){t[0]+=o,t[1]+=r}),e[n++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(c)):(Ua.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,o=[],i=0;i<n;i++)for(var a=0;a<r;a++)if(void 0!==t.cells[i][a]&&t.cells[i][a].edges.length>0){var s=t.cells[i][a],u=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Ga?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Va?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Va?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Ya?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Ga?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Va?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Va?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Ya?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Va?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Ya?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Ya?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&za?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Va?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Ya?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Ya?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&za?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Va?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&za?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Ya?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&za?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&za?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Ga?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&za?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Ga?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(s),c=null,l=a,f=i;null!==u&&o.push([u.p[0]+l,u.p[1]+f]);do{if(null===(c=function(t,e,n,r){var o,i,a,s,u,c=t.cval;switch(e){case-1:switch(r){case 0:o=Is[c],a=es[c],s=ns[c],u=rs[c];break;default:o=Cs[c],a=Za[c],s=$a[c],u=ts[c]}break;case 1:switch(r){case 0:o=Ps[c],a=hs[c],s=ds[c],u=gs[c];break;default:o=Os[c],a=ls[c],s=fs[c],u=ps[c]}break;default:switch(n){case-1:switch(r){case 0:o=Ms[c],a=Xa[c],s=Ha[c],u=Wa[c];break;default:o=Ls[c],a=Ka[c],s=Ja[c],u=Qa[c]}break;case 1:switch(r){case 0:o=Ss[c],a=os[c],s=is[c],u=as[c];break;default:o=Ns[c],a=ss[c],s=us[c],u=cs[c]}}}if(i=t.edges.indexOf(o),void 0===t.edges[i])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,i),c=t.cval_real,o){case 0:c&Ga?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:c&Va?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:c&Va?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:c&Ya?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:c&Ga?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:c&Va?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:c&Va?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:c&Ya?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:c&Va?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:c&Ya?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:c&Ya?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:c&za?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:c&Va?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:c&Ya?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:c&Ya?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:c&za?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:c&Va?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:c&za?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:c&Ya?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:c&za?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:c&za?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:c&Ga?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:c&za?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:c&Ga?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+u)),{p:[e,n],x:a,y:s,o:u}}(t.cells[f][l],u.x,u.y,u.o)))break;if(o.push([c.p[0]+l,c.p[1]+f]),l+=c.x,f+=c.y,u=c,f<0||f>=n||l<0||l>=r||void 0===t.cells[f][l]){l-=c.x,f-=c.y;var p=function(t,e,n,r,o,i){for(var a=t.cells[n][e],s=a.cval_real,u=e+r,c=n+o,l=[],f=!1;!f;){if(void 0===t.cells[c]||void 0===t.cells[c][u])if(c-=o,u-=r,a=t.cells[c][u],s=a.cval_real,-1===o)if(0===i)if(s&Ya)l.push([u,c]),r=-1,o=0,i=0;else{if(!(s&Va)){l.push([u+a.bottomright,c]),r=0,o=1,i=1,f=!0;break}l.push([u+1,c]),r=1,o=0,i=0}else{if(!(s&Ya)){if(s&Va){l.push([u+a.bottomright,c]),r=0,o=1,i=1,f=!0;break}l.push([u+a.bottomleft,c]),r=0,o=1,i=0,f=!0;break}l.push([u,c]),r=-1,o=0,i=0}else if(1===o)if(0===i){if(!(s&Ga)){if(s&za){l.push([u+a.topleft,c+1]),r=0,o=-1,i=0,f=!0;break}l.push([u+a.topright,c+1]),r=0,o=-1,i=1,f=!0;break}l.push([u+1,c+1]),r=1,o=0,i=1}else l.push([u+1,c+1]),r=1,o=0,i=1;else if(-1===r)if(0===i){if(!(s&za)){if(s&Ya){l.push([u,c+a.leftbottom]),r=1,o=0,i=0,f=!0;break}l.push([u,c+a.lefttop]),r=1,o=0,i=1,f=!0;break}l.push([u,c+1]),r=0,o=1,i=0}else{if(!(s&za)){console.log("MarchingSquaresJS-isoBands: wtf");break}l.push([u,c+1]),r=0,o=1,i=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===i){if(!(s&Va)){l.push([u+1,c+a.rightbottom]),r=-1,o=0,i=0,f=!0;break}l.push([u+1,c]),r=0,o=-1,i=1}else{if(!(s&Va)){if(s&Ga){l.push([u+1,c+a.righttop]),r=-1,o=0,i=1;break}l.push([u+1,c+a.rightbottom]),r=-1,o=0,i=0,f=!0;break}l.push([u+1,c]),r=0,o=-1,i=1}}else if(a=t.cells[c][u],s=a.cval_real,-1===r)if(0===i)if(void 0!==t.cells[c-1]&&void 0!==t.cells[c-1][u])r=0,o=-1,i=1;else{if(!(s&Ya)){l.push([u+a.bottomright,c]),r=0,o=1,i=1,f=!0;break}l.push([u,c])}else{if(!(s&za)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+c);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c+1]&&void 0!==t.cells[c+1][u])r=0,o=1,i=0;else{if(!(s&Ga)){l.push([u+a.topleft,c+1]),r=0,o=-1,i=0,f=!0;break}l.push([u+1,c+1]),r=1,o=0,i=1}}else if(-1===o){if(1!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c][u+1])r=1,o=0,i=1;else{if(!(s&Va)){l.push([u+1,c+a.righttop]),r=-1,o=0,i=1,f=!0;break}l.push([u+1,c]),r=0,o=-1,i=1}}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c][u-1])r=-1,o=0,i=0;else{if(!(s&za)){l.push([u,c+a.leftbottom]),r=1,o=0,i=0,f=!0;break}l.push([u,c+1]),r=0,o=1,i=0}}if(u+=r,c+=o,u===e&&c===n)break}return{path:l,i:u,j:c,x:r,y:o,o:i}}(t,l,f,c.x,c.y,c.o);if(null===p)break;p.path.forEach(function(t){o.push(t)}),l=p.i,f=p.j,u=p}}while(void 0!==t.cells[f][l]&&t.cells[f][l].edges.length>0);e.push(o),o=[],t.cells[i][a].edges.length>0&&a--}return e}(c)),"function"==typeof Ua.successCallback&&Ua.successCallback(u),u}function fr(t,e,n){return(t-e)/(n-e)}function pr(t){return t.constructor.toString().indexOf("Array")>-1}function hr(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.pivot,o=n.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e?t:(r||(r=ye(t)),!1!==o&&void 0!==o||(t=jt(t)),S(t,function(t){var n=an(r,t)+e,o=un(r,t),i=V(nr(r,o,n));t[0]=i[0],t[1]=i[1]}),t)}function dr(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.origin,o=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var i=Array.isArray(r)||"object"==typeof r;return!0!==o&&(t=jt(t)),"FeatureCollection"!==t.type||i?gr(t,e,r):(L(t,function(n,o){t.features[o]=gr(n,e,r)}),t)}function gr(t,e,n){var o="Point"===Q(t);return n=function(t,e){if(void 0!==e&&null!==e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return G(e);var n=t.bbox?t.bbox:z(t),o=n[0],i=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([o,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([a,i]);case"nw":case"northwest":case"westnorth":case"topleft":return r([o,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([a,s]);case"center":return ge(t);case void 0:case null:case"centroid":return ye(t);default:throw new Error("invalid origin")}}(t,n),1===e||o?t:(S(t,function(t){var r=un(n,t),o=an(n,t),i=V(nr(n,r*e,o));t[0]=i[0],t[1]=i[1],3===t.length&&(t[2]*=e)}),t)}function yr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function mr(t,e){return t[0]*e[1]-e[0]*t[1]}function vr(t,e){return!function(t,e){return 0===mr(yr(t),yr(e))}(t,e)&&function(t,e){var n=t[0],r=yr(t),o=e[0],i=yr(e),a=mr(r,i);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(mr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(o,n),i)/a,r))}(t,e)}function _r(t,e,n){var r=[],o=m(e,n),i=V(t),a=[];return i.forEach(function(t,e){if(e!==i.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),o=t[0]+n*(e[1]-t[1])/r,i=e[0]+n*(e[1]-t[1])/r;return[[o,t[1]+n*(t[0]-e[0])/r],[i,e[1]+n*(t[0]-e[0])/r]]}(t,i[e+1],o);if(r.push(n),e>0){var s=r[e-1],u=vr(n,s);!1!==u&&(s[1]=u,n[0]=u),a.push(s[0]),e===i.length-2&&(a.push(n[0]),a.push(n[1]))}2===i.length&&(a.push(n[0]),a.push(n[1]))}}),s(a,t.properties)}function br(t,e,n){var r=e[0]-t[0],o=e[1]-t[1],i=n[0]-e[0],a=n[1]-e[1];return Math.sign(r*a-i*o)}function wr(t,e){return e.geometry.coordinates[0].every(function(e){return Mt(r(e),t)})}function xr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],o=n[1]-t[1],i=e[0]-t[0],a=e[1]-t[1];return r*a-o*i==0&&(Math.abs(i)>=Math.abs(a)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function Er(t,e){return nn(e,qn(t)).features.length>0}function Cr(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function Ir(t,e){return t[0]===e[0]&&t[1]===e[1]}function Nr(t,e){for(var n=!1,r=!1,o=t.coordinates.length,i=0;i<o&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),Or(e.coordinates[a],e.coordinates[a+1],t.coordinates[i],s)?n=!0:r=!0}i++}return n&&r}function Sr(t,e){return nn(t,qn(e)).features.length>0}function Pr(t,e){for(var n=!1,o=!1,i=t.coordinates[0].length,a=0;a<i&&n&&o;)Mt(r(t.coordinates[0][a]),e)?n=!0:o=!0,a++;return o&&o}function Or(t,e,n,r){var o=n[0]-t[0],i=n[1]-t[1],a=e[0]-t[0],s=e[1]-t[1];return 0==o*s-i*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(a)>=Math.abs(s)?a>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:s>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Mr(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function Lr(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Tr(t,e){return qs(t,e,{strict:!0})}function Rr(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Q(t);if(n!==Q(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new zs({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var o=R(t),i=R(e);o.forEach(function(t){i.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&r++})});break;case"LineString":case"MultiLineString":j(t,function(t){j(e,function(e){$n(t,e).features.length&&r++})});break;case"Polygon":case"MultiPolygon":j(t,function(t){j(e,function(e){nn(t,e).features.length&&r++})})}return r>0}function Ar(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function kr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Dr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Fr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,o=t[n];r<o.length;r++){var i=new jr(n,r,o[r]);this.grid[n][r]=i,this.nodes.push(i)}}this.init()}function jr(t,e,n){this.x=t,this.y=e,this.weight=n}function Br(t){this.content=[],this.scoreFunction=t}function qr(t){return t[0]}function Ur(t){return t[1]}function zr(){this._=null}function Gr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Vr(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Yr(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Xr(t){for(;t.L;)t=t.L;return t}function Hr(t,e,n,r){var o=[null,null],i=su.push(o)-1;return o.left=t,o.right=e,n&&Kr(o,t,e,n),r&&Kr(o,e,t,r),iu[t.index].halfedges.push(i),iu[e.index].halfedges.push(i),o}function Wr(t,e,n){var r=[e,n];return r.left=t,r}function Kr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Jr(t,e,n,r,o){var i,a=t[0],s=t[1],u=a[0],c=a[1],l=0,f=1,p=s[0]-u,h=s[1]-c;if(i=e-u,p||!(i>0)){if(i/=p,p<0){if(i<l)return;i<f&&(f=i)}else if(p>0){if(i>f)return;i>l&&(l=i)}if(i=r-u,p||!(i<0)){if(i/=p,p<0){if(i>f)return;i>l&&(l=i)}else if(p>0){if(i<l)return;i<f&&(f=i)}if(i=n-c,h||!(i>0)){if(i/=h,h<0){if(i<l)return;i<f&&(f=i)}else if(h>0){if(i>f)return;i>l&&(l=i)}if(i=o-c,h||!(i<0)){if(i/=h,h<0){if(i>f)return;i>l&&(l=i)}else if(h>0){if(i<l)return;i<f&&(f=i)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*p,c+l*h]),f<1&&(t[1]=[u+f*p,c+f*h]),!0)}}}}}function Qr(t,e,n,r,o){var i=t[1];if(i)return!0;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],p=c[1],h=l[0],d=l[1],g=(f+h)/2,y=(p+d)/2;if(d===p){if(g<e||g>=r)return;if(f>h){if(u){if(u[1]>=o)return}else u=[g,n];i=[g,o]}else{if(u){if(u[1]<n)return}else u=[g,o];i=[g,n]}}else if(a=(f-h)/(d-p),s=y-a*g,a<-1||a>1)if(f>h){if(u){if(u[1]>=o)return}else u=[(n-s)/a,n];i=[(o-s)/a,o]}else{if(u){if(u[1]<n)return}else u=[(o-s)/a,o];i=[(n-s)/a,n]}else if(p<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];i=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];i=[e,a*e+s]}return t[0]=u,t[1]=i,!0}function Zr(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function $r(t,e){return e[+(e.left!==t.site)]}function to(t,e){return e[+(e.left===t.site)]}function eo(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o[0],s=o[1],u=r[0]-a,c=r[1]-s,l=i[0]-a,f=i[1]-s,p=2*(u*f-c*l);if(!(p>=-fu)){var h=u*u+c*c,d=l*l+f*f,g=(f*h-c*d)/p,y=(u*d-l*h)/p,m=uu.pop()||new function(){Gr(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=o,m.x=g+a,m.y=(m.cy=y+s)+Math.sqrt(g*g+y*y),t.circle=m;for(var v=null,_=au._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}au.insert(v,m),v||(ru=m)}}}}function no(t){var e=t.circle;e&&(e.P||(ru=e.N),au.remove(e),uu.push(e),Gr(e),t.circle=null)}function ro(t){var e=cu.pop()||new function(){Gr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function oo(t){no(t),ou.remove(t),cu.push(t),Gr(t)}function io(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],i=t.P,a=t.N,s=[t];oo(t);for(var u=i;u.circle&&Math.abs(n-u.circle.x)<lu&&Math.abs(r-u.circle.cy)<lu;)i=u.P,s.unshift(u),oo(u),u=i;s.unshift(u),no(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<lu&&Math.abs(r-c.circle.cy)<lu;)a=c.N,s.push(c),oo(c),c=a;s.push(c),no(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],Kr(c.edge,u.site,c.site,o);u=s[0],(c=s[f-1]).edge=Hr(u.site,c.site,null,o),eo(u),eo(c)}function ao(t){for(var e,n,r,o,i=t[0],a=t[1],s=ou._;s;)if((r=so(s,a)-i)>lu)s=s.L;else{if(!((o=i-function(t,e){var n=t.N;if(n)return so(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>lu)){r>-lu?(e=s.P,n=s):o>-lu?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){iu[t.index]={site:t,halfedges:[]}}(t);var u=ro(t);if(ou.insert(e,u),e||n){if(e===n)return no(e),n=ro(e.site),ou.insert(u,n),u.edge=n.edge=Hr(e.site,u.site),eo(e),void eo(n);if(n){no(e),no(n);var c=e.site,l=c[0],f=c[1],p=t[0]-l,h=t[1]-f,d=n.site,g=d[0]-l,y=d[1]-f,m=2*(p*y-h*g),v=p*p+h*h,_=g*g+y*y,b=[(y*v-h*_)/m+l,(p*_-g*v)/m+f];Kr(n.edge,c,d,b),u.edge=Hr(c,t,null,b),n.edge=Hr(t,d,null,b),eo(e),eo(n)}else u.edge=Hr(e.site,u.site)}}function so(t,e){var n=t.site,r=n[0],o=n[1],i=o-e;if(!i)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/i-1/c,p=l/c;return f?(-p+Math.sqrt(p*p-2*f*(l*l/(-2*c)-u+c/2+o-i/2)))/f+r:(r+s)/2}function uo(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function co(t,e){return e[1]-t[1]||e[0]-t[0]}function lo(t,e){var n,r,o,i=t.sort(co).pop();for(su=[],iu=new Array(t.length),ou=new zr,au=new zr;;)if(o=ru,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===n&&i[1]===r||(ao(i),n=i[0],r=i[1]),i=t.pop();else{if(!o)break;io(o.arc)}if(function(){for(var t,e,n,r,o=0,i=iu.length;o<i;++o)if((t=iu[o])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Zr(t,su[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var o,i=su.length;i--;)Qr(o=su[i],t,e,n,r)&&Jr(o,t,e,n,r)&&(Math.abs(o[0][0]-o[1][0])>lu||Math.abs(o[0][1]-o[1][1])>lu)||delete su[i]}(a,s,u,c),function(t,e,n,r){var o,i,a,s,u,c,l,f,p,h,d,g,y=iu.length,m=!0;for(o=0;o<y;++o)if(i=iu[o]){for(a=i.site,s=(u=i.halfedges).length;s--;)su[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)d=(h=to(i,su[u[s]]))[0],g=h[1],f=(l=$r(i,su[u[++s%c]]))[0],p=l[1],(Math.abs(d-f)>lu||Math.abs(g-p)>lu)&&(u.splice(s,0,su.push(Wr(a,h,Math.abs(d-t)<lu&&r-g>lu?[t,Math.abs(f-t)<lu?p:r]:Math.abs(g-r)<lu&&n-d>lu?[Math.abs(p-r)<lu?f:n,r]:Math.abs(d-n)<lu&&g-e>lu?[n,Math.abs(f-n)<lu?p:e]:Math.abs(g-e)<lu&&d-t>lu?[Math.abs(p-e)<lu?f:t,e]:null))-1),++c);c&&(m=!1)}if(m){var v,_,b,w=1/0;for(o=0,m=null;o<y;++o)(i=iu[o])&&(b=(v=(a=i.site)[0]-t)*v+(_=a[1]-e)*_)<w&&(w=b,m=i);if(m){var x=[t,e],E=[t,r],C=[n,r],I=[n,e];m.halfedges.push(su.push(Wr(a=m.site,x,E))-1,su.push(Wr(a,E,C))-1,su.push(Wr(a,C,I))-1,su.push(Wr(a,I,x))-1)}}for(o=0;o<y;++o)(i=iu[o])&&(i.halfedges.length||delete iu[o])}(a,s,u,c)}this.edges=su,this.cells=iu,ou=au=su=iu=null}function fo(t){return(t=t.slice()).push(t[0]),i([t])}function po(t,e,n,r){var o=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,u=r.pivot||t,c=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!E(o))throw new Error("steps must be a number");if(!E(s))throw new Error("angle must be a number");var l=G(t);if("degrees"===a)var f=b(s);else e=nr(t,e,90,{units:a}),n=nr(t,n,0,{units:a}),e=G(e)[0]-l[0],n=G(n)[1]-l[1];for(var p=[],h=0;h<o;h+=1){var d=-360*h/o,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(ho(d),2)),y=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(ho(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(y=-y),"degrees"===a){var m=g*Math.cos(f)+y*Math.sin(f),v=y*Math.cos(f)-g*Math.sin(f);g=m,y=v}p.push([g+l[0],y+l[1]])}return p.push(p[0]),"degrees"===a?i([p],c):hr(i([p],c),s,{pivot:u})}function ho(t){var e=t*Math.PI/180;return Math.tan(e)}function go(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties,o=e.weight;if(!t)throw new Error("geojson is required");var i=0,a=0,s=0;return A(t,function(t,e,n){var r=n[o];if(r=void 0===r||null===r?1:r,!E(r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&S(t,function(t){i+=t[0]*r,a+=t[1]*r,s+=r})}),r([i/s,a/s],n)}function yo(t,e,n,o){var i=n.properties.tolerance||.001,a=0,s=0,u=0,c=0;if(L(n,function(e){var n=e.properties.weight,r=void 0===n||null===n?1:n;if(r=Number(r),!E(r))throw new Error("weight value must be a number");if(r>0){c+=1;var o=r*Ft(e,t);0===o&&(o=1);var i=r/o;a+=e.geometry.coordinates[0]*i,s+=e.geometry.coordinates[1]*i,u+=i}}),c<1)throw new Error("no features to measure");var l=a/u,f=s/u;return 1===c||0===o||Math.abs(l-e[0])<i&&Math.abs(f-e[1])<i?r([l,f],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([l,f]),yo([l,f],t,n,o-1))}function mo(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function vo(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*xo(),180*xo()]}function _o(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var o=[],i=0;i<t;i++)o.push(r(vo(n)));return c(o)}function bo(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,o=e.max_radial_length;void 0!==t&&null!==t||(t=1),E(r)||(r=10),E(o)||(o=10);for(var a=[],s=0;s<t;s++){var u=[],l=Array.apply(null,new Array(r+1)).map(Math.random);l.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),l.forEach(function(t){t=2*t*Math.PI/l[l.length-1];var e=Math.random();u.push([e*o*Math.sin(t),e*o*Math.cos(t)])}),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(vo(n))),a.push(i([u]))}return c(a)}function wo(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,o=e.max_length,i=e.max_rotation;void 0!==t&&null!==t||(t=1),(!E(r)||r<2)&&(r=10),E(o)||(o=1e-4),E(i)||(i=Math.PI/8);for(var a=[],u=0;u<t;u++){for(var l=[vo(n)],f=0;f<r-1;f++){var p=(0===f?2*Math.random()*Math.PI:Math.tan((l[f][1]-l[f-1][1])/(l[f][0]-l[f-1][0])))+(Math.random()-.5)*i*2,h=Math.random()*o;l.push([l[f][0]+h*Math.cos(p),l[f][1]+h*Math.sin(p)])}a.push(s(l))}return c(a)}function xo(){return Math.random()-.5}function Eo(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var n=[];return L(t,function(t){So(t.properties,e)&&n.push(t)}),c(n)}function Co(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var r=No(t,e),o=Object.keys(r),i=0;i<o.length;i++){for(var a=o[i],s=r[a],u=[],l=0;l<s.length;l++)u.push(t.features[s[l]]);n(c(u),a,i)}}function Io(t,e,n,r){var o=r;return Co(t,e,function(t,e,i){o=0===i&&void 0===r?t:n(o,t,e,i)}),o}function No(t,e){var n={};return L(t,function(t,r){var o=t.properties||{};if(o.hasOwnProperty(e)){var i=o[e];n.hasOwnProperty(i)?n[i].push(r):n[i]=[r]}}),n}function So(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!So(t,e[r]))return!1;return!0}return Po(t,e)}function Po(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];if(t[o]!==e[o])return!1}return!0}function Oo(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var o=e[r];t.hasOwnProperty(o)&&(n[o]=t[o])}return n}function Mo(){}function Lo(t){this.message=t||""}function To(t){this.message=t||""}function Ro(){}function Ao(t){return null===t?Rc:t.color}function ko(t){return null===t?null:t.parent}function Do(t,e){null!==t&&(t.color=e)}function Fo(t){return null===t?null:t.left}function jo(t){return null===t?null:t.right}function Bo(){this.root_=null,this.size_=0}function qo(){}function Uo(){this.array_=[],arguments[0]instanceof vc&&this.addAll(arguments[0])}function zo(){}function Go(t){this.message=t||""}function Vo(){this.array_=[]}function Yo(t){switch(t.type){case"Polygon":return vn(t)>1?t:null;case"MultiPolygon":var e=[];if(D(t,function(t){vn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Xo(){this.reset()}function Ho(t,e,n){var r=t.s=e+n,o=r-e,i=r-o;t.t=e-i+(n-o)}function Wo(t){return t>1?Bh:t<-1?-Bh:Math.asin(t)}function Ko(){}function Jo(t,e){t&&td.hasOwnProperty(t.type)&&td[t.type](t,e)}function Qo(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function Zo(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Qo(t[n],e,1);e.polygonEnd()}function $o(t){return[Xh(t[1],t[0]),Wo(t[2])]}function ti(t){var e=t[0],n=t[1],r=Hh(n);return[r*Hh(e),r*Jh(e),Jh(n)]}function ei(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ni(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ri(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function oi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ii(t){var e=Qh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ai(t,e){return[t>jh?t-Uh:t<-jh?t+Uh:t,e]}function si(t,e,n){return(t%=Uh)?e||n?nd(ci(t),li(e,n)):ci(t):e||n?li(e,n):ai}function ui(t){return function(e,n){return e+=t,[e>jh?e-Uh:e<-jh?e+Uh:e,n]}}function ci(t){var e=ui(t);return e.invert=ui(-t),e}function li(t,e){function n(t,e){var n=Hh(e),s=Hh(t)*n,u=Jh(t)*n,c=Jh(e),l=c*r+s*o;return[Xh(u*i-l*a,s*r-c*o),Wo(l*i+u*a)]}var r=Hh(t),o=Jh(t),i=Hh(e),a=Jh(e);return n.invert=function(t,e){var n=Hh(e),s=Hh(t)*n,u=Jh(t)*n,c=Jh(e),l=c*i-u*a;return[Xh(u*i+c*a,s*r+l*o),Wo(l*r-s*o)]},n}function fi(t,e){(e=ti(e))[0]-=t,ii(e);var n=function(t){return t>1?0:t<-1?jh:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Uh-Fh)%Uh}function pi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function hi(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function di(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,s,c){var l=0,f=0;if(null==o||(l=a(o,s))!==(f=a(i,s))||u(o,i)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(i[0],i[1])}function a(r,o){return Vh(r[0]-t)<Fh?o>0?0:3:Vh(r[0]-n)<Fh?o>0?2:1:Vh(r[1]-e)<Fh?o>0?1:0:o>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){o(t,e)&&w.point(t,e)}function c(i,a){var s=o(i,a);if(f&&p.push([i,a]),_)h=i,d=a,g=s,_=!1,s&&(w.lineStart(),w.point(i,a));else if(s&&v)w.point(i,a);else{var u=[y=Math.max(fd,Math.min(ld,y)),m=Math.max(fd,Math.min(ld,m))],c=[i=Math.max(fd,Math.min(ld,i)),a=Math.max(fd,Math.min(ld,a))];id(u,c,t,e,n,r)?(v||(w.lineStart(),w.point(u[0],u[1])),w.point(c[0],c[1]),s||w.lineEnd(),b=!1):s&&(w.lineStart(),w.point(i,a),b=!1)}y=i,m=a,v=s}var l,f,p,h,d,g,y,m,v,_,b,w=a,x=od(),E={point:u,lineStart:function(){E.point=c,f&&f.push(p=[]),_=!0,v=!1,y=m=NaN},lineEnd:function(){l&&(c(h,d),g&&v&&x.rejoin(),l.push(x.result())),E.point=u,v&&w.lineEnd()},polygonStart:function(){w=x,l=[],f=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=f.length;n<o;++n)for(var i,a,s=f[n],u=1,c=s.length,l=s[0],p=l[0],h=l[1];u<c;++u)i=p,a=h,p=(l=s[u])[0],h=l[1],a<=r?h>r&&(p-i)*(r-a)>(h-a)*(t-i)&&++e:h<=r&&(p-i)*(r-a)<(h-a)*(t-i)&&--e;return e}(),n=b&&e,o=(l=cd(l)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&sd(l,s,e,i,a),a.polygonEnd()),w=a,l=f=p=null}};return E}}function gi(t){return t.length>1}function yi(t,e){return((t=t.x)[0]<0?t[1]-Bh-Fh:Bh-t[1])-((e=e.x)[0]<0?e[1]-Bh-Fh:Bh-e[1])}function mi(t){return function(e){var n=new vi;for(var r in t)n[r]=t[r];return n.stream=e,n}}function vi(){}function _i(t,e,n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),ed(n,t.stream(vd));var a=vd.result(),s=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&t.clipExtent(i),t.scale(150*s).translate([u,c])}function bi(t){return function(t){function e(t){return t=c(t[0]*Gh,t[1]*Gh),[t[0]*g+a,s-t[1]*g]}function n(t,e){return t=i(t,e),[t[0]*g+a,s-t[1]*g]}function r(){c=nd(u=si(b,w,x),i);var t=i(v,_);return a=y-t[0]*g,s=m+t[1]*g,o()}function o(){return h=d=null,e}var i,a,s,u,c,l,f,p,h,d,g=150,y=480,m=250,v=0,_=0,b=0,w=0,x=0,E=null,C=bd,I=null,N=hd,S=.5,P=Cd(n,S);return e.stream=function(t){return h&&d===t?h:h=Id(C(u,P(N(d=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?wd(E=t*Gh,6*Gh):(E=null,bd),o()):E*zh},e.clipExtent=function(t){return arguments.length?(N=null==t?(I=l=f=p=null,hd):di(I=+t[0][0],l=+t[0][1],f=+t[1][0],p=+t[1][1]),o()):null==I?null:[[I,l],[f,p]]},e.scale=function(t){return arguments.length?(g=+t,r()):g},e.translate=function(t){return arguments.length?(y=+t[0],m=+t[1],r()):[y,m]},e.center=function(t){return arguments.length?(v=t[0]%360*Gh,_=t[1]%360*Gh,r()):[v*zh,_*zh]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Gh,w=t[1]%360*Gh,x=t.length>2?t[2]%360*Gh:0,r()):[b*zh,w*zh,x*zh]},e.precision=function(t){return arguments.length?(P=Cd(n,S=t*t),o()):Qh(S)},e.fitExtent=function(t,n){return _i(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return _i(t,[[0,0],e],n)}(e,t,n)},function(){return i=t.apply(this,arguments),e.invert=i.invert&&function(t){return(t=c.invert((t[0]-a)/g,(s-t[1])/g))&&[t[0]*zh,t[1]*zh]},r()}}(function(){return t})()}function wi(t,e){return[t,Kh(Zh((Bh+e)/2))]}function xi(t,e){return[Kh(Zh((Bh+e)/2)),-t]}function Ei(t,n,r,o){var i=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return A(t,function(t){var e=Ei(t,n,r,o);e&&s.push(e)}),c(s)}var u,l=z(t),f=l[1]>50&&l[3]>50;u=f?{type:a.type,coordinates:Ii(a.coordinates,Si(a))}:cn(a);var p=(new xl).read(u),h=g(y(n,r),"meters"),d=dp.bufferOp(p,h);if(d=(new El).write(d),!Ci(d.coordinates)){var m;return(m=f?{type:d.type,coordinates:Ni(d.coordinates,Si(a))}:ln(d)).geometry?m:e(m,i)}}function Ci(t){return Array.isArray(t[0])?Ci(t[0]):isNaN(t[0])}function Ii(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return Ii(t,e)})}function Ni(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return Ni(t,e)})}function Si(t){var e=ge(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return Nd().center(e).rotate(n).scale(Di)}function Pi(){for(var t=new xl,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=Ah.union(e,t.read(JSON.stringify(arguments[n].geometry)));return e=(new El).write(e),{type:"Feature",geometry:e,properties:arguments[0].properties}}function Oi(t,n){var r=K(t),o=K(n);if(te(Mn(o,{precision:4})).coordinates[0].length<4)return null;if(te(Mn(r,{precision:4})).coordinates[0].length<4)return null;var i=new xl,a=i.read(Mn(r)),s=i.read(Mn(o)),u=Ih.intersection(a,s);return u.isEmpty()?null:e((new El).write(u))}function Mi(t,e){return function(t,e,n){var r,o;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,i){var a=n(e,t);a>=0&&(void 0===o||a<o)&&(o=a,r=i)}),r}(t,e,function(t,e){return t-e})}function Li(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties||{},o=n.triangles,a=n.mask;if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(Q(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],u=t[1],l=t[2],f=t[3],p=(u+f)/2,h=(s+l)/2,d=2*e/Ft([s,p],[l,p],n)*(l-s),g=2*e/Ft([h,u],[h,f],n)*(f-u),y=d/2,m=2*y,v=Math.sqrt(3)/2*g,_=l-s,b=f-u,w=.75*m,x=v,I=(_-m)/(m-y/2),N=Math.floor(I),S=(N*w-y/2-_)/2-y/2+w/2,P=Math.floor((b-v)/v),O=(b-P*v)/2,M=P*v-b>v/2;M&&(O-=v/4);for(var L=[],T=[],R=0;R<6;R++){var A=2*Math.PI/6*R;L.push(Math.cos(A)),T.push(Math.sin(A))}for(var k=[],D=0;D<=N;D++)for(var F=0;F<=P;F++){var j=D%2==1;if((0!==F||!j)&&(0!==F||!M)){var B=D*w+s-S,q=F*x+u+O;if(j&&(q-=v/2),!0===o)(function(t,e,n,r,o,a){for(var s=[],u=0;u<6;u++){var c=[];c.push(t),c.push([t[0]+e*o[u],t[1]+n*a[u]]),c.push([t[0]+e*o[(u+1)%6],t[1]+n*a[(u+1)%6]]),c.push(t),s.push(i([c],r))}return s})([B,q],d/2,g/2,r,L,T).forEach(function(t){a?Oi(a,t)&&k.push(t):k.push(t)});else{var U=function(t,e,n,r,o,a){for(var s=[],u=0;u<6;u++){var c=t[0]+e*o[u],l=t[1]+n*a[u];s.push([c,l])}return s.push(s[0].slice()),i([s],r)}([B,q],d/2,g/2,r,L,T);a?Oi(a,U)&&k.push(U):k.push(U)}}}return c(k)}function Ti(t){if(t.features.length<=1)return t;var e=function(t){var e=Xi(),n=[];return D(t,function(t,e){var r=z(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return D(t,function(t,o){if(r[o])return!0;for(e.remove({index:o},Ri),r[o]=!0;;){var i=z(t),a=e.search({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]});if(a.length>0){var s=a.map(function(t){return r[t.index]=!0,e.remove({index:t.index},Ri),t.geojson});s.push(t),t=Pi.apply(this,s)}if(0===a.length)break}n.push(t)}),c(n)}function Ri(t,e){return t.index===e.index}function Ai(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties,o=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(o&&-1===["Polygon","MultiPolygon"].indexOf(Q(o)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],l=t[2],f=t[3],p=e/Ft([s,u],[l,u],n)*(l-s),h=e/Ft([s,u],[s,f],n)*(f-u),d=l-s,g=f-u,y=Math.floor(d/p),m=Math.floor(g/h),v=(g-m*h)/2,_=s+(d-y*p)/2,b=0;b<y;b++){for(var w=u+v,x=0;x<m;x++){var I=i([[[_,w],[_,w+h],[_+p,w+h],[_+p,w],[_,w]]],r);o?Oi(o,I)&&a.push(I):a.push(I),w+=h}_+=p}return c(a)}function ki(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties,o=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(o&&-1===["Polygon","MultiPolygon"].indexOf(Q(o)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Ft([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Ft([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),l=0,f=t[0];f<=t[2];){for(var p=0,h=t[1];h<=t[3];){var d=null,g=null;l%2==0&&p%2==0?(d=i([[[f,h],[f,h+u],[f+s,h],[f,h]]],r),g=i([[[f,h+u],[f+s,h+u],[f+s,h],[f,h+u]]],r)):l%2==0&&p%2==1?(d=i([[[f,h],[f+s,h+u],[f+s,h],[f,h]]],r),g=i([[[f,h],[f,h+u],[f+s,h+u],[f,h]]],r)):p%2==0&&l%2==1?(d=i([[[f,h],[f,h+u],[f+s,h+u],[f,h]]],r),g=i([[[f,h],[f+s,h+u],[f+s,h],[f,h]]],r)):p%2==1&&l%2==1&&(d=i([[[f,h],[f,h+u],[f+s,h],[f,h]]],r),g=i([[[f,h+u],[f+s,h+u],[f+s,h],[f,h+u]]],r)),o?(Oi(o,d)&&a.push(d),Oi(o,g)&&a.push(g)):(a.push(d),a.push(g)),h+=u,p++}l++,f+=s}return c(a)}var Di=6371008.8,Fi={meters:Di,metres:Di,millimeters:1e3*Di,millimetres:1e3*Di,centimeters:100*Di,centimetres:100*Di,kilometers:Di/1e3,kilometres:Di/1e3,miles:Di/1609.344,nauticalmiles:Di/1852,inches:39.37*Di,yards:Di/1.0936,feet:3.28084*Di,radians:1,degrees:Di/111325},ji={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Di,degrees:1/111325},Bi={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006},qi=Object.freeze({earthRadius:Di,factors:Fi,unitsFactors:ji,areaFactors:Bi,feature:e,geometry:n,point:r,points:o,polygon:i,polygons:a,lineString:s,lineStrings:u,featureCollection:c,multiLineString:l,multiPoint:f,multiPolygon:p,geometryCollection:h,round:d,radiansToLength:g,lengthToRadians:y,lengthToDegrees:m,bearingToAzimuth:v,radiansToDegrees:_,degreesToRadians:b,convertLength:w,convertArea:x,isNumber:E,isObject:C,validateBBox:I,validateId:N,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Ui=Object.freeze({coordEach:S,coordReduce:P,propEach:O,propReduce:M,featureEach:L,featureReduce:T,coordAll:R,geomEach:A,geomReduce:k,flattenEach:D,flattenReduce:F,segmentEach:j,segmentReduce:B,lineEach:q,lineReduce:U}),zi=Object.freeze({getCoord:G,getCoords:V,containsNumber:Y,geojsonType:X,featureOf:H,collectionOf:W,getGeom:K,getGeomType:J,getType:Q}),Gi={successCallback:null,verbose:!1},Vi={},Yi=ot,Xi=at;at.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!gt(t,e))return n;for(var o,i,a,s,u=[];e;){for(o=0,i=e.children.length;o<i;o++)a=e.children[o],gt(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):dt(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!gt(t,e))return!1;for(var r,o,i,a,s=[];e;){for(r=0,o=e.children.length;r<o;r++)if(i=e.children[r],a=e.leaf?n(i):i,gt(t,a)){if(e.leaf||dt(t,a))return!0;s.push(i)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=yt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,o,i,a=this.data,s=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=c.pop(),i=!0),a.leaf&&-1!==(o=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(o,1),u.push(a),this._condense(u),this;i||a.leaf||!dt(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(u.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:lt,compareMinY:ft,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var o,i=n-e+1,a=this._maxEntries;if(i<=a)return o=yt(t.slice(e,n+1)),st(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1))),(o=yt([])).leaf=!1,o.height=r;var s,u,c,l,f=Math.ceil(i/a),p=f*Math.ceil(Math.sqrt(a));for(mt(t,e,n,p,this.compareMinX),s=e;s<=n;s+=p)for(mt(t,s,c=Math.min(s+p-1,n),f,this.compareMinY),u=s;u<=c;u+=f)l=Math.min(u+f-1,c),o.children.push(this._build(t,u,l,r-1));return st(o,this.toBBox),o},_chooseSubtree:function(t,e,n,r){for(var o,i,a,s,u,c,l,f;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,o=0,i=e.children.length;o<i;o++)u=pt(a=e.children[o]),(c=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<f?(f=c,l=u<l?u:l,s=a):c===f&&u<l&&(l=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,o=n?t:r(t),i=[],a=this._chooseSubtree(o,this.data,e,i);for(a.children.push(t),ct(a,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),a=yt(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,st(n,this.toBBox),st(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=yt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,st(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,o,i,a,s,u,c,l;for(u=c=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}(o=ut(t,0,r,this.toBBox),i=ut(t,r,n,this.toBBox)),s=pt(o)+pt(i),a<u?(u=a,l=r,c=s<c?s:c):a===u&&s<c&&(c=s,l=r);return l},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:lt,o=t.leaf?this.compareMinY:ft;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var o,i,a=this.toBBox,s=ut(t,0,e,a),u=ut(t,n-e,n,a),c=ht(s)+ht(u);for(o=e;o<n-e;o++)i=t.children[o],ct(s,t.leaf?a(i):i),c+=ht(s);for(o=n-e-1;o>=e;o--)i=t.children[o],ct(u,t.leaf?a(i):i),c+=ht(u);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)ct(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():st(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Hi=function(t,e,n){var r=t*e,o=Wi*t,i=o-(o-t),a=t-i,s=Wi*e,u=s-(s-e),c=e-u,l=a*c-(r-i*u-a*u-i*c);return n?(n[0]=l,n[1]=r,n):[l,r]},Wi=+(Math.pow(2,27)+1),Ki=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,o=t-(n-r)+(e-r);return o?[o,n]:[n]}(t[0],e[0]);var o,i,a=n+r,s=new Array(a),u=0,c=0,l=0,f=Math.abs,p=t[c],h=f(p),d=e[l],g=f(d);h<g?(i=p,(c+=1)<n&&(h=f(p=t[c]))):(i=d,(l+=1)<r&&(g=f(d=e[l]))),c<n&&h<g||l>=r?(o=p,(c+=1)<n&&(h=f(p=t[c]))):(o=d,(l+=1)<r&&(g=f(d=e[l])));for(var y,m,v=o+i,_=v-o,b=i-_,w=b,x=v;c<n&&l<r;)h<g?(o=p,(c+=1)<n&&(h=f(p=t[c]))):(o=d,(l+=1)<r&&(g=f(d=e[l]))),(b=(i=w)-(_=(v=o+i)-o))&&(s[u++]=b),w=x-((y=x+v)-(m=y-x))+(v-m),x=y;for(;c<n;)(b=(i=w)-(_=(v=(o=p)+i)-o))&&(s[u++]=b),w=x-((y=x+v)-(m=y-x))+(v-m),x=y,(c+=1)<n&&(p=t[c]);for(;l<r;)(b=(i=w)-(_=(v=(o=d)+i)-o))&&(s[u++]=b),w=x-((y=x+v)-(m=y-x))+(v-m),x=y,(l+=1)<r&&(d=e[l]);return w&&(s[u++]=w),x&&(s[u++]=x),u||(s[u++]=0),s.length=u,s},Ji=function(t,e,n){var r=t+e,o=r-t,i=e-o,a=t-(r-o);return n?(n[0]=a+i,n[1]=r,n):[a+i,r]},Qi=function(t,e){var n=t.length;if(1===n){var r=Hi(t[0],e);return r[0]?r:[r[1]]}var o=new Array(2*n),i=[.1,.1],a=[.1,.1],s=0;Hi(t[0],e,i),i[0]&&(o[s++]=i[0]);for(var u=1;u<n;++u){Hi(t[u],e,a);var c=i[1];Ji(c,a[0],i),i[0]&&(o[s++]=i[0]);var l=a[1],f=i[1],p=l+f,h=f-(p-l);i[1]=p,h&&(o[s++]=h)}return i[1]&&(o[s++]=i[1]),0===s&&(o[s++]=0),o.length=s,o},Zi=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,o=t-(n-r)+(e-r);return o?[o,n]:[n]}(t[0],-e[0]);var o,i,a=n+r,s=new Array(a),u=0,c=0,l=0,f=Math.abs,p=t[c],h=f(p),d=-e[l],g=f(d);h<g?(i=p,(c+=1)<n&&(h=f(p=t[c]))):(i=d,(l+=1)<r&&(g=f(d=-e[l]))),c<n&&h<g||l>=r?(o=p,(c+=1)<n&&(h=f(p=t[c]))):(o=d,(l+=1)<r&&(g=f(d=-e[l])));for(var y,m,v=o+i,_=v-o,b=i-_,w=b,x=v;c<n&&l<r;)h<g?(o=p,(c+=1)<n&&(h=f(p=t[c]))):(o=d,(l+=1)<r&&(g=f(d=-e[l]))),(b=(i=w)-(_=(v=o+i)-o))&&(s[u++]=b),w=x-((y=x+v)-(m=y-x))+(v-m),x=y;for(;c<n;)(b=(i=w)-(_=(v=(o=p)+i)-o))&&(s[u++]=b),w=x-((y=x+v)-(m=y-x))+(v-m),x=y,(c+=1)<n&&(p=t[c]);for(;l<r;)(b=(i=w)-(_=(v=(o=d)+i)-o))&&(s[u++]=b),w=x-((y=x+v)-(m=y-x))+(v-m),x=y,(l+=1)<r&&(d=-e[l]);return w&&(s[u++]=w),x&&(s[u++]=x),u||(s[u++]=0),s.length=u,s},$i=vt(function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var o=n[r-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[r][i]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function o(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var i=[],a=0;a<t.length;++a)i.push(["scale(",r(o(e(t,a))),",",n(a),t[0][a],")"].join(""));return i}function i(t){for(var n=[],i=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,o(e(a,u))):i.push.apply(i,o(e(a,u))),s.push("m"+u);var c=r(n),l=r(i),f="orientation"+t+"Exact",p=["function ",f,"(",s.join(),"){var p=",c,",n=",l,",d=sub(p,n);return d[d.length-1];};return ",f].join("");return new Function("sum","prod","scale","sub",p)(Ki,Hi,Qi,Zi)}var a=i(3),s=i(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,o=(t[1]-n[1])*(e[0]-n[0]),i=(t[0]-n[0])*(e[1]-n[1]),s=o-i;if(o>0){if(i<=0)return s;r=o+i}else{if(!(o<0))return s;if(i>=0)return s;r=-(o+i)}var u=3.3306690738754716e-16*r;return s>=u||s<=-u?s:a(t,e,n)},function(t,e,n,r){var o=t[0]-r[0],i=e[0]-r[0],a=n[0]-r[0],u=t[1]-r[1],c=e[1]-r[1],l=n[1]-r[1],f=t[2]-r[2],p=e[2]-r[2],h=n[2]-r[2],d=i*l,g=a*c,y=a*u,m=o*l,v=o*c,_=i*u,b=f*(d-g)+p*(y-m)+h*(v-_),w=7.771561172376103e-16*((Math.abs(d)+Math.abs(g))*Math.abs(f)+(Math.abs(y)+Math.abs(m))*Math.abs(p)+(Math.abs(v)+Math.abs(_))*Math.abs(h));return b>w||-b>w?b:s(t,e,n,r)}];!function(){for(;u.length<=5;)u.push(i(u.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var o=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)o.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(o.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=i(t.length)),e.apply(void 0,t)}].concat(u)),r=0;r<=5;++r)t.exports[r]=u[r]}()}),ta=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var o=new Array(e);for(r=0;r<e;++r)o[r]=r;o.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var i=[o[0],o[1]],a=[o[0],o[1]];for(r=2;r<e;++r){for(var s=o[r],u=t[s],c=i.length;c>1&&ea(t[i[c-2]],t[i[c-1]],u)<=0;)c-=1,i.pop();for(i.push(s),c=a.length;c>1&&ea(t[a[c-2]],t[a[c-1]],u)>=0;)c-=1,a.pop();a.push(s)}n=new Array(a.length+i.length-2);for(var l=0,f=(r=0,i.length);r<f;++r)n[l++]=i[r];for(var p=a.length-2;p>0;--p)n[l++]=a[p];return n},ea=$i[3],na=_t,ra=_t;_t.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var o=t-1>>1,i=e[o];if(n(r,i)>=0)break;e[t]=i,t=o}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,o=e[t];t<r;){var i=1+(t<<1),a=i+1,s=e[i];if(a<this.length&&n(e[a],s)<0&&(i=a,s=e[a]),n(s,o)>=0)break;e[t]=s,t=i}e[t]=o}},na.default=ra;var oa=function(t,e){for(var n=t[0],r=t[1],o=!1,i=0,a=e.length-1;i<e.length;a=i++){var s=e[i][0],u=e[i][1],c=e[a][0],l=e[a][1];u>r!=l>r&&n<(c-s)*(r-u)/(l-u)+s&&(o=!o)}return o},ia=$i[3],aa=bt,sa=bt;aa.default=sa;var ua=function(t){return t},ca=function(t){if(null==t)return ua;var e,n,r=t.scale[0],o=t.scale[1],i=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*r+i,l[1]=(n+=t[1])*o+a;u<c;)l[u]=t[u],++u;return l}},la=function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n},fa=function(t,e){function n(t,e){for(var n in t){var o=t[n];delete e[o.start],delete o.start,delete o.end,o.forEach(function(t){r[t<0?~t:t]=1}),a.push(o)}}var r={},o={},i={},a=[],s=-1;return e.forEach(function(n,r){var o,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++s],e[s]=n,e[r]=o)}),e.forEach(function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],o=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,o]:[o,n]}(e),s=a[0],u=a[1];if(n=i[s])if(delete i[n.end],n.push(e),n.end=u,r=o[u]){delete o[r.start];var c=r===n?n:n.concat(r);o[c.start=n.start]=i[c.end=r.end]=c}else o[n.start]=i[n.end]=n;else if(n=o[u])if(delete o[n.start],n.unshift(e),n.start=s,r=i[s]){delete i[r.end];var l=r===n?n:r.concat(n);o[l.start=r.start]=i[l.end=n.end]=l}else o[n.start]=i[n.end]=n;else o[(n=[e]).start=s]=i[n.end=u]=n}),n(i,o),n(o,i),e.forEach(function(t){r[t<0?~t:t]||a.push([t])}),a},pa=function(t){return Gt(t,Vt.apply(this,arguments))},ha=function(t,e,n,r,o,i){3===arguments.length&&(r=i=Array,o=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new i(t),u=t-1,c=0;c<t;++c)a[c]=o;return{set:function(r,i){for(var c=e(r)&u,l=a[c],f=0;l!=o;){if(n(l,r))return s[c]=i;if(++f>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=i,i},maybeSet:function(r,i){for(var c=e(r)&u,l=a[c],f=0;l!=o;){if(n(l,r))return s[c];if(++f>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=i,i},get:function(r,i){for(var c=e(r)&u,l=a[c],f=0;l!=o;){if(n(l,r))return s[c];if(++f>=t)break;l=a[c=c+1&u]}return i},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=o&&t.push(r)}return t}}},da=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ga=new ArrayBuffer(16),ya=new Float64Array(ga),ma=new Uint32Array(ga),va=function(t){ya[0]=t[0],ya[1]=t[1];var e=ma[0]^ma[1];return 2147483647&(e=e<<5^e>>7^ma[2]^ma[3])},_a=function(t){function e(t,e,n,r){if(p[n]!==t){p[n]=t;var o=h[n];if(o>=0){var i=d[n];o===e&&i===r||o===r&&i===e||(++y,g[n]=1)}else h[n]=e,d[n]=r}}function n(t){return va(u[t])}function r(t,e){return da(u[t],u[e])}var o,i,a,s,u=t.coordinates,c=t.lines,l=t.rings,f=function(){for(var t=ha(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),o=0,i=u.length;o<i;++o)e[o]=t.maybeSet(o,o);return e}(),p=new Int32Array(u.length),h=new Int32Array(u.length),d=new Int32Array(u.length),g=new Int8Array(u.length),y=0;for(o=0,i=u.length;o<i;++o)p[o]=h[o]=d[o]=-1;for(o=0,i=c.length;o<i;++o){var m=c[o],v=m[0],_=m[1];for(a=f[v],s=f[++v],++y,g[a]=1;++v<=_;)e(o,a,a=s,s=f[v]);++y,g[s]=1}for(o=0,i=u.length;o<i;++o)p[o]=-1;for(o=0,i=l.length;o<i;++o){var b=l[o],w=b[0]+1,x=b[1];for(e(o,f[x-1],a=f[w-1],s=f[w]);++w<=x;)e(o,a,a=s,s=f[w])}p=h=d=null;var E,C=function(t,e,n,r,o){3===arguments.length&&(r=Array,o=null);for(var i=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)i[s]=o;return{add:function(r){for(var s=e(r)&a,u=i[s],c=0;u!=o;){if(n(u,r))return!0;if(++c>=t)throw new Error("full hashset");u=i[s=s+1&a]}return i[s]=r,!0},has:function(r){for(var s=e(r)&a,u=i[s],c=0;u!=o;){if(n(u,r))return!0;if(++c>=t)break;u=i[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=i.length;e<n;++e){var r=i[e];r!=o&&t.push(r)}return t}}}(1.4*y,va,da);for(o=0,i=u.length;o<i;++o)g[E=f[o]]&&C.add(u[E]);return C},ba=function(t){var e,n,r,o=_a(t),i=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var u=a[n],c=u[0],l=u[1];++c<l;)o.has(i[c])&&(e={0:c,1:u[1]},u[1]=c,u=u.next=e);for(n=0,r=s.length;n<r;++n)for(var f=s[n],p=f[0],h=p,d=f[1],g=o.has(i[p]);++h<d;)o.has(i[h])&&(g?(e={0:h,1:f[1]},f[1]=h,f=f.next=e):(function(t,e,n,r){Yt(t,e,n),Yt(t,e,e+r),Yt(t,e+r,n)}(i,p,d,d-h),i[d]=i[p],g=!0,h=p));return t},wa=function(t){function e(t){var e,n,r,o,i,a,s,u;if(r=h.get(e=c[t[0]]))for(s=0,u=r.length;s<u;++s)if(o=r[s],function(t,e){var n=t[0],r=e[0],o=t[1];if(n-o!=r-e[1])return!1;for(;n<=o;++n,++r)if(!da(c[n],c[r]))return!1;return!0}(o,t))return t[0]=o[0],void(t[1]=o[1]);if(i=h.get(n=c[t[1]]))for(s=0,u=i.length;s<u;++s)if(a=i[s],function(t,e){var n=t[0],r=e[0],o=t[1],i=e[1];if(n-o!=r-i)return!1;for(;n<=o;++n,--i)if(!da(c[n],c[i]))return!1;return!0}(a,t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):h.set(e,[t]),i?i.push(t):h.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var a=o(t),s=o(e),u=0;u<i;++u)if(!da(c[n+(u+a)%i],c[r+(u+s)%i]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],i=t[1],a=e[1],s=i-n;if(s!==a-r)return!1;for(var u=o(t),l=s-o(e),f=0;f<s;++f)if(!da(c[n+(f+u)%s],c[a-(f+l)%s]))return!1;return!0}function o(t){for(var e=t[0],n=t[1],r=e,o=r,i=c[r];++r<n;){var a=c[r];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=r,i=a)}return o-e}var i,a,s,u,c=t.coordinates,l=t.lines,f=t.rings,p=l.length+f.length;for(delete t.lines,delete t.rings,s=0,u=l.length;s<u;++s)for(i=l[s];i=i.next;)++p;for(s=0,u=f.length;s<u;++s)for(a=f[s];a=a.next;)++p;var h=ha(2*p*1.4,va,da),d=t.arcs=[];for(s=0,u=l.length;s<u;++s){i=l[s];do{e(i)}while(i=i.next)}for(s=0,u=f.length;s<u;++s)if((a=f[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,i,a,s,u;if(i=h.get(e=c[t[0]]))for(s=0,u=i.length;s<u;++s){if(a=i[s],n(a,t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(i=h.get(e=c[t[0]+o(t)]))for(s=0,u=i.length;s<u;++s){if(a=i[s],n(a,t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}i?i.push(t):h.set(e,[t]),d.push(t)}(a);return t},xa=function(t,e){function n(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function r(t){var e=[];do{var n=c.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function o(t){return t.map(r)}var i=function(t){function e(t){null!=t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){var e=t[0],n=t[1];e<i&&(i=e),e>s&&(s=e),n<a&&(a=n),n>u&&(u=n)}function r(t){t.forEach(n)}function o(t){t.forEach(r)}var i=1/0,a=1/0,s=-1/0,u=-1/0,c={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(o)}};for(var l in t)e(t[l]);return s>=i&&u>=a?[i,a,s,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Xt(t[e]);return n}(t)),a=e>0&&i&&function(t,e,n){function r(t){return[Math.round((t[0]-c)*h),Math.round((t[1]-l)*d)]}function o(t,e){for(var n,r,o,i,a,s=-1,u=0,f=t.length,p=new Array(f);++s<f;)n=t[s],i=Math.round((n[0]-c)*h),a=Math.round((n[1]-l)*d),i===r&&a===o||(p[u++]=[r=i,o=a]);for(p.length=u;u<e;)u=p.push([p[0][0],p[0][1]]);return p}function i(t){return o(t,2)}function a(t){return o(t,4)}function s(t){return t.map(a)}function u(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var c=e[0],l=e[1],f=e[2],p=e[3],h=f-c?(n-1)/(f-c):1,d=p-l?(n-1)/(p-l):1,g={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=i(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(i)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var y in t)u(t[y]);return{scale:[1/h,1/d],translate:[c,l]}}(t,i,e),s=wa(ba(function(t){function e(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++i]=t[e];var r={0:i-n+1,1:i};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++i]=t[e];var r={0:i-n+1,1:i};return s.push(r),r}function o(t){return t.map(r)}var i=-1,a=[],s=[],u=[],c={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(o)}};for(var l in t)e(t[l]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,c=ha(1.4*s.arcs.length,Kt,Jt);t=s.objects,s.bbox=i,s.arcs=s.arcs.map(function(t,e){return c.set(t,e),u.slice(t[0],t[1]+1)}),delete s.coordinates,u=null;var l={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(o)}};for(var f in t)n(t[f]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,o,i=t[e],a=0,s=1,u=i.length,c=i[0],l=c[0],f=c[1];++a<u;)r=(c=i[a])[0],o=c[1],r===l&&o===f||(i[s++]=[r-l,o-f],l=r,f=o);1===s&&(i[s++]=[0,0]),i.length=s}return t}(s.arcs)),s},Ea=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};Ea.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)+(o.z-n.z)*(o.z-n.z))>t&&(e.push(r),n=o)}return e},Ea.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},Ea.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,o){var i=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:o.x*i[0]+r.x*i[1]+n.x*i[2]+e.x*i[3],y:o.y*i[0]+r.y*i[1]+n.y*i[2]+e.y*i[3],z:o.z*i[0]+r.z*i[1]+n.z*i[2]+e.z*i[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var Ca=_e,Ia=_e;_e.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,a=Math.abs(Ae(t,0,i,n));if(o)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(Ae(t,c,l,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[p]-t[d])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[d+1]-t[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},_e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)n.vertices.push(t[o][i][a]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n},Ca.default=Ia,qe.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ke(t,e))return n;for(var o,i,a,s,u=[];e;){for(o=0,i=e.children.length;o<i;o++)a=e.children[o],Ke(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):We(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ke(t,e))return!1;for(var r,o,i,a,s=[];e;){for(r=0,o=e.children.length;r<o;r++)if(i=e.children[r],a=e.leaf?n(i):i,Ke(t,a)){if(e.leaf||We(t,a))return!0;s.push(i)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Je([]),this},remove:function(t,e){if(!t)return this;for(var n,r,o,i,a=this.data,s=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=c.pop(),i=!0),a.leaf&&-1!==(o=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(o,1),u.push(a),this._condense(u),this;i||a.leaf||!We(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(u.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:Ve,compareMinY:Ye,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var o,i=n-e+1,a=this._maxEntries;if(i<=a)return o=Je(t.slice(e,n+1)),Ue(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1))),(o=Je([])).leaf=!1,o.height=r;var s,u,c,l,f=Math.ceil(i/a),p=f*Math.ceil(Math.sqrt(a));for(Qe(t,e,n,p,this.compareMinX),s=e;s<=n;s+=p)for(Qe(t,s,c=Math.min(s+p-1,n),f,this.compareMinY),u=s;u<=c;u+=f)l=Math.min(u+f-1,c),o.children.push(this._build(t,u,l,r-1));return Ue(o,this.toBBox),o},_chooseSubtree:function(t,e,n,r){for(var o,i,a,s,u,c,l,f;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,o=0,i=e.children.length;o<i;o++)u=Xe(a=e.children[o]),(c=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<f?(f=c,l=u<l?u:l,s=a):c===f&&u<l&&(l=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,o=n?t:r(t),i=[],a=this._chooseSubtree(o,this.data,e,i);for(a.children.push(t),Ge(a,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),a=Je(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,Ue(n,this.toBBox),Ue(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Je([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ue(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,o,i,a,s,u,c,l;for(u=c=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}(o=ze(t,0,r,this.toBBox),i=ze(t,r,n,this.toBBox)),s=Xe(o)+Xe(i),a<u?(u=a,l=r,c=s<c?s:c):a===u&&s<c&&(c=s,l=r);return l},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ve,o=t.leaf?this.compareMinY:Ye;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var o,i,a=this.toBBox,s=ze(t,0,e,a),u=ze(t,n-e,n,a),c=He(s)+He(u);for(o=e;o<n-e;o++)i=t.children[o],Ge(s,t.leaf?a(i):i),c+=He(s);for(o=n-e-1;o>=e;o--)i=t.children[o],Ge(u,t.leaf?a(i):i),c+=He(u);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ge(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ue(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Na=Object.freeze({toMercator:cn,toWgs84:ln}),Sa=6378137,Pa=function(t,e,n){function r(t,n,r,o){var u=i[t][n],c=i[t][n+1],l=i[r][o],f=i[r][o+1],p=function(t,e,n,r){if(Ln(t,n)||Ln(t,r)||Ln(e,n)||Ln(r,n))return null;var o=t[0],i=t[1],a=e[0],s=e[1],u=n[0],c=n[1],l=r[0],f=r[1],p=(o-a)*(c-f)-(i-s)*(u-l);return 0===p?null:[((o*s-i*a)*(u-l)-(o-a)*(u*f-c*l))/p,((o*s-i*a)*(c-f)-(i-s)*(u*f-c*l))/p]}(u,c,l,f);if(null!==p){var h,d;if(h=c[0]!==u[0]?(p[0]-u[0])/(c[0]-u[0]):(p[1]-u[1])/(c[1]-u[1]),d=f[0]!==l[0]?(p[0]-l[0])/(f[0]-l[0]):(p[1]-l[1])/(f[1]-l[1]),!(h>=1||h<=0||d>=1||d<=0)){var g=p,y=!s[g];y&&(s[g]=!0),e?a.push(e(p,t,n,u,c,h,r,o,l,f,d,y)):a.push(p)}}}function o(t,e){var n,r,o,a,s=i[t][e],u=i[t][e+1];return s[0]<u[0]?(n=s[0],r=u[0]):(n=u[0],r=s[0]),s[1]<u[1]?(o=s[1],a=u[1]):(o=u[1],a=s[1]),{minX:n,minY:o,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var i=t.geometry.coordinates,a=[],s={};if(n){for(var u=[],c=0;c<i.length;c++)for(var l=0;l<i[c].length-1;l++)u.push(o(c,l));var f=Xi();f.load(u)}for(var p=0;p<i.length;p++)for(var h=0;h<i[p].length-1;h++)if(n)f.search(o(p,h)).forEach(function(t){var e=t.ring,n=t.edge;r(p,h,e,n)});else for(var d=0;d<i.length;d++)for(var g=0;g<i[d].length-1;g++)r(p,h,d,g);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a},Oa=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&Mt(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&vn(d.features[r])<1/0&&(n=r);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var o=e+d.features[n].properties.winding;d.features[n].properties.netWinding=o,r(n,o)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var o=t.geometry.coordinates.length,a=[],s=0;s<o;s++){var u=t.geometry.coordinates[s];Rn(u[0],u[u.length-1])||u.push(u[0]),a.push.apply(a,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,o=t.length;r<o;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var l=a.length,f=Pa(t,function(t,e,n,r,o,i,a,s,u,c,l,f){return[t,e,n,r,o,i,a,s,u,c,l,f]}),p=f.length;if(0==p){var h=[];for(s=0;s<o;s++)h.push(i([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Tn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var d=c(h);return e(),n(),d}var g=[],y=[];for(s=0;s<o;s++){g.push([]);for(var m=0;m<t.geometry.coordinates[s].length-1;m++)g[s].push([new Ma(t.geometry.coordinates[s][(m+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,m],[s,(m+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),y.push(new La(t.geometry.coordinates[s][m],[s,(m-1).modulo(t.geometry.coordinates[s].length-1)],[s,m],void 0,void 0,!1,!0))}for(s=0;s<p;s++)g[f[s][1]][f[s][2]].push(new Ma(f[s][0],f[s][5],[f[s][1],f[s][2]],[f[s][6],f[s][7]],void 0)),f[s][11]&&y.push(new La(f[s][0],[f[s][1],f[s][2]],[f[s][6],f[s][7]],void 0,void 0,!0,!0));var v=y.length;for(s=0;s<g.length;s++)for(m=0;m<g[s].length;m++)g[s][m].sort(function(t,e){return t.param<e.param?-1:1});var _=[];for(s=0;s<v;s++)_.push({minX:y[s].coord[0],minY:y[s].coord[1],maxX:y[s].coord[0],maxY:y[s].coord[1],index:s});var b=Xi();for(b.load(_),s=0;s<g.length;s++)for(m=0;m<g[s].length;m++)for(var w=0;w<g[s][m].length;w++){E=w==g[s][m].length-1?g[s][(m+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:g[s][m][w+1].coord;var x=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0];g[s][m][w].nxtIsectAlongEdgeIn=x.index}for(s=0;s<g.length;s++)for(m=0;m<g[s].length;m++)for(w=0;w<g[s][m].length;w++){var E=g[s][m][w].coord,C=(x=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0]).index;C<l?y[C].nxtIsectAlongRingAndEdge2=g[s][m][w].nxtIsectAlongEdgeIn:Rn(y[C].ringAndEdge1,g[s][m][w].ringAndEdgeIn)?y[C].nxtIsectAlongRingAndEdge1=g[s][m][w].nxtIsectAlongEdgeIn:y[C].nxtIsectAlongRingAndEdge2=g[s][m][w].nxtIsectAlongEdgeIn}var I=[];for(s=0,m=0;m<o;m++){var N=s;for(w=0;w<t.geometry.coordinates[m].length-1;w++)y[s].coord[0]<y[N].coord[0]&&(N=s),s++;var S=y[N].nxtIsectAlongRingAndEdge2;for(w=0;w<y.length;w++)if(y[w].nxtIsectAlongRingAndEdge1==N||y[w].nxtIsectAlongRingAndEdge2==N){var P=w;break}var O=Tn([y[P].coord,y[N].coord,y[S].coord],!0)?1:-1;I.push({isect:N,parent:-1,winding:O})}for(I.sort(function(t,e){return y[t.isect].coord>y[e.isect].coord?-1:1}),h=[];I.length>0;){var M=I.pop(),L=M.isect,T=M.parent,R=M.winding,A=h.length,k=[y[L].coord],D=L;if(y[L].ringAndEdge1Walkable)var F=y[L].ringAndEdge1,j=y[L].nxtIsectAlongRingAndEdge1;else F=y[L].ringAndEdge2,j=y[L].nxtIsectAlongRingAndEdge2;for(;!Rn(y[L].coord,y[j].coord);){k.push(y[j].coord);var B=void 0;for(s=0;s<I.length;s++)if(I[s].isect==j){B=s;break}if(void 0!=B&&I.splice(B,1),Rn(F,y[j].ringAndEdge1)){if(F=y[j].ringAndEdge2,y[j].ringAndEdge2Walkable=!1,y[j].ringAndEdge1Walkable){var q={isect:j};Tn([y[D].coord,y[j].coord,y[y[j].nxtIsectAlongRingAndEdge2].coord],1==R)?(q.parent=T,q.winding=-R):(q.parent=A,q.winding=R),I.push(q)}D=j,j=y[j].nxtIsectAlongRingAndEdge2}else F=y[j].ringAndEdge1,y[j].ringAndEdge1Walkable=!1,y[j].ringAndEdge2Walkable&&(q={isect:j},Tn([y[D].coord,y[j].coord,y[y[j].nxtIsectAlongRingAndEdge1].coord],1==R)?(q.parent=T,q.winding=-R):(q.parent=A,q.winding=R),I.push(q)),D=j,j=y[j].nxtIsectAlongRingAndEdge1}k.push(y[j].coord),h.push(i([k],{index:A,parent:T,winding:R,netWinding:void 0}))}return d=c(h),e(),n(),d},Ma=function(t,e,n,r,o){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=o},La=function(t,e,n,r,o,i,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var Ta=Math.PI/180,Ra=180/Math.PI,Aa=function(t,e){this.lon=t,this.lat=e,this.x=Ta*t,this.y=Ta*e};Aa.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Aa.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Aa(e,t)};var ka=function(){this.coords=[],this.length=0};ka.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Da=function(t){this.properties=t||{},this.geometries=[]};Da.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Da.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Fa=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Aa(t.x,t.y),this.end=new Aa(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Fa.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),i=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=Ra*Math.atan2(i,Math.sqrt(Math.pow(r,2)+Math.pow(o,2)));return[Ra*Math.atan2(o,r),a]},Fa.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),o=0;o<t;++o){var i=r*o,a=this.interpolate(i);n.push(a)}for(var s=!1,u=0,c=e&&e.offset?e.offset:10,l=180-c,f=-180+c,p=360-c,h=1;h<n.length;++h){var d=n[h-1][0],g=n[h][0],y=Math.abs(g-d);y>p&&(g>l&&d<f||d>l&&g<f)?s=!0:y>u&&(u=y)}var m=[];if(s&&u<c){var v=[];m.push(v);for(var _=0;_<n.length;++_){var b=parseFloat(n[_][0]);if(_>0&&Math.abs(b-n[_-1][0])>p){var w=parseFloat(n[_-1][0]),x=parseFloat(n[_-1][1]),E=parseFloat(n[_][0]),C=parseFloat(n[_][1]);if(w>-180&&w<f&&180===E&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<f){v.push([-180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(w>l&&w<180&&-180===E&&_+1<n.length&&n[_-1][0]>l&&n[_-1][0]<180){v.push([180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(w<f&&E>l){var I=w;w=E,E=I;var N=x;x=C,C=N}if(w>l&&E<f&&(E+=360),w<=180&&E>=180&&w<E){var S=(180-w)/(E-w),P=S*C+(1-S)*x;v.push([n[_-1][0]>l?180:-180,P]),(v=[]).push([n[_-1][0]>l?-180:180,P]),m.push(v)}else v=[],m.push(v);v.push([b,n[_][1]])}else v.push([n[_][0],n[_][1]])}}else{var O=[];m.push(O);for(var M=0;M<n.length;++M)O.push([n[M][0],n[M][1]])}for(var L=new Da(this.properties),T=0;T<m.length;++T){var R=new ka;L.geometries.push(R);for(var A=m[T],k=0;k<A.length;++k)R.move_to(A[k])}return L};var ja=Yn;Yn.polyline=Yn,Yn.polygon=function(t,e){var n,r,o,i,a,s,u;for(r=1;r<=8;r*=2){for(n=[],i=!(Hn(o=t[t.length-1],e)&r),a=0;a<t.length;a++)(u=!(Hn(s=t[a],e)&r))!==i&&n.push(Xn(o,s,r,e)),u&&n.push(s),o=s,i=u;if(!(t=n).length)break}return n};var Ba=Array.prototype.slice,qa={successCallback:null,verbose:!1,polygons:!1},Ua={},za=64,Ga=16,Va=4,Ya=1,Xa=[],Ha=[],Wa=[],Ka=[],Ja=[],Qa=[],Za=[],$a=[],ts=[],es=[],ns=[],rs=[],os=[],is=[],as=[],ss=[],us=[],cs=[],ls=[],fs=[],ps=[],hs=[],ds=[],gs=[];Za[85]=es[85]=-1,$a[85]=ns[85]=0,ts[85]=rs[85]=1,ls[85]=hs[85]=1,fs[85]=ds[85]=0,ps[85]=gs[85]=1,Xa[85]=Ka[85]=0,Ha[85]=Ja[85]=-1,Wa[85]=as[85]=0,ss[85]=os[85]=0,us[85]=is[85]=1,Qa[85]=cs[85]=1,hs[1]=hs[169]=0,ds[1]=ds[169]=-1,gs[1]=gs[169]=0,os[1]=os[169]=-1,is[1]=is[169]=0,as[1]=as[169]=0,es[4]=es[166]=0,ns[4]=ns[166]=-1,rs[4]=rs[166]=1,ss[4]=ss[166]=1,us[4]=us[166]=0,cs[4]=cs[166]=0,Za[16]=Za[154]=0,$a[16]=$a[154]=1,ts[16]=ts[154]=1,Ka[16]=Ka[154]=1,Ja[16]=Ja[154]=0,Qa[16]=Qa[154]=1,ls[64]=ls[106]=0,fs[64]=fs[106]=1,ps[64]=ps[106]=0,Xa[64]=Xa[106]=-1,Ha[64]=Ha[106]=0,Wa[64]=Wa[106]=1,ls[2]=ls[168]=0,fs[2]=fs[168]=-1,ps[2]=ps[168]=1,hs[2]=hs[168]=0,ds[2]=ds[168]=-1,gs[2]=gs[168]=0,os[2]=os[168]=-1,is[2]=is[168]=0,as[2]=as[168]=0,ss[2]=ss[168]=-1,us[2]=us[168]=0,cs[2]=cs[168]=1,Za[8]=Za[162]=0,$a[8]=$a[162]=-1,ts[8]=ts[162]=0,es[8]=es[162]=0,ns[8]=ns[162]=-1,rs[8]=rs[162]=1,os[8]=os[162]=1,is[8]=is[162]=0,as[8]=as[162]=1,ss[8]=ss[162]=1,us[8]=us[162]=0,cs[8]=cs[162]=0,Za[32]=Za[138]=0,$a[32]=$a[138]=1,ts[32]=ts[138]=1,es[32]=es[138]=0,ns[32]=ns[138]=1,rs[32]=rs[138]=0,Xa[32]=Xa[138]=1,Ha[32]=Ha[138]=0,Wa[32]=Wa[138]=0,Ka[32]=Ka[138]=1,Ja[32]=Ja[138]=0,Qa[32]=Qa[138]=1,hs[128]=hs[42]=0,ds[128]=ds[42]=1,gs[128]=gs[42]=1,ls[128]=ls[42]=0,fs[128]=fs[42]=1,ps[128]=ps[42]=0,Xa[128]=Xa[42]=-1,Ha[128]=Ha[42]=0,Wa[128]=Wa[42]=1,Ka[128]=Ka[42]=-1,Ja[128]=Ja[42]=0,Qa[128]=Qa[42]=0,es[5]=es[165]=-1,ns[5]=ns[165]=0,rs[5]=rs[165]=0,hs[5]=hs[165]=1,ds[5]=ds[165]=0,gs[5]=gs[165]=0,ss[20]=ss[150]=0,us[20]=us[150]=1,cs[20]=cs[150]=1,Ka[20]=Ka[150]=0,Ja[20]=Ja[150]=-1,Qa[20]=Qa[150]=1,Za[80]=Za[90]=-1,$a[80]=$a[90]=0,ts[80]=ts[90]=1,ls[80]=ls[90]=1,fs[80]=fs[90]=0,ps[80]=ps[90]=1,os[65]=os[105]=0,is[65]=is[105]=1,as[65]=as[105]=0,Xa[65]=Xa[105]=0,Ha[65]=Ha[105]=-1,Wa[65]=Wa[105]=0,Za[160]=Za[10]=-1,$a[160]=$a[10]=0,ts[160]=ts[10]=1,es[160]=es[10]=-1,ns[160]=ns[10]=0,rs[160]=rs[10]=0,hs[160]=hs[10]=1,ds[160]=ds[10]=0,gs[160]=gs[10]=0,ls[160]=ls[10]=1,fs[160]=fs[10]=0,ps[160]=ps[10]=1,ss[130]=ss[40]=0,us[130]=us[40]=1,cs[130]=cs[40]=1,os[130]=os[40]=0,is[130]=is[40]=1,as[130]=as[40]=0,Xa[130]=Xa[40]=0,Ha[130]=Ha[40]=-1,Wa[130]=Wa[40]=0,Ka[130]=Ka[40]=0,Ja[130]=Ja[40]=-1,Qa[130]=Qa[40]=1,es[37]=es[133]=0,ns[37]=ns[133]=1,rs[37]=rs[133]=1,hs[37]=hs[133]=0,ds[37]=ds[133]=1,gs[37]=gs[133]=0,Xa[37]=Xa[133]=-1,Ha[37]=Ha[133]=0,Wa[37]=Wa[133]=0,Ka[37]=Ka[133]=1,Ja[37]=Ja[133]=0,Qa[37]=Qa[133]=0,ss[148]=ss[22]=-1,us[148]=us[22]=0,cs[148]=cs[22]=0,hs[148]=hs[22]=0,ds[148]=ds[22]=-1,gs[148]=gs[22]=1,ls[148]=ls[22]=0,fs[148]=fs[22]=1,ps[148]=ps[22]=1,Ka[148]=Ka[22]=-1,Ja[148]=Ja[22]=0,Qa[148]=Qa[22]=1,Za[82]=Za[88]=0,$a[82]=$a[88]=-1,ts[82]=ts[88]=1,ss[82]=ss[88]=1,us[82]=us[88]=0,cs[82]=cs[88]=1,os[82]=os[88]=-1,is[82]=is[88]=0,as[82]=as[88]=1,ls[82]=ls[88]=0,fs[82]=fs[88]=-1,ps[82]=ps[88]=0,Za[73]=Za[97]=0,$a[73]=$a[97]=1,ts[73]=ts[97]=0,es[73]=es[97]=0,ns[73]=ns[97]=-1,rs[73]=rs[97]=0,os[73]=os[97]=1,is[73]=is[97]=0,as[73]=as[97]=0,Xa[73]=Xa[97]=1,Ha[73]=Ha[97]=0,Wa[73]=Wa[97]=1,Za[145]=Za[25]=0,$a[145]=$a[25]=-1,ts[145]=ts[25]=0,os[145]=os[25]=1,is[145]=is[25]=0,as[145]=as[25]=1,hs[145]=hs[25]=0,ds[145]=ds[25]=1,gs[145]=gs[25]=1,Ka[145]=Ka[25]=-1,Ja[145]=Ja[25]=0,Qa[145]=Qa[25]=0,es[70]=es[100]=0,ns[70]=ns[100]=1,rs[70]=rs[100]=0,ss[70]=ss[100]=-1,us[70]=us[100]=0,cs[70]=cs[100]=1,ls[70]=ls[100]=0,fs[70]=fs[100]=-1,ps[70]=ps[100]=1,Xa[70]=Xa[100]=1,Ha[70]=Ha[100]=0,Wa[70]=Wa[100]=0,es[101]=es[69]=0,ns[101]=ns[69]=1,rs[101]=rs[69]=0,Xa[101]=Xa[69]=1,Ha[101]=Ha[69]=0,Wa[101]=Wa[69]=0,hs[149]=hs[21]=0,ds[149]=ds[21]=1,gs[149]=gs[21]=1,Ka[149]=Ka[21]=-1,Ja[149]=Ja[21]=0,Qa[149]=Qa[21]=0,ss[86]=ss[84]=-1,us[86]=us[84]=0,cs[86]=cs[84]=1,ls[86]=ls[84]=0,fs[86]=fs[84]=-1,ps[86]=ps[84]=1,Za[89]=Za[81]=0,$a[89]=$a[81]=-1,ts[89]=ts[81]=0,os[89]=os[81]=1,is[89]=is[81]=0,as[89]=as[81]=1,Za[96]=Za[74]=0,$a[96]=$a[74]=1,ts[96]=ts[74]=0,es[96]=es[74]=-1,ns[96]=ns[74]=0,rs[96]=rs[74]=1,ls[96]=ls[74]=1,fs[96]=fs[74]=0,ps[96]=ps[74]=0,Xa[96]=Xa[74]=1,Ha[96]=Ha[74]=0,Wa[96]=Wa[74]=1,Za[24]=Za[146]=0,$a[24]=$a[146]=-1,ts[24]=ts[146]=1,ss[24]=ss[146]=1,us[24]=us[146]=0,cs[24]=cs[146]=1,os[24]=os[146]=0,is[24]=is[146]=1,as[24]=as[146]=1,Ka[24]=Ka[146]=0,Ja[24]=Ja[146]=-1,Qa[24]=Qa[146]=0,es[6]=es[164]=-1,ns[6]=ns[164]=0,rs[6]=rs[164]=1,ss[6]=ss[164]=-1,us[6]=us[164]=0,cs[6]=cs[164]=0,hs[6]=hs[164]=0,ds[6]=ds[164]=-1,gs[6]=gs[164]=1,ls[6]=ls[164]=1,fs[6]=fs[164]=0,ps[6]=ps[164]=0,os[129]=os[41]=0,is[129]=is[41]=1,as[129]=as[41]=1,hs[129]=hs[41]=0,ds[129]=ds[41]=1,gs[129]=gs[41]=0,Xa[129]=Xa[41]=-1,Ha[129]=Ha[41]=0,Wa[129]=Wa[41]=0,Ka[129]=Ka[41]=0,Ja[129]=Ja[41]=-1,Qa[129]=Qa[41]=0,ss[66]=ss[104]=0,us[66]=us[104]=1,cs[66]=cs[104]=0,os[66]=os[104]=-1,is[66]=is[104]=0,as[66]=as[104]=1,ls[66]=ls[104]=0,fs[66]=fs[104]=-1,ps[66]=ps[104]=0,Xa[66]=Xa[104]=0,Ha[66]=Ha[104]=-1,Wa[66]=Wa[104]=1,Za[144]=Za[26]=-1,$a[144]=$a[26]=0,ts[144]=ts[26]=0,hs[144]=hs[26]=1,ds[144]=ds[26]=0,gs[144]=gs[26]=1,ls[144]=ls[26]=0,fs[144]=fs[26]=1,ps[144]=ps[26]=1,Ka[144]=Ka[26]=-1,Ja[144]=Ja[26]=0,Qa[144]=Qa[26]=1,es[36]=es[134]=0,ns[36]=ns[134]=1,rs[36]=rs[134]=1,ss[36]=ss[134]=0,us[36]=us[134]=1,cs[36]=cs[134]=0,Xa[36]=Xa[134]=0,Ha[36]=Ha[134]=-1,Wa[36]=Wa[134]=1,Ka[36]=Ka[134]=1,Ja[36]=Ja[134]=0,Qa[36]=Qa[134]=0,Za[9]=Za[161]=-1,$a[9]=$a[161]=0,ts[9]=ts[161]=0,es[9]=es[161]=0,ns[9]=ns[161]=-1,rs[9]=rs[161]=0,os[9]=os[161]=1,is[9]=is[161]=0,as[9]=as[161]=0,hs[9]=hs[161]=1,ds[9]=ds[161]=0,gs[9]=gs[161]=1,Za[136]=0,$a[136]=1,ts[136]=1,es[136]=0,ns[136]=1,rs[136]=0,ss[136]=-1,us[136]=0,cs[136]=1,os[136]=-1,is[136]=0,as[136]=0,hs[136]=0,ds[136]=-1,gs[136]=0,ls[136]=0,fs[136]=-1,ps[136]=1,Xa[136]=1,Ha[136]=0,Wa[136]=0,Ka[136]=1,Ja[136]=0,Qa[136]=1,Za[34]=0,$a[34]=-1,ts[34]=0,es[34]=0,ns[34]=-1,rs[34]=1,ss[34]=1,us[34]=0,cs[34]=0,os[34]=1,is[34]=0,as[34]=1,hs[34]=0,ds[34]=1,gs[34]=1,ls[34]=0,fs[34]=1,ps[34]=0,Xa[34]=-1,Ha[34]=0,Wa[34]=1,Ka[34]=-1,Ja[34]=0,Qa[34]=0,Za[35]=0,$a[35]=1,ts[35]=1,es[35]=0,ns[35]=-1,rs[35]=1,ss[35]=1,us[35]=0,cs[35]=0,os[35]=-1,is[35]=0,as[35]=0,hs[35]=0,ds[35]=-1,gs[35]=0,ls[35]=0,fs[35]=1,ps[35]=0,Xa[35]=-1,Ha[35]=0,Wa[35]=1,Ka[35]=1,Ja[35]=0,Qa[35]=1,Za[153]=0,$a[153]=1,ts[153]=1,os[153]=-1,is[153]=0,as[153]=0,hs[153]=0,ds[153]=-1,gs[153]=0,Ka[153]=1,Ja[153]=0,Qa[153]=1,es[102]=0,ns[102]=-1,rs[102]=1,ss[102]=1,us[102]=0,cs[102]=0,ls[102]=0,fs[102]=1,ps[102]=0,Xa[102]=-1,Ha[102]=0,Wa[102]=1,Za[155]=0,$a[155]=-1,ts[155]=0,os[155]=1,is[155]=0,as[155]=1,hs[155]=0,ds[155]=1,gs[155]=1,Ka[155]=-1,Ja[155]=0,Qa[155]=0,es[103]=0,ns[103]=1,rs[103]=0,ss[103]=-1,us[103]=0,cs[103]=1,ls[103]=0,fs[103]=-1,ps[103]=1,Xa[103]=1,Ha[103]=0,Wa[103]=0,Za[152]=0,$a[152]=1,ts[152]=1,ss[152]=-1,us[152]=0,cs[152]=1,os[152]=-1,is[152]=0,as[152]=0,hs[152]=0,ds[152]=-1,gs[152]=0,ls[152]=0,fs[152]=-1,ps[152]=1,Ka[152]=1,Ja[152]=0,Qa[152]=1,Za[156]=0,$a[156]=-1,ts[156]=1,ss[156]=1,us[156]=0,cs[156]=1,os[156]=-1,is[156]=0,as[156]=0,hs[156]=0,ds[156]=-1,gs[156]=0,ls[156]=0,fs[156]=1,ps[156]=1,Ka[156]=-1,Ja[156]=0,Qa[156]=1,Za[137]=0,$a[137]=1,ts[137]=1,es[137]=0,ns[137]=1,rs[137]=0,os[137]=-1,is[137]=0,as[137]=0,hs[137]=0,ds[137]=-1,gs[137]=0,Xa[137]=1,Ha[137]=0,Wa[137]=0,Ka[137]=1,Ja[137]=0,Qa[137]=1,Za[139]=0,$a[139]=1,ts[139]=1,es[139]=0,ns[139]=-1,rs[139]=0,os[139]=1,is[139]=0,as[139]=0,hs[139]=0,ds[139]=1,gs[139]=0,Xa[139]=-1,Ha[139]=0,Wa[139]=0,Ka[139]=1,Ja[139]=0,Qa[139]=1,Za[98]=0,$a[98]=-1,ts[98]=0,es[98]=0,ns[98]=-1,rs[98]=1,ss[98]=1,us[98]=0,cs[98]=0,os[98]=1,is[98]=0,as[98]=1,ls[98]=0,fs[98]=1,ps[98]=0,Xa[98]=-1,Ha[98]=0,Wa[98]=1,Za[99]=0,$a[99]=1,ts[99]=0,es[99]=0,ns[99]=-1,rs[99]=1,ss[99]=1,us[99]=0,cs[99]=0,os[99]=-1,is[99]=0,as[99]=1,ls[99]=0,fs[99]=-1,ps[99]=0,Xa[99]=1,Ha[99]=0,Wa[99]=1,es[38]=0,ns[38]=-1,rs[38]=1,ss[38]=1,us[38]=0,cs[38]=0,hs[38]=0,ds[38]=1,gs[38]=1,ls[38]=0,fs[38]=1,ps[38]=0,Xa[38]=-1,Ha[38]=0,Wa[38]=1,Ka[38]=-1,Ja[38]=0,Qa[38]=0,es[39]=0,ns[39]=1,rs[39]=1,ss[39]=-1,us[39]=0,cs[39]=0,hs[39]=0,ds[39]=-1,gs[39]=1,ls[39]=0,fs[39]=1,ps[39]=0,Xa[39]=-1,Ha[39]=0,Wa[39]=1,Ka[39]=1,Ja[39]=0,Qa[39]=0;var ys=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ms=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},vs=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},_s=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},bs=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},ws=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},xs=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Es=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Cs=[],Is=[],Ns=[],Ss=[],Ps=[],Os=[],Ms=[],Ls=[];Ss[1]=Ps[1]=18,Ss[169]=Ps[169]=18,Ns[4]=Is[4]=12,Ns[166]=Is[166]=12,Cs[16]=Ls[16]=4,Cs[154]=Ls[154]=4,Os[64]=Ms[64]=22,Os[106]=Ms[106]=22,Ns[2]=Os[2]=17,Ss[2]=Ps[2]=18,Ns[168]=Os[168]=17,Ss[168]=Ps[168]=18,Cs[8]=Ss[8]=9,Is[8]=Ns[8]=12,Cs[162]=Ss[162]=9,Is[162]=Ns[162]=12,Cs[32]=Ls[32]=4,Is[32]=Ms[32]=1,Cs[138]=Ls[138]=4,Is[138]=Ms[138]=1,Ps[128]=Ls[128]=21,Os[128]=Ms[128]=22,Ps[42]=Ls[42]=21,Os[42]=Ms[42]=22,Is[5]=Ps[5]=14,Is[165]=Ps[165]=14,Ns[20]=Ls[20]=6,Ns[150]=Ls[150]=6,Cs[80]=Os[80]=11,Cs[90]=Os[90]=11,Ss[65]=Ms[65]=3,Ss[105]=Ms[105]=3,Cs[160]=Os[160]=11,Is[160]=Ps[160]=14,Cs[10]=Os[10]=11,Is[10]=Ps[10]=14,Ns[130]=Ls[130]=6,Ss[130]=Ms[130]=3,Ns[40]=Ls[40]=6,Ss[40]=Ms[40]=3,Is[101]=Ms[101]=1,Is[69]=Ms[69]=1,Ps[149]=Ls[149]=21,Ps[21]=Ls[21]=21,Ns[86]=Os[86]=17,Ns[84]=Os[84]=17,Cs[89]=Ss[89]=9,Cs[81]=Ss[81]=9,Cs[96]=Ms[96]=0,Is[96]=Os[96]=15,Cs[74]=Ms[74]=0,Is[74]=Os[74]=15,Cs[24]=Ns[24]=8,Ss[24]=Ls[24]=7,Cs[146]=Ns[146]=8,Ss[146]=Ls[146]=7,Is[6]=Os[6]=15,Ns[6]=Ps[6]=16,Is[164]=Os[164]=15,Ns[164]=Ps[164]=16,Ss[129]=Ls[129]=7,Ps[129]=Ms[129]=20,Ss[41]=Ls[41]=7,Ps[41]=Ms[41]=20,Ns[66]=Ms[66]=2,Ss[66]=Os[66]=19,Ns[104]=Ms[104]=2,Ss[104]=Os[104]=19,Cs[144]=Ps[144]=10,Os[144]=Ls[144]=23,Cs[26]=Ps[26]=10,Os[26]=Ls[26]=23,Is[36]=Ls[36]=5,Ns[36]=Ms[36]=2,Is[134]=Ls[134]=5,Ns[134]=Ms[134]=2,Cs[9]=Ps[9]=10,Is[9]=Ss[9]=13,Cs[161]=Ps[161]=10,Is[161]=Ss[161]=13,Is[37]=Ls[37]=5,Ps[37]=Ms[37]=20,Is[133]=Ls[133]=5,Ps[133]=Ms[133]=20,Ns[148]=Ps[148]=16,Os[148]=Ls[148]=23,Ns[22]=Ps[22]=16,Os[22]=Ls[22]=23,Cs[82]=Ns[82]=8,Ss[82]=Os[82]=19,Cs[88]=Ns[88]=8,Ss[88]=Os[88]=19,Cs[73]=Ms[73]=0,Is[73]=Ss[73]=13,Cs[97]=Ms[97]=0,Is[97]=Ss[97]=13,Cs[145]=Ss[145]=9,Ps[145]=Ls[145]=21,Cs[25]=Ss[25]=9,Ps[25]=Ls[25]=21,Is[70]=Ms[70]=1,Ns[70]=Os[70]=17,Is[100]=Ms[100]=1,Ns[100]=Os[100]=17,Cs[34]=Ss[34]=9,Is[34]=Ns[34]=12,Ps[34]=Ls[34]=21,Os[34]=Ms[34]=22,Cs[136]=Ls[136]=4,Is[136]=Ms[136]=1,Ns[136]=Os[136]=17,Ss[136]=Ps[136]=18,Cs[35]=Ls[35]=4,Is[35]=Ns[35]=12,Ss[35]=Ps[35]=18,Os[35]=Ms[35]=22,Cs[153]=Ls[153]=4,Ss[153]=Ps[153]=18,Is[102]=Ns[102]=12,Os[102]=Ms[102]=22,Cs[155]=Ss[155]=9,Ps[155]=Ls[155]=23,Is[103]=Ms[103]=1,Ns[103]=Os[103]=17,Cs[152]=Ls[152]=4,Ns[152]=Os[152]=17,Ss[152]=Ps[152]=18,Cs[156]=Ns[156]=8,Ss[156]=Ps[156]=18,Os[156]=Ls[156]=23,Cs[137]=Ls[137]=4,Is[137]=Ms[137]=1,Ss[137]=Ps[137]=18,Cs[139]=Ls[139]=4,Is[139]=Ss[139]=13,Ps[139]=Ms[139]=20,Cs[98]=Ss[98]=9,Is[98]=Ns[98]=12,Os[98]=Ms[98]=22,Cs[99]=Ms[99]=0,Is[99]=Ns[99]=12,Ss[99]=Os[99]=19,Is[38]=Ns[38]=12,Ps[38]=Ls[38]=21,Os[38]=Ms[38]=22,Is[39]=Ls[39]=5,Ns[39]=Ps[39]=16,Os[39]=Ms[39]=22;var Ts=[];Ts[1]=Ts[169]=ys,Ts[4]=Ts[166]=ms,Ts[16]=Ts[154]=vs,Ts[64]=Ts[106]=_s,Ts[168]=Ts[2]=bs,Ts[162]=Ts[8]=ws,Ts[138]=Ts[32]=xs,Ts[42]=Ts[128]=Es,Ts[5]=Ts[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Ts[20]=Ts[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Ts[80]=Ts[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Ts[65]=Ts[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ts[160]=Ts[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Ts[130]=Ts[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Ts[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ts[101]=Ts[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Ts[149]=Ts[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Ts[86]=Ts[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Ts[89]=Ts[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Ts[96]=Ts[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Ts[24]=Ts[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Ts[6]=Ts[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Ts[129]=Ts[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Ts[66]=Ts[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ts[144]=Ts[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ts[36]=Ts[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Ts[9]=Ts[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Ts[37]=Ts[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ts[148]=Ts[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ts[82]=Ts[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Ts[73]=Ts[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ts[145]=Ts[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ts[70]=Ts[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ts[34]=function(t){return[Es(t),ws(t)]},Ts[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ts[136]=function(t){return[xs(t),bs(t)]},Ts[153]=function(t){return[vs(t),ys(t)]},Ts[102]=function(t){return[ms(t),_s(t)]},Ts[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ts[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ts[152]=function(t){return[vs(t),bs(t)]},Ts[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ts[137]=function(t){return[xs(t),ys(t)]},Ts[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ts[98]=function(t){return[ws(t),_s(t)]},Ts[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ts[38]=function(t){return[ms(t),Es(t)]},Ts[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var Rs=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};Rs.buildId=function(t){return t.join(",")},Rs.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},Rs.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},Rs.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},Rs.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var r=e.to,o=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&o.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-o.coordinates[1]:o.coordinates[1]-r.coordinates[1];var i=br(t.coordinates,r.coordinates,o.coordinates);return i<0?1:i>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},Rs.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},Rs.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},Rs.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var As=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};As.prototype.getSymetric=function(){return this.symetric||(this.symetric=new As(this.to,this.from),this.symetric.symetric=this),this.symetric},As.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},As.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},As.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},As.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},As.prototype.compareTo=function(t){return br(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var ks=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},Ds={length:{configurable:!0}};ks.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},ks.prototype.get=function(t){return this.edges[t]},Ds.length.get=function(){return this.edges.length},ks.prototype.forEach=function(t){this.edges.forEach(t)},ks.prototype.map=function(t){return this.edges.map(t)},ks.prototype.some=function(t){return this.edges.some(t)},ks.prototype.isValid=function(){return!0},ks.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e},0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,o=br(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===o?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:o>0},ks.prototype.toMultiPoint=function(){return f(this.edges.map(function(t){return t.from.coordinates}))},ks.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=i([t])},ks.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=le(this.toPolygon())},ks.findEdgeRingContaining=function(t,e){var n,o,i=t.getEnvelope();return e.forEach(function(e){var a=e.getEnvelope();if(o&&(n=o.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),r=t.geometry.coordinates.map(function(t){return t[1]}),o=e.geometry.coordinates.map(function(t){return t[0]}),i=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,o)&&Math.max(null,r)===Math.max(null,i)&&Math.min(null,n)===Math.min(null,o)&&Math.min(null,r)===Math.min(null,i)}(a,i)&&wr(a,i)){var s=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});s&&e.inside(r(s))&&(o&&!wr(n,a)||(o=e))}}),o},ks.prototype.inside=function(t){return Mt(t,this.toPolygon())},Object.defineProperties(ks.prototype,Ds);var Fs=function(){this.edges=[],this.nodes={}};Fs.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new Fs;return D(t,function(t){H(t,"LineString","Graph::fromGeoJson"),P(t,function(t,n){if(t){var r=e.getNode(t),o=e.getNode(n);e.addEdge(r,o)}return n})}),e},Fs.prototype.getNode=function(t){var e=Rs.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new Rs(t)),n},Fs.prototype.addEdge=function(t,e){var n=new As(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Fs.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},Fs.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},Fs.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},Fs.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},Fs.prototype._computeNextCCWEdges=function(t,e){for(var n,r,o=t.getOuterEdges(),i=o.length-1;i>=0;--i){var a=o[i],s=a.symetric,u=void 0,c=void 0;a.label===e&&(u=a),s.label===e&&(c=s),u&&c&&(c&&(r=c),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},Fs.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}}),t},Fs.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},Fs.prototype._findIntersectionNodes=function(t){var e=[],n=t;do{!function(){var r=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++r}),r>1&&e.push(n.from),n=n.next}()}while(!t.isEqual(n));return e},Fs.prototype._findEdgeRing=function(t){var e=t,n=new ks;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},Fs.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},Fs.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var js=vt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),Bs=(js.shim,vt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=o?n:r).supported=n,e.unsupported=r})),qs=(Bs.supported,Bs.unsupported,vt(function(t){function e(t){return null===t||void 0===t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,o=t.exports=function(t,i,a){return a||(a={}),t===i||(t instanceof Date&&i instanceof Date?t.getTime()===i.getTime():!t||!i||"object"!=typeof t&&"object"!=typeof i?a.strict?t===i:t==i:function(t,i,a){var s,u;if(e(t)||e(i))return!1;if(t.prototype!==i.prototype)return!1;if(Bs(t))return!!Bs(i)&&(t=r.call(t),i=r.call(i),o(t,i,a));if(n(t)){if(!n(i))return!1;if(t.length!==i.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==i[s])return!1;return!0}try{var c=js(t),l=js(i)}catch(t){return!1}if(c.length!=l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!=l[s])return!1;for(s=c.length-1;s>=0;s--)if(u=c[s],!o(t[u],i[u],a))return!1;return typeof t==typeof i}(t,i,a))}})),Us=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Tr};Us.prototype.compare=function(t,e){if(t.type!==e.type||!Lr(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=Mr(t),o=Mr(e);return r.every(function(t){return this.some(function(e){return n.compare(t,e)})},o)}}return!1},Us.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Us.prototype.compareLine=function(t,e,n,r){if(!Lr(t,e))return!1;var o=this.pseudoNode?t:this.removePseudo(t),i=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var a=this.compareCoord(o[n],i[n]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[n],i[i.length-(1+n)])&&this.comparePath(o.slice().reverse(),i)}},Us.prototype.fixStartIndex=function(t,e){for(var n,r=-1,o=0;o<t.length;o++)if(this.compareCoord(t[o],e[0])){r=o;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Us.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},Us.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),o=this;return n.every(function(t){return this.some(function(e){return o.compareLine(t,e,1,!0)})},r)}return!1},Us.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Us.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Us.prototype.removePseudo=function(t){return t};var zs=Us,Gs=vt(function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(o,a),this._expandCluster(a,i)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);o.length>=this.minPts&&(e=this._mergeArrays(e,o))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var o=e[r];t.indexOf(o)<0&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Vs=vt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var a=new Array(l),s=0,u=0;u<l;u++)a[u]=0;for(var c=0;c<n;c++){var l=this.dataset[c].length;if(i===this.assignments[c]){for(u=0;u<l;u++)a[u]+=this.dataset[c][u];s++}}if(s>0){for(u=0;u<l;u++)a[u]/=s;this.centroids[i]=a}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,o=Number.MAX_VALUE,i=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<o&&(o=r,i=s);return i},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var o=t[r]-e[r];n+=o*o}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ys=vt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var o=this._priorities[r];"desc"===this._sorting?e>o&&(n=r):e<o&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Xs=vt(function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Ys;e.prototype.run=function(t,e,r,o){this._init(t,e,r,o);for(var i=0,a=this.dataset.length;i<a;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var s=this.clusters.length-1;this._orderedList.push(i);var u=new n(null,null,"asc"),c=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,c,u),this._expandCluster(s,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],o=this._reachability[r];t.push([r,o])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===r._processed[e]){var o=r.distance(r.dataset[t],r.dataset[e]),i=Math.max(r._coreDistance,o);void 0===r._reachability[e]?(r._reachability[e]=i,n.insert(e,i)):i<r._reachability[e]&&(r._reachability[e]=i,n.remove(e),n.insert(e,i))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,o=n.length;r<o;r++){var i=n[r];if(void 0===this._processed[i]){var a=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,o=this.dataset.length;r<o;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Hs=vt(function(t){t.exports&&(t.exports={DBSCAN:Gs,KMEANS:Vs,OPTICS:Xs,PriorityQueue:Ys})}),Ws=(Hs.DBSCAN,Hs.KMEANS,Hs.OPTICS,Hs.PriorityQueue,function(t,e,n){for(var r=t.length,o=0,i=0;i<r;i++){var a=(t[i]||0)-(e[i]||0);o+=a*a}return n?Math.sqrt(o):o}),Ks=Ws,Js=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Qs=Ws,Zs=function(t,e){for(var n={},r=[],o=e<<2,i=t.length,a=t[0].length>0;r.length<e&&o-- >0;){var s=t[Math.floor(Math.random()*i)],u=a?s.join("_"):""+s;n[u]||(n[u]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r},$s=function(t,e){var n=t[0].length?Ks:Js,r=[],o=t.length,i=t[0].length>0,a=t[Math.floor(Math.random()*o)];for(i&&a.join("_"),r.push(a);r.length<e;){for(var s=[],u=r.length,c=0,l=[],f=0;f<o;f++){for(var p=1/0,h=0;h<u;h++){var d=n(t[f],r[h]);d<=p&&(p=d)}s[f]=p}for(var g=0;g<o;g++)c+=s[g];for(var y=0;y<o;y++)l[y]={i:y,v:t[y],pr:s[y]/c,cs:0};l.sort(function(t,e){return t.pr-e.pr}),l[0].cs=l[0].pr;for(var m=1;m<o;m++)l[m].cs=l[m-1].cs+l[m].pr;for(var v=Math.random(),_=0;_<o-1&&l[_++].cs<v;);r.push(l[_-1].v)}return r},tu=function(t,e,n,r){var o=[],i=[],a=[],s=[],u=!1,c=r||1e4,l=t.length,f=t[0].length,p=f>0,h=[];if(n)o="kmrand"==n?Zs(t,e):"kmpp"==n?$s(t,e):n;else for(var d={};o.length<e;){var g=Math.floor(Math.random()*l);d[g]||(d[g]=!0,o.push(t[g]))}do{Ar(e,0,h);for(var y=0;y<l;y++){for(var m=1/0,v=0,_=0;_<e;_++)(s=p?Qs(t[y],o[_]):Math.abs(t[y]-o[_]))<=m&&(m=s,v=_);a[y]=v,h[v]++}for(var b=[],w=(i=[],0);w<e;w++)b[w]=p?Ar(f,0,b[w]):0,i[w]=o[w];if(p){for(var x=0;x<e;x++)o[x]=[];for(var E=0;E<l;E++)for(var C=b[a[E]],I=t[E],N=0;N<f;N++)C[N]+=I[N];u=!0;for(var S=0;S<e;S++){for(var P=o[S],O=b[S],M=i[S],L=h[S],T=0;T<f;T++)P[T]=O[T]/L||0;if(u)for(var R=0;R<f;R++)if(M[R]!=P[R]){u=!1;break}}}else{for(var A=0;A<l;A++)b[a[A]]+=t[A];for(var k=0;k<e;k++)o[k]=b[k]/h[k]||0;u=!0;for(var D=0;D<e;D++)if(i[D]!=o[D]){u=!1;break}}u=u||--c<=0}while(!u);return{it:1e4-c,k:e,idxs:a,centroids:o}},eu={search:function(t,e,n,r){t.cleanDirty();var o=(r=r||{}).heuristic||eu.heuristics.manhattan,i=r.closest||!1,a=new Br(function(t){return t.f}),s=e;for(e.h=o(e,n),a.push(e);a.size()>0;){var u=a.pop();if(u===n)return Dr(u);u.closed=!0;for(var c=t.neighbors(u),l=0,f=c.length;l<f;++l){var p=c[l];if(!p.closed&&!p.isWall()){var h=u.g+p.getCost(u),d=p.visited;(!d||h<p.g)&&(p.visited=!0,p.parent=u,p.h=p.h||o(p,n),p.g=h,p.f=p.g+p.h,t.markDirty(p),i&&(p.h<s.h||p.h===s.h&&p.g<s.g)&&(s=p),d?a.rescoreElement(p):a.push(p))}}}return i?Dr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return 1*(r+o)+(n-2)*Math.min(r,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Fr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)eu.cleanNode(this.nodes[t])},Fr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)eu.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Fr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Fr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,o=this.grid;return o[n-1]&&o[n-1][r]&&e.push(o[n-1][r]),o[n+1]&&o[n+1][r]&&e.push(o[n+1][r]),o[n]&&o[n][r-1]&&e.push(o[n][r-1]),o[n]&&o[n][r+1]&&e.push(o[n][r+1]),this.diagonal&&(o[n-1]&&o[n-1][r-1]&&e.push(o[n-1][r-1]),o[n+1]&&o[n+1][r-1]&&e.push(o[n+1][r-1]),o[n-1]&&o[n-1][r+1]&&e.push(o[n-1][r+1]),o[n+1]&&o[n+1][r+1]&&e.push(o[n+1][r+1])),e},Fr.prototype.toString=function(){for(var t,e,n,r,o=[],i=this.grid,a=0,s=i.length;a<s;a++){for(t=[],n=0,r=(e=i[a]).length;n<r;n++)t.push(e[n].weight);o.push(t.join(" "))}return o.join("\n")},jr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},jr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},jr.prototype.isWall=function(){return 0===this.weight},Br.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var o,i=t+1<<1,a=i-1,s=null;if(a<e){var u=this.content[a];(o=this.scoreFunction(u))<r&&(s=a)}if(i<e){var c=this.content[i];this.scoreFunction(c)<(null===s?r:o)&&(s=i)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var nu=function(t){return function(){return t}};zr.prototype={constructor:zr,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Xr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Vr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Yr(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(Yr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?Xr(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,Vr(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Yr(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,Vr(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,Yr(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Vr(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,Yr(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var ru,ou,iu,au,su,uu=[],cu=[],lu=1e-6,fu=1e-12;lo.prototype={constructor:lo,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return $r(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(i=(o=n.halfedges).length)for(var o,i,a,s=n.site,u=-1,c=e[o[i-1]],l=c.left===s?c.right:c.left;++u<i;)a=l,l=(c=e[o[u]]).left===s?c.right:c.left,a&&l&&r<a.index&&r<l.index&&uo(s,a,l)<0&&t.push([s.data,a.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var u=t-o.site[0],c=e-o.site[1],l=u*u+c*c;do{o=i.cells[r=a],a=null,o.halfedges.forEach(function(n){var r=i.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}})}while(null!==a);return i._found=r,null==n||l<=n*n?o.site:null}};var pu=function(){function t(t){return new lo(t.map(function(r,o){var i=[Math.round(e(r,o,t)/lu)*lu,Math.round(n(r,o,t)/lu)*lu];return i.index=o,i.data=r,i}),r)}var e=qr,n=Ur,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:nu(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:nu(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},hu=Object.freeze({randomPosition:vo,randomPoint:_o,randomPolygon:bo,randomLineString:wo}),du=Object.freeze({getCluster:Eo,clusterEach:Co,clusterReduce:Io,createBins:No,applyFilter:So,propertiesContainsFilter:Po,filterProperties:Oo});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var o=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(o=o<0?Math.max(n+arguments[2],0):Math.min(o,n);r<o;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var gu=function(){};gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu},gu.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var yu=function(){},mu=function(){},vu={MAX_VALUE:{configurable:!0}};mu.isNaN=function(t){return Number.isNaN(t)},mu.doubleToLongBits=function(t){return t},mu.longBitsToDouble=function(t){return t},mu.isInfinite=function(t){return!Number.isFinite(t)},vu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(mu,vu);var _u=function(){},bu=function(){},wu=function(){},xu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Eu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};xu.prototype.setOrdinate=function(t,e){switch(t){case xu.X:this.x=e;break;case xu.Y:this.y=e;break;case xu.Z:this.z=e;break;default:throw new yu("Invalid ordinate index: "+t)}},xu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!gu.equalsWithTolerance(this.x,e.x,n)&&!!gu.equalsWithTolerance(this.y,e.y,n)}},xu.prototype.getOrdinate=function(t){switch(t){case xu.X:return this.x;case xu.Y:return this.y;case xu.Z:return this.z}throw new yu("Invalid ordinate index: "+t)},xu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||mu.isNaN(this.z))&&mu.isNaN(t.z)},xu.prototype.equals=function(t){return t instanceof xu&&this.equals2D(t)},xu.prototype.equalInZ=function(t,e){return gu.equalsWithTolerance(this.z,t.z,e)},xu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},xu.prototype.clone=function(){},xu.prototype.copy=function(){return new xu(this)},xu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},xu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},xu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},xu.prototype.hashCode=function(){var t=17;return t=37*t+xu.hashCode(this.x),t=37*t+xu.hashCode(this.y)},xu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},xu.prototype.interfaces_=function(){return[_u,bu,Mo]},xu.prototype.getClass=function(){return xu},xu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=mu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Eu.DimensionalComparator.get=function(){return Cu},Eu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Eu.NULL_ORDINATE.get=function(){return mu.NaN},Eu.X.get=function(){return 0},Eu.Y.get=function(){return 1},Eu.Z.get=function(){return 2},Object.defineProperties(xu,Eu);var Cu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new yu("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Cu.prototype.compare=function(t,e){var n=t,r=e,o=Cu.compare(n.x,r.x);if(0!==o)return o;var i=Cu.compare(n.y,r.y);return 0!==i?i:this._dimensionsToTest<=2?0:Cu.compare(n.z,r.z)},Cu.prototype.interfaces_=function(){return[wu]},Cu.prototype.getClass=function(){return Cu},Cu.compare=function(t,e){return t<e?-1:t>e?1:mu.isNaN(t)?mu.isNaN(e)?0:-1:mu.isNaN(e)?1:0};var Iu=function(){};Iu.prototype.create=function(){},Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu};var Nu=function(){},Su={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu},Nu.toLocationSymbol=function(t){switch(t){case Nu.EXTERIOR:return"e";case Nu.BOUNDARY:return"b";case Nu.INTERIOR:return"i";case Nu.NONE:return"-"}throw new yu("Unknown location value: "+t)},Su.INTERIOR.get=function(){return 0},Su.BOUNDARY.get=function(){return 1},Su.EXTERIOR.get=function(){return 2},Su.NONE.get=function(){return-1},Object.defineProperties(Nu,Su);var Pu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Ou=function(){},Mu={LOG_10:{configurable:!0}};Ou.prototype.interfaces_=function(){return[]},Ou.prototype.getClass=function(){return Ou},Ou.log10=function(t){var e=Math.log(t);return mu.isInfinite(e)?e:mu.isNaN(e)?e:e/Ou.LOG_10},Ou.min=function(t,e,n,r){var o=t;return e<o&&(o=e),n<o&&(o=n),r<o&&(o=r),o},Ou.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1],i=arguments[2];return r<o?o:r>i?i:r}},Ou.wrap=function(t,e){return t<0?e- -t%e:t%e},Ou.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],u=o;return i>u&&(u=i),a>u&&(u=a),s>u&&(u=s),u}},Ou.average=function(t,e){return(t+e)/2},Mu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Ou,Mu);var Lu=function(t){this.str=t};Lu.prototype.append=function(t){this.str+=t},Lu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Lu.prototype.toString=function(t){return this.str};var Tu=function(t){this.value=t};Tu.prototype.intValue=function(){return this.value},Tu.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Tu.isNaN=function(t){return Number.isNaN(t)};var Ru=function(){};Ru.isWhitespace=function(t){return t<=32&&t>=0||127===t},Ru.toUpperCase=function(t){return t.toUpperCase()};var Au=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var o=arguments[0],i=arguments[1];this.init(o,i)}},ku={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Au.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Au.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=Au.magnitude(n._hi),o=Au.TEN.pow(r);(n=n.divide(o)).gt(Au.TEN)?(n=n.divide(Au.TEN),r+=1):n.lt(Au.ONE)&&(n=n.multiply(Au.TEN),r-=1);for(var i=r+1,a=new Lu,s=Au.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===i&&a.append(".");var c=Math.trunc(n._hi);if(c<0)break;var l=!1,f=0;c>9?(l=!0,f="9"):f="0"+c,a.append(f),n=n.subtract(Au.valueOf(c)).multiply(Au.TEN),l&&n.selfAdd(Au.TEN);var p=!0,h=Au.magnitude(n._hi);if(h<0&&Math.abs(h)>=s-u&&(p=!1),!p)break}return e[0]=r,a.toString()},Au.prototype.sqr=function(){return this.multiply(this)},Au.prototype.doubleValue=function(){return this._hi+this._lo},Au.prototype.subtract=function(){if(arguments[0]instanceof Au){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Au.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Au.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Au.prototype.selfSubtract=function(){if(arguments[0]instanceof Au){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Au.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Au.prototype.min=function(t){return this.le(t)?this:t},Au.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Au){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=null,i=null,a=null,s=null,u=null,c=null,l=null,f=null;return u=this._hi/n,c=Au.SPLIT*u,o=c-u,f=Au.SPLIT*n,o=c-o,i=u-o,a=f-n,l=u*n,a=f-a,s=n-a,f=o*a-l+o*s+i*a+i*s,c=(this._hi-l-f+this._lo-u*r)/n,f=u+c,this._hi=f,this._lo=u-f+c,this}},Au.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Au.prototype.divide=function(){if(arguments[0]instanceof Au){var t=arguments[0],e=null,n=null,r=null,o=null,i=null,a=null,s=null,u=null;return n=(i=this._hi/t._hi)-(e=(a=Au.SPLIT*i)-(e=a-i)),u=e*(r=(u=Au.SPLIT*t._hi)-(r=u-t._hi))-(s=i*t._hi)+e*(o=t._hi-r)+n*r+n*o,a=(this._hi-s-u+this._lo-i*t._lo)/t._hi,new Au(u=i+a,i-u+a)}if("number"==typeof arguments[0]){var c=arguments[0];return mu.isNaN(c)?Au.createNaN():Au.copy(this).selfDivide(c,0)}},Au.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Au.prototype.pow=function(t){if(0===t)return Au.valueOf(1);var e=new Au(this),n=Au.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Au.prototype.ceil=function(){if(this.isNaN())return Au.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Au(t,e)},Au.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Au.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Au.prototype.setValue=function(){if(arguments[0]instanceof Au){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Au.prototype.max=function(t){return this.ge(t)?this:t},Au.prototype.sqrt=function(){if(this.isZero())return Au.valueOf(0);if(this.isNegative())return Au.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=Au.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},Au.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Au){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,o=null,i=null,a=null,s=null;return o=this._hi+e,a=o-this._hi,i=o-a,i=e-a+(this._hi-i),s=i+this._lo,n=o+s,r=s+(o-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],c=arguments[1],l=null,f=null,p=null,h=null,d=null,g=null,y=null;h=this._hi+u,f=this._lo+c,d=h-(g=h-this._hi),p=f-(y=f-this._lo);var m=(l=h+(g=(d=u-g+(this._hi-d))+f))+(g=(p=c-y+(this._lo-p))+(g+(h-l))),v=g+(l-m);return this._hi=m,this._lo=v,this}},Au.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Au){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=null,i=null,a=null,s=null,u=null,c=null;o=(u=Au.SPLIT*this._hi)-this._hi,c=Au.SPLIT*n,o=u-o,i=this._hi-o,a=c-n;var l=(u=this._hi*n)+(c=o*(a=c-a)-u+o*(s=n-a)+i*a+i*s+(this._hi*r+this._lo*n)),f=c+(o=u-l);return this._hi=l,this._lo=f,this}},Au.prototype.selfSqr=function(){return this.selfMultiply(this)},Au.prototype.floor=function(){if(this.isNaN())return Au.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Au(t,e)},Au.prototype.negate=function(){return this.isNaN()?this:new Au(-this._hi,-this._lo)},Au.prototype.clone=function(){},Au.prototype.multiply=function(){if(arguments[0]instanceof Au){var t=arguments[0];return t.isNaN()?Au.createNaN():Au.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return mu.isNaN(e)?Au.createNaN():Au.copy(this).selfMultiply(e,0)}},Au.prototype.isNaN=function(){return mu.isNaN(this._hi)},Au.prototype.intValue=function(){return Math.trunc(this._hi)},Au.prototype.toString=function(){var t=Au.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Au.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(r<0)o="0."+Au.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var i=r-n.length;o=n+Au.stringOfChar("0",i)+".0"}return this.isNegative()?"-"+o:o},Au.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,o=null,i=null,a=null,s=null;e=(o=1/this._hi)-(t=(i=Au.SPLIT*o)-(t=i-o)),n=(s=Au.SPLIT*this._hi)-this._hi;var u=o+(i=(1-(a=o*this._hi)-(s=t*(n=s-n)-a+t*(r=this._hi-n)+e*n+e*r)-o*this._lo)/this._hi);return new Au(u,o-u+i)},Au.prototype.toSciNotation=function(){if(this.isZero())return Au.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=Au.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var i=n.charAt(0)+"."+o;return this.isNegative()?"-"+i+r:i+r},Au.prototype.abs=function(){return this.isNaN()?Au.NaN:this.isNegative()?this.negate():new Au(this)},Au.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Au.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Au.prototype.add=function(){if(arguments[0]instanceof Au){var t=arguments[0];return Au.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Au.copy(this).selfAdd(e)}},Au.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Au){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Au.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Au.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Au.prototype.trunc=function(){return this.isNaN()?Au.NaN:this.isPositive()?this.floor():this.ceil()},Au.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Au.prototype.interfaces_=function(){return[Mo,_u,bu]},Au.prototype.getClass=function(){return Au},Au.sqr=function(t){return Au.valueOf(t).selfMultiply(t)},Au.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return Au.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new Au(e)}},Au.sqrt=function(t){return Au.valueOf(t).sqrt()},Au.parse=function(t){for(var e=0,n=t.length;Ru.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var o=t.charAt(e);"-"!==o&&"+"!==o||(e++,"-"===o&&(r=!0))}for(var i=new Au,a=0,s=0,u=0;!(e>=n);){var c=t.charAt(e);if(e++,Ru.isDigit(c)){var l=c-"0";i.selfMultiply(Au.TEN),i.selfAdd(l),a++}else{if("."!==c){if("e"===c||"E"===c){var f=t.substring(e);try{u=Tu.parseInt(f)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+f+" in string "+t):e}break}throw new Error("Unexpected character '"+c+"' at position "+e+" in string "+t)}s=a}}var p=i,h=a-s-u;if(0===h)p=i;else if(h>0){var d=Au.TEN.pow(h);p=i.divide(d)}else if(h<0){var g=Au.TEN.pow(-h);p=i.multiply(g)}return r?p.negate():p},Au.createNaN=function(){return new Au(mu.NaN,mu.NaN)},Au.copy=function(t){return new Au(t)},Au.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},Au.stringOfChar=function(t,e){for(var n=new Lu,r=0;r<e;r++)n.append(t);return n.toString()},ku.PI.get=function(){return new Au(3.141592653589793,1.2246467991473532e-16)},ku.TWO_PI.get=function(){return new Au(6.283185307179586,2.4492935982947064e-16)},ku.PI_2.get=function(){return new Au(1.5707963267948966,6.123233995736766e-17)},ku.E.get=function(){return new Au(2.718281828459045,1.4456468917292502e-16)},ku.NaN.get=function(){return new Au(mu.NaN,mu.NaN)},ku.EPS.get=function(){return 1.23259516440783e-32},ku.SPLIT.get=function(){return 134217729},ku.MAX_PRINT_DIGITS.get=function(){return 32},ku.TEN.get=function(){return Au.valueOf(10)},ku.ONE.get=function(){return Au.valueOf(1)},ku.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},ku.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Au,ku);var Du=function(){},Fu={DP_SAFE_EPSILON:{configurable:!0}};Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du},Du.orientationIndex=function(t,e,n){var r=Du.orientationIndexFilter(t,e,n);if(r<=1)return r;var o=Au.valueOf(e.x).selfAdd(-t.x),i=Au.valueOf(e.y).selfAdd(-t.y),a=Au.valueOf(n.x).selfAdd(-e.x),s=Au.valueOf(n.y).selfAdd(-e.y);return o.selfMultiply(s).selfSubtract(i.selfMultiply(a)).signum()},Du.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},Du.intersection=function(t,e,n,r){var o=Au.valueOf(r.y).selfSubtract(n.y).selfMultiply(Au.valueOf(e.x).selfSubtract(t.x)),i=Au.valueOf(r.x).selfSubtract(n.x).selfMultiply(Au.valueOf(e.y).selfSubtract(t.y)),a=o.subtract(i),s=Au.valueOf(r.x).selfSubtract(n.x).selfMultiply(Au.valueOf(t.y).selfSubtract(n.y)),u=Au.valueOf(r.y).selfSubtract(n.y).selfMultiply(Au.valueOf(t.x).selfSubtract(n.x)),c=s.subtract(u).selfDivide(a).doubleValue(),l=Au.valueOf(t.x).selfAdd(Au.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),f=Au.valueOf(e.x).selfSubtract(t.x).selfMultiply(Au.valueOf(t.y).selfSubtract(n.y)),p=Au.valueOf(e.y).selfSubtract(t.y).selfMultiply(Au.valueOf(t.x).selfSubtract(n.x)),h=f.subtract(p).selfDivide(a).doubleValue(),d=Au.valueOf(n.y).selfAdd(Au.valueOf(r.y).selfSubtract(n.y).selfMultiply(h)).doubleValue();return new xu(l,d)},Du.orientationIndexFilter=function(t,e,n){var r=null,o=(t.x-n.x)*(e.y-n.y),i=(t.y-n.y)*(e.x-n.x),a=o-i;if(o>0){if(i<=0)return Du.signum(a);r=o+i}else{if(!(o<0))return Du.signum(a);if(i>=0)return Du.signum(a);r=-o-i}var s=Du.DP_SAFE_EPSILON*r;return a>=s||-a>=s?Du.signum(a):2},Du.signum=function(t){return t>0?1:t<0?-1:0},Fu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Du,Fu);var ju=function(){},Bu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Bu.X.get=function(){return 0},Bu.Y.get=function(){return 1},Bu.Z.get=function(){return 2},Bu.M.get=function(){return 3},ju.prototype.setOrdinate=function(t,e,n){},ju.prototype.size=function(){},ju.prototype.getOrdinate=function(t,e){},ju.prototype.getCoordinate=function(){},ju.prototype.getCoordinateCopy=function(t){},ju.prototype.getDimension=function(){},ju.prototype.getX=function(t){},ju.prototype.clone=function(){},ju.prototype.expandEnvelope=function(t){},ju.prototype.copy=function(){},ju.prototype.getY=function(t){},ju.prototype.toCoordinateArray=function(){},ju.prototype.interfaces_=function(){return[bu]},ju.prototype.getClass=function(){return ju},Object.defineProperties(ju,Bu);var qu=function(){},Uu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qu),zu=function(){};zu.arraycopy=function(t,e,n,r,o){for(var i=0,a=e;a<e+o;a++)n[r+i]=t[a],i++},zu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Gu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var o=arguments[0],i=arguments[1];this.x=o.y*i.w-i.y*o.w,this.y=i.x*o.w-o.x*i.w,this.w=o.x*i.y-i.x*o.y}else if(arguments[0]instanceof xu&&arguments[1]instanceof xu){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2];this.x=u,this.y=c,this.w=l}else if(4===arguments.length){var f=arguments[0],p=arguments[1],h=arguments[2],d=arguments[3],g=f.y-p.y,y=p.x-f.x,m=f.x*p.y-p.x*f.y,v=h.y-d.y,_=d.x-h.x,b=h.x*d.y-d.x*h.y;this.x=y*b-_*m,this.y=v*m-g*b,this.w=g*_-v*y}};Gu.prototype.getY=function(){var t=this.y/this.w;if(mu.isNaN(t)||mu.isInfinite(t))throw new Uu;return t},Gu.prototype.getX=function(){var t=this.x/this.w;if(mu.isNaN(t)||mu.isInfinite(t))throw new Uu;return t},Gu.prototype.getCoordinate=function(){var t=new xu;return t.x=this.getX(),t.y=this.getY(),t},Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu},Gu.intersection=function(t,e,n,r){var o=t.y-e.y,i=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,l=o*u-s*i,f=(i*c-u*a)/l,p=(s*a-o*c)/l;if(mu.isNaN(f)||mu.isInfinite(f)||mu.isNaN(p)||mu.isInfinite(p))throw new Uu;return new xu(f,p)};var Vu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof xu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r.x,o.x,r.y,o.y)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(i,a,s,u)}},Yu={serialVersionUID:{configurable:!0}};Vu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Vu.prototype.equals=function(t){if(!(t instanceof Vu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Vu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Vu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new Vu(e,r,n,o)},Vu.prototype.isNull=function(){return this._maxx<this._minx},Vu.prototype.getMaxX=function(){return this._maxx},Vu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof xu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Vu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Vu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Vu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof xu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Vu.prototype.getMinY=function(){return this._miny},Vu.prototype.getMinX=function(){return this._minx},Vu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof xu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Vu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Vu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Vu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Vu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Vu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Vu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Vu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Vu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Vu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Vu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Vu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Vu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof xu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Vu.prototype.centre=function(){return this.isNull()?null:new xu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Vu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof xu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Vu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];o<i?(this._minx=o,this._maxx=i):(this._minx=i,this._maxx=o),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},Vu.prototype.getMaxY=function(){return this._maxy},Vu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Vu.prototype.hashCode=function(){var t=17;return t=37*t+xu.hashCode(this._minx),t=37*t+xu.hashCode(this._maxx),t=37*t+xu.hashCode(this._miny),t=37*t+xu.hashCode(this._maxy)},Vu.prototype.interfaces_=function(){return[_u,Mo]},Vu.prototype.getClass=function(){return Vu},Vu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=Math.min(i.x,a.x),u=Math.max(i.x,a.x),c=Math.min(r.x,o.x),l=Math.max(r.x,o.x);return!(c>u)&&!(l<s)&&(s=Math.min(i.y,a.y),u=Math.max(i.y,a.y),c=Math.min(r.y,o.y),l=Math.max(r.y,o.y),!(c>u)&&!(l<s))}},Yu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Vu,Yu);var Xu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Hu=function(t){this.geometryFactory=t||new yl};Hu.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var o=Xu.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((o=Xu.emptyTypeStr.exec(t))[2]=void 0),o&&(n=o[1].toLowerCase(),r=o[2],Ku[n]&&(e=Ku[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Hu.prototype.write=function(t){return this.extractGeometry(t)},Hu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Wu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Wu[e].apply(this,[t])+")"};var Wu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Wu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Wu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Wu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Wu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Wu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Wu.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Wu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Wu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Ku={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Xu.spaces);return this.geometryFactory.createPoint(new xu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],o=0,i=n.length;o<i;++o)e=n[o].replace(Xu.trimParens,"$1"),r.push(Ku.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],o=0,i=n.length;o<i;++o)e=n[o].trim().split(Xu.spaces),r.push(new xu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],o=0,i=n.length;o<i;++o)e=n[o].trim().split(Xu.spaces),r.push(new xu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Xu.parenComma),r=[],o=0,i=n.length;o<i;++o)e=n[o].replace(Xu.trimParens,"$1"),r.push(Ku.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,o,i=t.trim().split(Xu.parenComma),a=[],s=0,u=i.length;s<u;++s)e=i[s].replace(Xu.trimParens,"$1"),n=Ku.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?o=r:a.push(r);return this.geometryFactory.createPolygon(o,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Xu.doubleParenComma),r=[],o=0,i=n.length;o<i;++o)e=n[o].replace(Xu.trimParens,"$1"),r.push(Ku.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,o=e.length;r<o;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Ju=function(t){this.parser=new Hu(t)};Ju.prototype.write=function(t){return this.parser.write(t)},Ju.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Qu=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Zu=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qu),$u=function(){};$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u},$u.shouldNeverReachHere=function(){if(0===arguments.length)$u.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Zu("Should never reach here"+(null!==t?": "+t:""))}},$u.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],$u.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new Zu:new Zu(e)},$u.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],$u.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new Zu("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var tc=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new xu,this._intPt[1]=new xu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},ec={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};tc.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},tc.prototype.getTopologySummary=function(){var t=new Lu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},tc.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},tc.prototype.getIntersectionNum=function(){return this._result},tc.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},tc.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},tc.prototype.setPrecisionModel=function(t){this._precisionModel=t},tc.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},tc.prototype.getIntersection=function(t){return this._intPt[t]},tc.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},tc.prototype.hasIntersection=function(){return this._result!==tc.NO_INTERSECTION},tc.prototype.getEdgeDistance=function(t,e){return tc.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},tc.prototype.isCollinear=function(){return this._result===tc.COLLINEAR_INTERSECTION},tc.prototype.toString=function(){return Ju.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ju.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},tc.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},tc.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},tc.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc},tc.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),o=Math.abs(n.y-e.y),i=-1;if(t.equals(e))i=0;else if(t.equals(n))i=r>o?r:o;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(i=r>o?a:s)||t.equals(e)||(i=Math.max(a,s))}return $u.isTrue(!(0===i&&!t.equals(e)),"Bad distance calculation"),i},tc.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,o=t.y-e.y,i=Math.sqrt(r*r+o*o);return $u.isTrue(!(0===i&&!t.equals(e)),"Invalid distance calculation"),i},ec.DONT_INTERSECT.get=function(){return 0},ec.DO_INTERSECT.get=function(){return 1},ec.COLLINEAR.get=function(){return 2},ec.NO_INTERSECTION.get=function(){return 0},ec.POINT_INTERSECTION.get=function(){return 1},ec.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(tc,ec);var nc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Vu(this._inputLines[0][0],this._inputLines[0][1]),n=new Vu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Vu.intersects(n,r,e)&&0===ic.orientationIndex(n,r,e)&&0===ic.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,o){o.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),o.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,o){var i=null;try{i=Gu.intersection(t,n,r,o)}catch(a){if(!(a instanceof Uu))throw a;i=e.nearestEndpoint(t,n,r,o)}return i},e.prototype.intersection=function(t,n,r,o){var i=this.intersectionWithNormalization(t,n,r,o);return this.isInSegmentEnvelopes(i)||(i=new xu(e.nearestEndpoint(t,n,r,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i},e.prototype.smallestInAbsValue=function(t,e,n,r){var o=t,i=Math.abs(o);return Math.abs(e)<i&&(o=e,i=Math.abs(e)),Math.abs(n)<i&&(o=n,i=Math.abs(n)),Math.abs(r)<i&&(o=r),o},e.prototype.checkDD=function(t,e,n,r,o){var i=Du.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(i);zu.out.println("DD in env = "+a+"  --------------------- "+i),o.distance(i)>1e-4&&zu.out.println("Distance = "+o.distance(i))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var o=new xu(t),i=new xu(e),a=new xu(n),s=new xu(r),u=new xu;this.normalizeToEnvCentre(o,i,a,s,u);var c=this.safeHCoordinateIntersection(o,i,a,s);return c.x+=u.x,c.y+=u.y,c},e.prototype.computeCollinearIntersection=function(e,n,r,o){var i=Vu.intersects(e,n,r),a=Vu.intersects(e,n,o),s=Vu.intersects(r,o,e),u=Vu.intersects(r,o,n);return i&&a?(this._intPt[0]=r,this._intPt[1]=o,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):i&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):i&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=o,this._intPt[1]=e,!o.equals(e)||i||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=o,this._intPt[1]=n,!o.equals(n)||i||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,o){var i=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,c=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,p=n.y>r.y?n.y:r.y,h=((i>c?i:c)+(s<f?s:f))/2,d=((a>l?a:l)+(u<p?u:p))/2;o.x=h,o.y=d,t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},e.prototype.computeIntersect=function(e,n,r,o){if(this._isProper=!1,!Vu.intersects(e,n,r,o))return t.NO_INTERSECTION;var i=ic.orientationIndex(e,n,r),a=ic.orientationIndex(e,n,o);if(i>0&&a>0||i<0&&a<0)return t.NO_INTERSECTION;var s=ic.orientationIndex(r,o,e),u=ic.orientationIndex(r,o,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===i&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,r,o):(0===i||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(o)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(o)?this._intPt[0]=n:0===i?this._intPt[0]=new xu(r):0===a?this._intPt[0]=new xu(o):0===s?this._intPt[0]=new xu(e):0===u&&(this._intPt[0]=new xu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,o)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var o=t,i=ic.distancePointLine(t,n,r),a=ic.distancePointLine(e,n,r);return a<i&&(i=a,o=e),(a=ic.distancePointLine(n,t,e))<i&&(i=a,o=n),(a=ic.distancePointLine(r,t,e))<i&&(i=a,o=r),o},e}(tc),rc=function(){};rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},rc.orientationIndex=function(t,e,n){var r=e.x-t.x,o=e.y-t.y,i=n.x-e.x,a=n.y-e.y;return rc.signOfDet2x2(r,o,i,a)},rc.signOfDet2x2=function(t,e,n,r){var o=null,i=null,a=null;if(o=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-o:o:n>0?o:-o;if(0===e||0===n)return r>0?t>0?o:-o:t>0?-o:o;if(e>0?r>0?e<=r||(o=-o,i=t,t=n,n=i,i=e,e=r,r=i):e<=-r?(o=-o,n=-n,r=-r):(i=t,t=-n,n=i,i=e,e=-r,r=i):r>0?-e<=r?(o=-o,t=-t,e=-e):(i=-t,t=n,n=i,i=-e,e=r,r=i):e>=r?(t=-t,e=-e,n=-n,r=-r):(o=-o,i=-t,t=-n,n=i,i=-e,e=-r,r=i),t>0){if(!(n>0))return o;if(!(t<=n))return o}else{if(n>0)return-o;if(!(t>=n))return-o;o=-o,t=-t,n=-n}for(;;){if(a=Math.floor(n/t),n-=a*t,(r-=a*e)<0)return-o;if(r>e)return o;if(t>n+n){if(e<r+r)return o}else{if(e>r+r)return-o;n=t-n,r=e-r,o=-o}if(0===r)return 0===n?0:-o;if(0===n)return o;if(a=Math.floor(t/n),t-=a*n,(e-=a*r)<0)return o;if(e>r)return-o;if(n>t+t){if(r<e+e)return-o}else{if(r>e+e)return o;t=n-t,e=r-e,o=-o}if(0===e)return 0===t?0:o;if(0===t)return-o}};var oc=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};oc.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var o=t.x-this._p.x,i=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,u=rc.signOfDet2x2(o,i,a,s);if(0===u)return this._isPointOnSegment=!0,null;s<i&&(u=-u),u>0&&this._crossingCount++}},oc.prototype.isPointInPolygon=function(){return this.getLocation()!==Nu.EXTERIOR},oc.prototype.getLocation=function(){return this._isPointOnSegment?Nu.BOUNDARY:this._crossingCount%2==1?Nu.INTERIOR:Nu.EXTERIOR},oc.prototype.isOnSegment=function(){return this._isPointOnSegment},oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc},oc.locatePointInRing=function(){if(arguments[0]instanceof xu&&Pu(arguments[1],ju)){for(var t=arguments[0],e=arguments[1],n=new oc(t),r=new xu,o=new xu,i=1;i<e.size();i++)if(e.getCoordinate(i,r),e.getCoordinate(i-1,o),n.countSegment(r,o),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof xu&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],u=new oc(a),c=1;c<s.length;c++){var l=s[c],f=s[c-1];if(u.countSegment(l,f),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var ic=function(){},ac={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.orientationIndex=function(t,e,n){return Du.orientationIndex(t,e,n)},ic.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var o=t[r].x-n,i=t[r+1].y;e+=o*(t[r-1].y-i)}return e/2}if(Pu(arguments[0],ju)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new xu,c=new xu,l=new xu;a.getCoordinate(0,c),a.getCoordinate(1,l);var f=c.x;l.x-=f;for(var p=0,h=1;h<s-1;h++)u.y=c.y,c.x=l.x,c.y=l.y,a.getCoordinate(h+1,l),l.x-=f,p+=c.x*(u.y-l.y);return p/2}},ic.distanceLineLine=function(t,e,n,r){if(t.equals(e))return ic.distancePointLine(t,n,r);if(n.equals(r))return ic.distancePointLine(r,t,e);var o=!1;if(Vu.intersects(t,e,n,r)){var i=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===i)o=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/i,u=a/i;(u<0||u>1||s<0||s>1)&&(o=!0)}}else o=!0;return o?Ou.min(ic.distancePointLine(t,n,r),ic.distancePointLine(e,n,r),ic.distancePointLine(n,t,e),ic.distancePointLine(r,t,e)):0},ic.isPointInRing=function(t,e){return ic.locatePointInRing(t,e)!==Nu.EXTERIOR},ic.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new xu;t.getCoordinate(0,r);for(var o=r.x,i=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,u=r.y,c=s-o,l=u-i;n+=Math.sqrt(c*c+l*l),o=s,i=u}return n},ic.isCCW=function(t){var e=t.length-1;if(e<3)throw new yu("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;o<=e;o++){var i=t[o];i.y>n.y&&(n=i,r=o)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var u=t[a],c=t[s];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var l=ic.computeOrientation(u,n,c);return 0===l?u.x>c.x:l>0},ic.locatePointInRing=function(t,e){return oc.locatePointInRing(t,e)},ic.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),o=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(o)*Math.sqrt(r)},ic.computeOrientation=function(t,e,n){return ic.orientationIndex(t,e,n)},ic.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new yu("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var o=ic.distancePointLine(t,e[r],e[r+1]);o<n&&(n=o)}return n}if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return i.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),c=((i.x-a.x)*(s.x-a.x)+(i.y-a.y)*(s.y-a.y))/u;if(c<=0)return i.distance(a);if(c>=1)return i.distance(s);var l=((a.y-i.y)*(s.x-a.x)-(a.x-i.x)*(s.y-a.y))/u;return Math.abs(l)*Math.sqrt(u)}},ic.isOnLine=function(t,e){for(var n=new nc,r=1;r<e.length;r++){var o=e[r-1],i=e[r];if(n.computeIntersection(t,o,i),n.hasIntersection())return!0}return!1},ac.CLOCKWISE.get=function(){return-1},ac.RIGHT.get=function(){return ic.CLOCKWISE},ac.COUNTERCLOCKWISE.get=function(){return 1},ac.LEFT.get=function(){return ic.COUNTERCLOCKWISE},ac.COLLINEAR.get=function(){return 0},ac.STRAIGHT.get=function(){return ic.COLLINEAR},Object.defineProperties(ic,ac);var sc=function(){};sc.prototype.filter=function(t){},sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc};var uc=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},cc={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};uc.prototype.isGeometryCollection=function(){return this.getSortIndex()===uc.SORTINDEX_GEOMETRYCOLLECTION},uc.prototype.getFactory=function(){return this._factory},uc.prototype.getGeometryN=function(t){return this},uc.prototype.getArea=function(){return 0},uc.prototype.isRectangle=function(){return!1},uc.prototype.equals=function(){if(arguments[0]instanceof uc){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof uc))return!1;var n=e;return this.equalsExact(n)}},uc.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},uc.prototype.geometryChanged=function(){this.apply(uc.geometryChangedFilter)},uc.prototype.geometryChangedAction=function(){this._envelope=null},uc.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},uc.prototype.getLength=function(){return 0},uc.prototype.getNumGeometries=function(){return 1},uc.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},uc.prototype.getUserData=function(){return this._userData},uc.prototype.getSRID=function(){return this._SRID},uc.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},uc.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===uc.SORTINDEX_GEOMETRYCOLLECTION)throw new yu("This method does not support GeometryCollection arguments")},uc.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},uc.prototype.norm=function(){var t=this.copy();return t.normalize(),t},uc.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},uc.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Vu(this._envelope)},uc.prototype.setSRID=function(t){this._SRID=t},uc.prototype.setUserData=function(t){this._userData=t},uc.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var o=n.next(),i=r.next(),a=o.compareTo(i);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},uc.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},uc.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===uc.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===uc.SORTINDEX_MULTIPOINT||this.getSortIndex()===uc.SORTINDEX_MULTILINESTRING||this.getSortIndex()===uc.SORTINDEX_MULTIPOLYGON},uc.prototype.interfaces_=function(){return[bu,_u,Mo]},uc.prototype.getClass=function(){return uc},uc.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},uc.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},cc.serialVersionUID.get=function(){return 0x799ea46522854c00},cc.SORTINDEX_POINT.get=function(){return 0},cc.SORTINDEX_MULTIPOINT.get=function(){return 1},cc.SORTINDEX_LINESTRING.get=function(){return 2},cc.SORTINDEX_LINEARRING.get=function(){return 3},cc.SORTINDEX_MULTILINESTRING.get=function(){return 4},cc.SORTINDEX_POLYGON.get=function(){return 5},cc.SORTINDEX_MULTIPOLYGON.get=function(){return 6},cc.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},cc.geometryChangedFilter.get=function(){return lc},Object.defineProperties(uc,cc);var lc=function(){};lc.interfaces_=function(){return[sc]},lc.filter=function(t){t.geometryChangedAction()};var fc=function(){};fc.prototype.filter=function(t){},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var pc=function(){},hc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};pc.prototype.isInBoundary=function(t){},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc},hc.Mod2BoundaryNodeRule.get=function(){return dc},hc.EndPointBoundaryNodeRule.get=function(){return gc},hc.MultiValentEndPointBoundaryNodeRule.get=function(){return yc},hc.MonoValentEndPointBoundaryNodeRule.get=function(){return mc},hc.MOD2_BOUNDARY_RULE.get=function(){return new dc},hc.ENDPOINT_BOUNDARY_RULE.get=function(){return new gc},hc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new yc},hc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mc},hc.OGC_SFS_BOUNDARY_RULE.get=function(){return pc.MOD2_BOUNDARY_RULE},Object.defineProperties(pc,hc);var dc=function(){};dc.prototype.isInBoundary=function(t){return t%2==1},dc.prototype.interfaces_=function(){return[pc]},dc.prototype.getClass=function(){return dc};var gc=function(){};gc.prototype.isInBoundary=function(t){return t>0},gc.prototype.interfaces_=function(){return[pc]},gc.prototype.getClass=function(){return gc};var yc=function(){};yc.prototype.isInBoundary=function(t){return t>1},yc.prototype.interfaces_=function(){return[pc]},yc.prototype.getClass=function(){return yc};var mc=function(){};mc.prototype.isInBoundary=function(t){return 1===t},mc.prototype.interfaces_=function(){return[pc]},mc.prototype.getClass=function(){return mc};var vc=function(){};vc.prototype.add=function(){},vc.prototype.addAll=function(){},vc.prototype.isEmpty=function(){},vc.prototype.iterator=function(){},vc.prototype.size=function(){},vc.prototype.toArray=function(){},vc.prototype.remove=function(){};var _c=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),bc=function(){};bc.prototype.hasNext=function(){},bc.prototype.next=function(){},bc.prototype.remove=function(){};var wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(vc);(Lo.prototype=new Error).name="NoSuchElementException";var xc=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof vc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,vc]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Ec(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new _c;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(wc),Ec=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Lo;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(bc),Cc=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,o=e.iterator();o.hasNext();)this.add(o.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof xu&&"boolean"==typeof arguments[1]){var o=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(o))return null;t.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var i=arguments[0],a=arguments[1];return this.add(i,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],u=arguments[1];if(arguments[2])for(var c=0;c<s.length;c++)this.add(s[c],u);else for(var l=s.length-1;l>=0;l--)this.add(s[l],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof xu){var f=arguments[0],p=arguments[1];if(!arguments[2]){var h=this.size();if(h>0){if(f>0&&this.get(f-1).equals2D(p))return null;if(f<h&&this.get(f).equals2D(p))return null}}t.prototype.add.call(this,f,p)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],m=arguments[3],v=1;y>m&&(v=-1);for(var _=y;_!==m;_+=v)this.add(d[_],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new xu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(xc),Ic=function(){},Nc={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Nc.ForwardComparator.get=function(){return Sc},Nc.BidirectionalComparator.get=function(){return Pc},Nc.coordArrayType.get=function(){return new Array(0).fill(null)},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic},Ic.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Ic.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Ic.indexOf(r,e)<0)return r}return null},Ic.scroll=function(t,e){var n=Ic.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);zu.arraycopy(t,n,r,0,t.length-n),zu.arraycopy(t,0,r,t.length-n,n),zu.arraycopy(r,0,t,0,t.length)},Ic.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];if(r===o)return!0;if(null===r||null===o)return!1;if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(0!==i.compare(r[a],o[a]))return!1;return!0}},Ic.intersection=function(t,e){for(var n=new Cc,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Ic.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Ic.removeRepeatedPoints=function(t){return Ic.hasRepeatedPoints(t)?new Cc(t,!1).toCoordinateArray():t},Ic.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var o=t[r];t[r]=t[e-r],t[e-r]=o}},Ic.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var o=0,i=0;i<t.length;i++)null!==t[i]&&(r[o++]=t[i]);return r},Ic.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new xu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)i[a+u]=new xu(r[o+u])},Ic.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[t.length-n-1];if(0!==r.compareTo(o))return!1}return!0},Ic.envelope=function(t){for(var e=new Vu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Ic.toCoordinateArray=function(t){return t.toArray(Ic.coordArrayType)},Ic.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Ic.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Ic.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Ic.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Ic.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Ic.extract=function(t,e,n){e=Ou.clamp(e,0,t.length);var r=(n=Ou.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var o=new Array(r).fill(null);if(0===r)return o;for(var i=0,a=e;a<=n;a++)o[i++]=t[a];return o},Object.defineProperties(Ic,Nc);var Sc=function(){};Sc.prototype.compare=function(t,e){return Ic.compare(t,e)},Sc.prototype.interfaces_=function(){return[wu]},Sc.prototype.getClass=function(){return Sc};var Pc=function(){};Pc.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var o=Ic.compare(n,r);return Ic.isEqualReversed(n,r)?0:o},Pc.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var o=Ic.increasingDirection(n),i=Ic.increasingDirection(r),a=o>0?0:n.length-1,s=i>0?0:n.length-1,u=0;u<n.length;u++){var c=n[a].compareTo(r[s]);if(0!==c)return c;a+=o,s+=i}return 0},Pc.prototype.interfaces_=function(){return[wu]},Pc.prototype.getClass=function(){return Pc};var Oc=function(){};Oc.prototype.get=function(){},Oc.prototype.put=function(){},Oc.prototype.size=function(){},Oc.prototype.values=function(){},Oc.prototype.entrySet=function(){};var Mc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Oc);(To.prototype=new Error).name="OperationNotSupported",(Ro.prototype=new vc).contains=function(){};var Lc=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof vc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Tc(this)},e}(Ro),Tc=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Lo;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new To},e}(bc),Rc=0;(Bo.prototype=new Mc).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Bo.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Rc,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,o=this.root_;do{if(n=o,(r=t.compareTo(o.key))<0)o=o.left;else{if(!(r>0)){var i=o.value;return o.value=e,i}o=o.right}}while(null!==o);var a={key:t,left:null,right:null,value:e,parent:n,color:Rc,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Bo.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(ko(t)===Fo(ko(ko(t)))){var e=jo(ko(ko(t)));1===Ao(e)?(Do(ko(t),Rc),Do(e,Rc),Do(ko(ko(t)),1),t=ko(ko(t))):(t===jo(ko(t))&&(t=ko(t),this.rotateLeft(t)),Do(ko(t),Rc),Do(ko(ko(t)),1),this.rotateRight(ko(ko(t))))}else{var n=Fo(ko(ko(t)));1===Ao(n)?(Do(ko(t),Rc),Do(n,Rc),Do(ko(ko(t)),1),t=ko(ko(t))):(t===Fo(ko(t))&&(t=ko(t),this.rotateRight(t)),Do(ko(t),Rc),Do(ko(ko(t)),1),this.rotateLeft(ko(ko(t))))}this.root_.color=Rc},Bo.prototype.values=function(){var t=new xc,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Bo.successor(e));)t.add(e.value);return t},Bo.prototype.entrySet=function(){var t=new Lc,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Bo.successor(e));)t.add(e);return t},Bo.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Bo.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Bo.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Bo.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Bo.prototype.size=function(){return this.size_};var Ac=function(){};Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac},qo.prototype=new Ro,(Uo.prototype=new qo).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Uo.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Uo.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Uo.prototype.remove=function(t){throw new To},Uo.prototype.size=function(){return this.array_.length},Uo.prototype.isEmpty=function(){return 0===this.array_.length},Uo.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Uo.prototype.iterator=function(){return new kc(this)};var kc=function(t){this.treeSet_=t,this.position_=0};kc.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Lo;return this.treeSet_.array_[this.position_++]},kc.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},kc.prototype.remove=function(){throw new To};var Dc=function(){};Dc.sort=function(){var t,e,n,r,o=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},o.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},o.sort(r);else if(3===arguments.length){(e=o.slice(arguments[1],arguments[2])).sort();var i=o.slice(0,arguments[1]).concat(e,o.slice(arguments[2],o.length));for(o.splice(0,o.length),t=0;t<i.length;t++)o.push(i[t])}else if(4===arguments.length)for(e=o.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),i=o.slice(0,arguments[1]).concat(e,o.slice(arguments[2],o.length)),o.splice(0,o.length),t=0;t<i.length;t++)o.push(i[t])},Dc.asList=function(t){for(var e=new xc,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Fc=function(){},jc={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};jc.P.get=function(){return 0},jc.L.get=function(){return 1},jc.A.get=function(){return 2},jc.FALSE.get=function(){return-1},jc.TRUE.get=function(){return-2},jc.DONTCARE.get=function(){return-3},jc.SYM_FALSE.get=function(){return"F"},jc.SYM_TRUE.get=function(){return"T"},jc.SYM_DONTCARE.get=function(){return"*"},jc.SYM_P.get=function(){return"0"},jc.SYM_L.get=function(){return"1"},jc.SYM_A.get=function(){return"2"},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc},Fc.toDimensionSymbol=function(t){switch(t){case Fc.FALSE:return Fc.SYM_FALSE;case Fc.TRUE:return Fc.SYM_TRUE;case Fc.DONTCARE:return Fc.SYM_DONTCARE;case Fc.P:return Fc.SYM_P;case Fc.L:return Fc.SYM_L;case Fc.A:return Fc.SYM_A}throw new yu("Unknown dimension value: "+t)},Fc.toDimensionValue=function(t){switch(Ru.toUpperCase(t)){case Fc.SYM_FALSE:return Fc.FALSE;case Fc.SYM_TRUE:return Fc.TRUE;case Fc.SYM_DONTCARE:return Fc.DONTCARE;case Fc.SYM_P:return Fc.P;case Fc.SYM_L:return Fc.L;case Fc.SYM_A:return Fc.A}throw new yu("Unknown dimension symbol: "+t)},Object.defineProperties(Fc,jc);var Bc=function(){};Bc.prototype.filter=function(t){},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var qc=function(){};qc.prototype.filter=function(t,e){},qc.prototype.isDone=function(){},qc.prototype.isGeometryChanged=function(){},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Uc=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new yu("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Vu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),o=0;o<r.length;o++)t[++e]=r[o];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].equalsExact(r._geometries[o],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Dc.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Fc.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Fc.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Uo(Dc.asList(this._geometries)),n=new Uo(Dc.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],o=arguments[1],i=r,a=this.getNumGeometries(),s=i.getNumGeometries(),u=0;u<a&&u<s;){var c=this.getGeometryN(u),l=i.getGeometryN(u),f=c.compareToSameClass(l,o);if(0!==f)return f;u++}return u<a?1:u<s?-1:0}},e.prototype.apply=function(){if(Pu(arguments[0],fc))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Pu(arguments[0],qc)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Pu(arguments[0],Bc)){var o=arguments[0];o.filter(this);for(var i=0;i<this._geometries.length;i++)this._geometries[i].apply(o)}else if(Pu(arguments[0],sc)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),$u.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(uc),zc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return uc.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Fc.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Gc(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ac]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Uc),Gc=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=pc.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Gc.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Gc.prototype.getBoundary=function(){return this._geom instanceof Wc?this.boundaryLineString(this._geom):this._geom instanceof zc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Gc.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Gc.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Gc.prototype.computeBoundaryCoordinates=function(t){var e=new xc;this._endpointMap=new Bo;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var i=o.next(),a=i.getValue().count;this._bnRule.isInBoundary(a)&&e.add(i.getKey())}return Ic.toCoordinateArray(e)},Gc.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Vc,this._endpointMap.put(t,e)),e.count++},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Gc.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Gc(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Gc(e,n).getBoundary()}};var Vc=function(){this.count=null};Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Yc=function(){},Xc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc},Yc.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Yc.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],o=arguments[1],i="",a=new function(){}(new function(){}(Yc.getStackTrace(r))),s=0;s<o;s++)try{i+=a.readLine()+Yc.NEWLINE}catch(t){if(!(t instanceof zo))throw t;$u.shouldNeverReachHere()}return i}},Yc.split=function(t,e){for(var n=e.length,r=new xc,o=""+t,i=o.indexOf(e);i>=0;){var a=o.substring(0,i);r.add(a),i=(o=o.substring(i+n)).indexOf(e)}o.length>0&&r.add(o);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},Yc.toString=function(){if(1===arguments.length){var t=arguments[0];return Yc.SIMPLE_ORDINATE_FORMAT.format(t)}},Yc.spaces=function(t){return Yc.chars(" ",t)},Xc.NEWLINE.get=function(){return zu.getProperty("line.separator")},Xc.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Yc,Xc);var Hc=function(){};Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.copyCoord=function(t,e,n,r){for(var o=Math.min(t.getDimension(),n.getDimension()),i=0;i<o;i++)n.setOrdinate(r,i,t.getOrdinate(e,i))},Hc.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,ju.X)===t.getOrdinate(e-1,ju.X)&&t.getOrdinate(0,ju.Y)===t.getOrdinate(e-1,ju.Y)},Hc.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var i=0;i<r;i++){var a=t.getOrdinate(o,i),s=e.getOrdinate(o,i);if(t.getOrdinate(o,i)!==e.getOrdinate(o,i)&&(!mu.isNaN(a)||!mu.isNaN(s)))return!1}return!0},Hc.extend=function(t,e,n){var r=t.create(n,e.getDimension()),o=e.size();if(Hc.copy(e,0,r,0,o),o>0)for(var i=o;i<n;i++)Hc.copy(e,o-1,r,i,1);return r},Hc.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Hc.swap(t,r,e-r)},Hc.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var o=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,o)}},Hc.copy=function(t,e,n,r,o){for(var i=0;i<o;i++)Hc.copyCoord(t,e+i,n,r+i)},Hc.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new Lu;r.append("(");for(var o=0;o<e;o++){o>0&&r.append(" ");for(var i=0;i<n;i++)i>0&&r.append(","),r.append(Yc.toString(t.getOrdinate(o,i)))}return r.append(")"),r.toString()}},Hc.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Hc.createClosedRing(t,e,4):e.getOrdinate(0,ju.X)===e.getOrdinate(n-1,ju.X)&&e.getOrdinate(0,ju.Y)===e.getOrdinate(n-1,ju.Y)?e:Hc.createClosedRing(t,e,n+1)},Hc.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),o=e.size();Hc.copy(e,0,r,0,o);for(var i=o;i<n;i++)Hc.copy(e,0,r,i,1);return r};var Wc=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Vu:this._points.expandEnvelope(new Vu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!this.equal(this._points.getCoordinate(o),r._points.getCoordinate(o),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Hc.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Fc.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return ic.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Hc.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var o=arguments[0];return arguments[1].compare(this._points,o._points)}},e.prototype.apply=function(){if(Pu(arguments[0],fc))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Pu(arguments[0],qc)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else Pu(arguments[0],Bc)?arguments[0].filter(this):Pu(arguments[0],sc)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Gc(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new yu("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Ac]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(uc),Kc=function(){};Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Jc=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Vu;var t=new Vu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Fc.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(Pu(arguments[0],fc)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Pu(arguments[0],qc)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else Pu(arguments[0],Bc)?arguments[0].filter(this):Pu(arguments[0],sc)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),$u.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Kc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(uc),Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc};var Zc=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new yu("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new yu("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var o=0;o<this._holes.length;o++)for(var i=this._holes[o].getCoordinates(),a=0;a<i.length;a++)t[++e]=i[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(ic.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(ic.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var o=t.getY(n);if(o!==e.getMinY()&&o!==e.getMaxY())return!1}for(var i=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),c=t.getY(s);if(u!==i===(c!==a))return!1;i=u,a=c}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,o=this._shell,i=r._shell;if(!o.equalsExact(i,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Dc.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);zu.arraycopy(e.getCoordinates(),0,r,0,r.length);var o=Ic.minCoordinate(e.getCoordinates());Ic.scroll(r,o),zu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],ic.isCCW(e.getCoordinates())===n&&Ic.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],o=arguments[1],i=r,a=this._shell,s=i._shell,u=a.compareToSameClass(s,o);if(0!==u)return u;for(var c=this.getNumInteriorRing(),l=i.getNumInteriorRing(),f=0;f<c&&f<l;){var p=this.getInteriorRingN(f),h=i.getInteriorRingN(f),d=p.compareToSameClass(h,o);if(0!==d)return d;f++}return f<c?1:f<l?-1:0}},e.prototype.apply=function(t){if(Pu(t,fc)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(Pu(t,qc)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Pu(t,Bc))t.filter(this);else if(Pu(t,sc)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Qc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(uc),$c=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return uc.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Fc.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Kc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Uc),tl=function(t){function e(e,n){e instanceof xu&&n instanceof yl&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return uc.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Fc.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Hc.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new yu("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new yu("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Wc),el=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return uc.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new xc,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Qc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Uc),nl=function(t){this._factory=t||null,this._isUserDataCopied=!1},rl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};nl.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},nl.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},nl.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Uc?this.editGeometryCollection(t,e):t instanceof Zc?this.editPolygon(t,e):t instanceof Jc?e.edit(t,this._factory):t instanceof Wc?e.edit(t,this._factory):($u.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},nl.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new xc,o=0;o<n.getNumGeometries();o++){var i=this.edit(n.getGeometryN(o),e);null===i||i.isEmpty()||r.add(i)}return n.getClass()===$c?this._factory.createMultiPoint(r.toArray([])):n.getClass()===zc?this._factory.createMultiLineString(r.toArray([])):n.getClass()===el?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},nl.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var o=new xc,i=0;i<n.getNumInteriorRing();i++){var a=this.edit(n.getInteriorRingN(i),e);null===a||a.isEmpty()||o.add(a)}return this._factory.createPolygon(r,o.toArray([]))},nl.prototype.interfaces_=function(){return[]},nl.prototype.getClass=function(){return nl},nl.GeometryEditorOperation=function(){},rl.NoOpGeometryOperation.get=function(){return ol},rl.CoordinateOperation.get=function(){return il},rl.CoordinateSequenceOperation.get=function(){return al},Object.defineProperties(nl,rl);var ol=function(){};ol.prototype.edit=function(t,e){return t},ol.prototype.interfaces_=function(){return[nl.GeometryEditorOperation]},ol.prototype.getClass=function(){return ol};var il=function(){};il.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof tl?e.createLinearRing(n):t instanceof Wc?e.createLineString(n):t instanceof Jc?n.length>0?e.createPoint(n[0]):e.createPoint():t},il.prototype.interfaces_=function(){return[nl.GeometryEditorOperation]},il.prototype.getClass=function(){return il};var al=function(){};al.prototype.edit=function(t,e){return t instanceof tl?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Wc?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Jc?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},al.prototype.interfaces_=function(){return[nl.GeometryEditorOperation]},al.prototype.getClass=function(){return al};var sl=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new xu}else if(Pu(arguments[0],ju)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],i=arguments[1];this._coordinates=o,this._dimension=i,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new xu}},ul={serialVersionUID:{configurable:!0}};sl.prototype.setOrdinate=function(t,e,n){switch(e){case ju.X:this._coordinates[t].x=n;break;case ju.Y:this._coordinates[t].y=n;break;case ju.Z:this._coordinates[t].z=n;break;default:throw new yu("invalid ordinateIndex")}},sl.prototype.size=function(){return this._coordinates.length},sl.prototype.getOrdinate=function(t,e){switch(e){case ju.X:return this._coordinates[t].x;case ju.Y:return this._coordinates[t].y;case ju.Z:return this._coordinates[t].z}return mu.NaN},sl.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},sl.prototype.getCoordinateCopy=function(t){return new xu(this._coordinates[t])},sl.prototype.getDimension=function(){return this._dimension},sl.prototype.getX=function(t){return this._coordinates[t].x},sl.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new sl(t,this._dimension)},sl.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},sl.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new sl(t,this._dimension)},sl.prototype.toString=function(){if(this._coordinates.length>0){var t=new Lu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},sl.prototype.getY=function(t){return this._coordinates[t].y},sl.prototype.toCoordinateArray=function(){return this._coordinates},sl.prototype.interfaces_=function(){return[ju,Mo]},sl.prototype.getClass=function(){return sl},ul.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(sl,ul);var cl=function(){},ll={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};cl.prototype.readResolve=function(){return cl.instance()},cl.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new sl(t)}if(Pu(arguments[0],ju)){var e=arguments[0];return new sl(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new sl(n):new sl(n,r)}},cl.prototype.interfaces_=function(){return[Iu,Mo]},cl.prototype.getClass=function(){return cl},cl.instance=function(){return cl.instanceObject},ll.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ll.instanceObject.get=function(){return new cl},Object.defineProperties(cl,ll);var fl=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new xc,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Lc;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Oc),pl=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof dl){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},hl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};pl.prototype.equals=function(t){if(!(t instanceof pl))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},pl.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new Tu(n).compareTo(new Tu(r))},pl.prototype.getScale=function(){return this._scale},pl.prototype.isFloating=function(){return this._modelType===pl.FLOATING||this._modelType===pl.FLOATING_SINGLE},pl.prototype.getType=function(){return this._modelType},pl.prototype.toString=function(){var t="UNKNOWN";return this._modelType===pl.FLOATING?t="Floating":this._modelType===pl.FLOATING_SINGLE?t="Floating-Single":this._modelType===pl.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},pl.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return mu.isNaN(t)?t:this._modelType===pl.FLOATING_SINGLE?t:this._modelType===pl.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof xu){var e=arguments[0];if(this._modelType===pl.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},pl.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===pl.FLOATING?t=16:this._modelType===pl.FLOATING_SINGLE?t=6:this._modelType===pl.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},pl.prototype.setScale=function(t){this._scale=Math.abs(t)},pl.prototype.interfaces_=function(){return[Mo,_u]},pl.prototype.getClass=function(){return pl},pl.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},hl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},hl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(pl,hl);var dl=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},gl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};dl.prototype.readResolve=function(){return dl.nameToTypeMap.get(this._name)},dl.prototype.toString=function(){return this._name},dl.prototype.interfaces_=function(){return[Mo]},dl.prototype.getClass=function(){return dl},gl.serialVersionUID.get=function(){return-552860263173159e4},gl.nameToTypeMap.get=function(){return new fl},Object.defineProperties(dl,gl),pl.Type=dl,pl.FIXED=new dl("FIXED"),pl.FLOATING=new dl("FLOATING"),pl.FLOATING_SINGLE=new dl("FLOATING SINGLE");var yl=function t(){this._precisionModel=new pl,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Pu(arguments[0],Iu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof pl&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ml={serialVersionUID:{configurable:!0}};yl.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new xu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new xu(t.getMinX(),t.getMinY()),new xu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new xu(t.getMinX(),t.getMinY()),new xu(t.getMinX(),t.getMaxY()),new xu(t.getMaxX(),t.getMaxY()),new xu(t.getMaxX(),t.getMinY()),new xu(t.getMinX(),t.getMinY())]),null)},yl.prototype.createLineString=function(t){return t?t instanceof Array?new Wc(this.getCoordinateSequenceFactory().create(t),this):Pu(t,ju)?new Wc(t,this):void 0:new Wc(this.getCoordinateSequenceFactory().create([]),this)},yl.prototype.createMultiLineString=function(){if(0===arguments.length)return new zc(null,this);if(1===arguments.length){var t=arguments[0];return new zc(t,this)}},yl.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,o=t.iterator();o.hasNext();){var i=o.next(),a=i.getClass();null===e&&(e=a),a!==e&&(n=!0),i.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(yl.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Zc)return this.createMultiPolygon(yl.toPolygonArray(t));if(s instanceof Wc)return this.createMultiLineString(yl.toLineStringArray(t));if(s instanceof Jc)return this.createMultiPoint(yl.toPointArray(t));$u.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},yl.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},yl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof xu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Pu(arguments[0],ju)){var e=arguments[0];return new Jc(e,this)}}},yl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},yl.prototype.createPolygon=function(){if(0===arguments.length)return new Zc(null,null,this);if(1===arguments.length){if(Pu(arguments[0],ju)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof tl){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];return new Zc(r,o,this)}},yl.prototype.getSRID=function(){return this._SRID},yl.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Uc(null,this);if(1===arguments.length){var t=arguments[0];return new Uc(t,this)}},yl.prototype.createGeometry=function(t){return new nl(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},yl.prototype.getPrecisionModel=function(){return this._precisionModel},yl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Pu(arguments[0],ju)){var e=arguments[0];return new tl(e,this)}}},yl.prototype.createMultiPolygon=function(){if(0===arguments.length)return new el(null,this);if(1===arguments.length){var t=arguments[0];return new el(t,this)}},yl.prototype.createMultiPoint=function(){if(0===arguments.length)return new $c(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new $c(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Pu(arguments[0],ju)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),o=0;o<n.size();o++){var i=this.getCoordinateSequenceFactory().create(1,n.getDimension());Hc.copy(n,o,i,0,1),r[o]=this.createPoint(i)}return this.createMultiPoint(r)}}},yl.prototype.interfaces_=function(){return[Mo]},yl.prototype.getClass=function(){return yl},yl.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.getDefaultCoordinateSequenceFactory=function(){return cl.instance()},yl.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yl.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ml.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(yl,ml);var vl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_l=function(t){this.geometryFactory=t||new yl};_l.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!bl[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==vl.indexOf(n)?bl[n].apply(this,[e.coordinates]):"GeometryCollection"===n?bl[n].apply(this,[e.geometries]):bl[n].apply(this,[e])},_l.prototype.write=function(t){var e=t.getGeometryType();if(!wl[e])throw new Error("Geometry is not supported");return wl[e].apply(this,[t])};var bl={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!bl[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=bl.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new xu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new xu(t[0],t[1]),new xu(t[2],t[1]),new xu(t[2],t[3]),new xu(t[0],t[3]),new xu(t[0],t[1])])},Point:function(t){var e=new xu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(bl.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=bl.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(bl.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=bl.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],o=1;o<t.length;++o){var i=t[o],a=bl.coordinates.apply(this,[i]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(bl.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},wl={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:wl.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=wl.Point.apply(this,[r]);e.push(o.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var o=n[r];e.push(wl.coordinate.apply(this,[o]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=wl.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=wl.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var o=t._holes[r],i=wl.LineString.apply(this,[o]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=wl.Polygon.apply(this,[r]);e.push(o.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=r.getGeometryType();e.push(wl[o].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},xl=function(t){this.geometryFactory=t||new yl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _l(this.geometryFactory)};xl.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===pl.FIXED&&this.reducePrecision(e),e},xl.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var El=function(){this.parser=new _l(this.geometryFactory)};El.prototype.write=function(t){return this.parser.write(t)};var Cl=function(){},Il={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl},Cl.opposite=function(t){return t===Cl.LEFT?Cl.RIGHT:t===Cl.RIGHT?Cl.LEFT:t},Il.ON.get=function(){return 0},Il.LEFT.get=function(){return 1},Il.RIGHT.get=function(){return 2},Object.defineProperties(Cl,Il),(Go.prototype=new Error).name="EmptyStackException",(Vo.prototype=new wc).add=function(t){return this.array_.push(t),!0},Vo.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Vo.prototype.push=function(t){return this.array_.push(t),t},Vo.prototype.pop=function(t){if(0===this.array_.length)throw new Go;return this.array_.pop()},Vo.prototype.peek=function(){if(0===this.array_.length)throw new Go;return this.array_[this.array_.length-1]},Vo.prototype.empty=function(){return 0===this.array_.length},Vo.prototype.isEmpty=function(){return this.empty()},Vo.prototype.search=function(t){return this.array_.indexOf(t)},Vo.prototype.size=function(){return this.array_.length},Vo.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Nl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Nl.prototype.getCoordinate=function(){return this._minCoord},Nl.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Nl.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();$u.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=ic.computeOrientation(this._minCoord,n,e),o=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===ic.COUNTERCLOCKWISE?o=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===ic.CLOCKWISE&&(o=!0),o&&(this._minIndex=this._minIndex-1)},Nl.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Cl.LEFT;return n[e].y<n[e+1].y&&(r=Cl.RIGHT),r},Nl.prototype.getEdge=function(){return this._orientedDe},Nl.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Nl.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Nl.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}$u.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Cl.LEFT&&(this._orientedDe=this._minDe.getSym())},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl};var Sl=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new xu(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Qu),Pl=function(){this.array_=[]};Pl.prototype.addLast=function(t){this.array_.push(t)},Pl.prototype.removeFirst=function(){return this.array_.shift()},Pl.prototype.isEmpty=function(){return 0===this.array_.length};var Ol=function(){this._finder=null,this._dirEdgeList=new xc,this._nodes=new xc,this._rightMostCoord=null,this._env=null,this._finder=new Nl};Ol.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ol.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ol.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Sl("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var o=t.getEdges().iterator();o.hasNext();){var i=o.next();i.setVisited(!0),this.copySymDepths(i)}},Ol.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Cl.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ol.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ol.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Cl.RIGHT)>=1&&e.getDepth(Cl.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ol.prototype.computeDepths=function(t){var e=new Lc,n=new Pl,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var o=n.removeFirst();e.add(o),this.computeNodeDepth(o);for(var i=o.getEdges().iterator();i.hasNext();){var a=i.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},Ol.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ol.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Vu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ol.prototype.addReachable=function(t){var e=new Vo;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ol.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Cl.LEFT,t.getDepth(Cl.RIGHT)),e.setDepth(Cl.RIGHT,t.getDepth(Cl.LEFT))},Ol.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var o=r.getSym().getNode();o.isVisited()||e.push(o)}},Ol.prototype.getNodes=function(){return this._nodes},Ol.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ol.prototype.interfaces_=function(){return[_u]},Ol.prototype.getClass=function(){return Ol};var Ml=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Cl.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var o=0;o<this.location.length;o++)this.location[o]=r.location[o]}}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Cl.ON]=i,this.location[Cl.LEFT]=a,this.location[Cl.RIGHT]=s}};Ml.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Ml.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Nu.NONE)return!1;return!0},Ml.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Nu.NONE&&(this.location[e]=t)},Ml.prototype.isLine=function(){return 1===this.location.length},Ml.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Cl.ON]=this.location[Cl.ON],e[Cl.LEFT]=Nu.NONE,e[Cl.RIGHT]=Nu.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Nu.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Ml.prototype.getLocations=function(){return this.location},Ml.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Cl.LEFT];this.location[Cl.LEFT]=this.location[Cl.RIGHT],this.location[Cl.RIGHT]=t},Ml.prototype.toString=function(){var t=new Lu;return this.location.length>1&&t.append(Nu.toLocationSymbol(this.location[Cl.LEFT])),t.append(Nu.toLocationSymbol(this.location[Cl.ON])),this.location.length>1&&t.append(Nu.toLocationSymbol(this.location[Cl.RIGHT])),t.toString()},Ml.prototype.setLocations=function(t,e,n){this.location[Cl.ON]=t,this.location[Cl.LEFT]=e,this.location[Cl.RIGHT]=n},Ml.prototype.get=function(t){return t<this.location.length?this.location[t]:Nu.NONE},Ml.prototype.isArea=function(){return this.location.length>1},Ml.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Nu.NONE)return!0;return!1},Ml.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Cl.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Ml.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Nu.NONE)},Ml.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Ml.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml};var Ll=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Ml(e),this.elt[1]=new Ml(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Ml(n.elt[0]),this.elt[1]=new Ml(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.elt[0]=new Ml(Nu.NONE),this.elt[1]=new Ml(Nu.NONE),this.elt[r].setLocation(o)}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Ml(i,a,s),this.elt[1]=new Ml(i,a,s)}else if(4===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2],f=arguments[3];this.elt[0]=new Ml(Nu.NONE,Nu.NONE,Nu.NONE),this.elt[1]=new Ml(Nu.NONE,Nu.NONE,Nu.NONE),this.elt[u].setLocations(c,l,f)}};Ll.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Ll.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Ll.prototype.isNull=function(t){return this.elt[t].isNull()},Ll.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Ll.prototype.isLine=function(t){return this.elt[t].isLine()},Ll.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ml(t.elt[e]):this.elt[e].merge(t.elt[e])},Ll.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ll.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Cl.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Ll.prototype.toString=function(){var t=new Lu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Ll.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Ll.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Ll.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Cl.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.elt[n].setLocation(r,o)}},Ll.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Ll.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Ll.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Ml(this.elt[t].location[0]))},Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.toLineLabel=function(t){for(var e=new Ll(Nu.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Tl=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new xc,this._pts=new xc,this._label=new Ll(Nu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new xc,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Tl.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ic.isCCW(this._ring.getCoordinates())},Tl.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Tl.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Sl("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Sl("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();$u.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Tl.prototype.getLinearRing=function(){return this._ring},Tl.prototype.getCoordinate=function(t){return this._pts.get(t)},Tl.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Tl.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var o=1;n&&(o=0);for(var i=o;i<r.length;i++)this._pts.add(r[i])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Tl.prototype.isHole=function(){return this._isHole},Tl.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Tl.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!ic.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Tl.prototype.addHole=function(t){this._holes.add(t)},Tl.prototype.isShell=function(){return null===this._shell},Tl.prototype.getLabel=function(){return this._label},Tl.prototype.getEdges=function(){return this._edges},Tl.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Tl.prototype.getShell=function(){return this._shell},Tl.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Cl.RIGHT);if(r===Nu.NONE)return null;if(this._label.getLocation(n)===Nu.NONE)return this._label.setLocation(n,r),null}},Tl.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Tl.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl};var Rl=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tl),Al=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new xc,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Rl(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tl),kl=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};kl.prototype.setVisited=function(t){this._isVisited=t},kl.prototype.setInResult=function(t){this._isInResult=t},kl.prototype.isCovered=function(){return this._isCovered},kl.prototype.isCoveredSet=function(){return this._isCoveredSet},kl.prototype.setLabel=function(t){this._label=t},kl.prototype.getLabel=function(){return this._label},kl.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},kl.prototype.updateIM=function(t){$u.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},kl.prototype.isInResult=function(){return this._isInResult},kl.prototype.isVisited=function(){return this._isVisited},kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl};var Dl=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Ll(0,Nu.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Nu.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Nu.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Ll(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Ll)for(var n=arguments[0],r=0;r<2;r++){var o=this.computeMergedLocation(n,r);this._label.getLocation(r)===Nu.NONE&&this._label.setLocation(r,o)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Nu.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Nu.BOUNDARY:n=Nu.INTERIOR;break;case Nu.INTERIOR:default:n=Nu.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(kl),Fl=function(){this.nodeMap=new Bo,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Fl.prototype.find=function(t){return this.nodeMap.get(t)},Fl.prototype.addNode=function(){if(arguments[0]instanceof xu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Dl){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Fl.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Fl.prototype.iterator=function(){return this.nodeMap.values().iterator()},Fl.prototype.values=function(){return this.nodeMap.values()},Fl.prototype.getBoundaryNodes=function(t){for(var e=new xc,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Nu.BOUNDARY&&e.add(r)}return e},Fl.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var jl=function(){},Bl={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl},jl.isNorthern=function(t){return t===jl.NE||t===jl.NW},jl.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},jl.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},jl.isInHalfPlane=function(t,e){return e===jl.SE?t===jl.SE||t===jl.SW:t===e||t===e+1},jl.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new yu("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?jl.NE:jl.SE:e>=0?jl.NW:jl.SW}if(arguments[0]instanceof xu&&arguments[1]instanceof xu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new yu("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?jl.NE:jl.SE:r.y>=n.y?jl.NW:jl.SW}},Bl.NE.get=function(){return 0},Bl.NW.get=function(){return 1},Bl.SW.get=function(){return 2},Bl.SE.get=function(){return 3},Object.defineProperties(jl,Bl);var ql=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this._edge=o,this.init(i,a),this._label=s}};ql.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ic.computeOrientation(t._p0,t._p1,this._p1)},ql.prototype.getDy=function(){return this._dy},ql.prototype.getCoordinate=function(){return this._p0},ql.prototype.setNode=function(t){this._node=t},ql.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),o=n.substring(r+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},ql.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},ql.prototype.getDirectedCoordinate=function(){return this._p1},ql.prototype.getDx=function(){return this._dx},ql.prototype.getLabel=function(){return this._label},ql.prototype.getEdge=function(){return this._edge},ql.prototype.getQuadrant=function(){return this._quadrant},ql.prototype.getNode=function(){return this._node},ql.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},ql.prototype.computeLabel=function(t){},ql.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=jl.quadrant(this._dx,this._dy),$u.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ql.prototype.interfaces_=function(){return[_u]},ql.prototype.getClass=function(){return ql};var Ul=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Ll(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Sl("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Cl.LEFT)===Nu.INTERIOR&&this._label.getLocation(e,Cl.RIGHT)===Nu.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Cl.LEFT]+"/"+this._depth[Cl.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Nu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Nu.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Cl.LEFT&&(r=-1);var o=Cl.opposite(t),i=e+n*r;this.setDepth(t,e),this.setDepth(o,i)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Nu.EXTERIOR&&e===Nu.INTERIOR?1:t===Nu.INTERIOR&&e===Nu.EXTERIOR?-1:0},e}(ql),zl=function(){};zl.prototype.createNode=function(t){return new Dl(t,null)},zl.prototype.interfaces_=function(){return[]},zl.prototype.getClass=function(){return zl};var Gl=function(){if(this._edges=new xc,this._nodes=null,this._edgeEndList=new xc,0===arguments.length)this._nodes=new Fl(new zl);else if(1===arguments.length){var t=arguments[0];this._nodes=new Fl(t)}};Gl.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Gl.prototype.find=function(t){return this._nodes.find(t)},Gl.prototype.addNode=function(){if(arguments[0]instanceof Dl){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof xu){var e=arguments[0];return this._nodes.addNode(e)}},Gl.prototype.getNodeIterator=function(){return this._nodes.iterator()},Gl.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Gl.prototype.debugPrintln=function(t){zu.out.println(t)},Gl.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Nu.BOUNDARY},Gl.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Gl.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&ic.computeOrientation(t,e,r)===ic.COLLINEAR&&jl.quadrant(t,e)===jl.quadrant(n,r)},Gl.prototype.getEdgeEnds=function(){return this._edgeEndList},Gl.prototype.debugPrint=function(t){zu.out.print(t)},Gl.prototype.getEdgeIterator=function(){return this._edges.iterator()},Gl.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(this.matchInSameDirection(t,e,o[0],o[1]))return r;if(this.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return r}return null},Gl.prototype.insertEdge=function(t){this._edges.add(t)},Gl.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Gl.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Ul(n,!0),o=new Ul(n,!1);r.setSym(o),o.setSym(r),this.add(r),this.add(o)}},Gl.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Gl.prototype.getNodes=function(){return this._nodes.values()},Gl.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(t.equals(o[0])&&e.equals(o[1]))return r}return null},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl},Gl.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Vl=function(){this._geometryFactory=null,this._shellList=new xc;var t=arguments[0];this._geometryFactory=t};Vl.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var o=r.next();o.isHole()?n.add(o):e.add(o)}},Vl.prototype.computePolygons=function(t){for(var e=new xc,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Vl.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var o=this.findEdgeRingContaining(r,t);if(null===o)throw new Sl("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(o)}}},Vl.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new xc,o=t.iterator();o.hasNext();){var i=o.next();if(i.getMaxNodeDegree()>2){i.linkDirectedEdgesForMinimalEdgeRings();var a=i.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(i)}return r},Vl.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Vl.prototype.buildMaximalEdgeRings=function(t){for(var e=new xc,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var o=new Al(r,this._geometryFactory);e.add(o),o.setInResult()}}return e},Vl.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Vl.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Vl.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),o=n.getCoordinateN(0),i=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),c=u.getLinearRing(),l=c.getEnvelopeInternal();null!==i&&(a=i.getLinearRing().getEnvelopeInternal());var f=!1;l.contains(r)&&ic.isPointInRing(o,c.getCoordinates())&&(f=!0),f&&(null===i||a.contains(l))&&(i=u)}return i},Vl.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var o=r.next();o.isHole()||(n=o,e++)}return $u.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Vl.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Gl.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),o=new xc,i=this.buildMinimalEdgeRings(r,this._shellList,o);this.sortShellsAndHoles(i,this._shellList,o),this.placeFreeHoles(this._shellList,o)}},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl};var Yl=function(){};Yl.prototype.getBounds=function(){},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var Xl=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Xl.prototype.getItem=function(){return this._item},Xl.prototype.getBounds=function(){return this._bounds},Xl.prototype.interfaces_=function(){return[Yl,Mo]},Xl.prototype.getClass=function(){return Xl};var Hl=function(){this._size=null,this._items=null,this._size=0,this._items=new xc,this._items.add(null)};Hl.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Hl.prototype.size=function(){return this._size},Hl.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Hl.prototype.clear=function(){this._size=0,this._items.clear()},Hl.prototype.isEmpty=function(){return 0===this._size},Hl.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var Wl=function(){};Wl.prototype.visitItem=function(t){},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl};var Kl=function(){};Kl.prototype.insert=function(t,e){},Kl.prototype.remove=function(t,e){},Kl.prototype.query=function(){},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl};var Jl=function(){if(this._childBoundables=new xc,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ql={serialVersionUID:{configurable:!0}};Jl.prototype.getLevel=function(){return this._level},Jl.prototype.size=function(){return this._childBoundables.size()},Jl.prototype.getChildBoundables=function(){return this._childBoundables},Jl.prototype.addChildBoundable=function(t){$u.isTrue(null===this._bounds),this._childBoundables.add(t)},Jl.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Jl.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Jl.prototype.interfaces_=function(){return[Yl,Mo]},Jl.prototype.getClass=function(){return Jl},Ql.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Jl,Ql);var Zl=function(){};Zl.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Zl.min=function(t){return Zl.sort(t),t.get(0)},Zl.sort=function(t,e){var n=t.toArray();e?Dc.sort(n,e):Dc.sort(n);for(var r=t.iterator(),o=0,i=n.length;o<i;o++)r.next(),r.set(n[o])},Zl.singletonList=function(t){var e=new xc;return e.add(t),e};var $l=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};$l.prototype.expandToQueue=function(t,e){var n=$l.isComposite(this._boundable1),r=$l.isComposite(this._boundable2);if(n&&r)return $l.area(this._boundable1)>$l.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new yu("neither boundable is composite")},$l.prototype.isLeaves=function(){return!($l.isComposite(this._boundable1)||$l.isComposite(this._boundable2))},$l.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},$l.prototype.expand=function(t,e,n,r){for(var o=t.getChildBoundables().iterator();o.hasNext();){var i=o.next(),a=new $l(i,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},$l.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},$l.prototype.getDistance=function(){return this._distance},$l.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},$l.prototype.interfaces_=function(){return[_u]},$l.prototype.getClass=function(){return $l},$l.area=function(t){return t.getBounds().getArea()},$l.isComposite=function(t){return t instanceof Jl};var tf=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new xc,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];$u.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},ef={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};tf.prototype.getNodeCapacity=function(){return this._nodeCapacity},tf.prototype.lastNode=function(t){return t.get(t.size()-1)},tf.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Jl?t+=this.size(n):n instanceof Xl&&(t+=1)}return t}},tf.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next();o instanceof Xl&&o.getItem()===e&&(n=o)}return null!==n&&(t.getChildBoundables().remove(n),!0)},tf.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new xc:t}if(1===arguments.length){for(var e=arguments[0],n=new xc,r=e.getChildBoundables().iterator();r.hasNext();){var o=r.next();if(o instanceof Jl){var i=this.itemsTree(o);null!==i&&n.add(i)}else o instanceof Xl?n.add(o.getItem()):$u.shouldNeverReachHere()}return n.size()<=0?null:n}},tf.prototype.insert=function(t,e){$u.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Xl(t,e))},tf.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new xc;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if($u.isTrue(n>-2),r.getLevel()===n)return o.add(r),null;for(var i=r.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof Jl?this.boundablesAtLevel(n,a,o):($u.isTrue(a instanceof Xl),-1===n&&o.add(a))}return null}},tf.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new xc;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Pu(arguments[2],Wl)&&arguments[0]instanceof Object&&arguments[1]instanceof Jl)for(var o=arguments[0],i=arguments[1],a=arguments[2],s=i.getChildBoundables(),u=0;u<s.size();u++){var c=s.get(u);this.getIntersectsOp().intersects(c.getBounds(),o)&&(c instanceof Jl?this.query(o,c,a):c instanceof Xl?a.visitItem(c.getItem()):$u.shouldNeverReachHere())}else if(Pu(arguments[2],wc)&&arguments[0]instanceof Object&&arguments[1]instanceof Jl)for(var l=arguments[0],f=arguments[1],p=arguments[2],h=f.getChildBoundables(),d=0;d<h.size();d++){var g=h.get(d);this.getIntersectsOp().intersects(g.getBounds(),l)&&(g instanceof Jl?this.query(l,g,p):g instanceof Xl?p.add(g.getItem()):$u.shouldNeverReachHere())}},tf.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},tf.prototype.getRoot=function(){return this.build(),this._root},tf.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=this.removeItem(r,o);if(i)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Jl&&(i=this.remove(n,u,o))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),i}},tf.prototype.createHigherLevels=function(t,e){$u.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},tf.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Jl){var r=this.depth(n);r>t&&(t=r)}}return t+1}},tf.prototype.createParentBoundables=function(t,e){$u.isTrue(!t.isEmpty());var n=new xc;n.add(this.createNode(e));var r=new xc(t);Zl.sort(r,this.getComparator());for(var o=r.iterator();o.hasNext();){var i=o.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(i)}return n},tf.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},tf.prototype.interfaces_=function(){return[Mo]},tf.prototype.getClass=function(){return tf},tf.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},ef.IntersectsOp.get=function(){return nf},ef.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},ef.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(tf,ef);var nf=function(){},rf=function(){};rf.prototype.distance=function(t,e){},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf};var of=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){$u.isTrue(t.length>0);for(var n=new xc,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new af(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),o=t.iterator(),i=0;i<e;i++){r[i]=new xc;for(var a=0;o.hasNext()&&a<n;){var s=o.next();r[i].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Pu(arguments[2],Wl)&&arguments[0]instanceof Object&&arguments[1]instanceof Jl){var o=arguments[0],i=arguments[1],a=arguments[2];t.prototype.query.call(this,o,i,a)}else if(Pu(arguments[2],wc)&&arguments[0]instanceof Object&&arguments[1]instanceof Jl){var s=arguments[0],u=arguments[1],c=arguments[2];t.prototype.query.call(this,s,u,c)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){$u.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),o=new xc(t);Zl.sort(o,e.xComparator);var i=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(i,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Pu(arguments[0],rf)){var t=arguments[0],n=new $l(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof $l){var r=arguments[0];return this.nearestNeighbour(r,mu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Pu(arguments[1],rf)){var o=arguments[0],i=arguments[1],a=new $l(this.getRoot(),o.getRoot(),i);return this.nearestNeighbour(a)}if(arguments[0]instanceof $l&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],c=null,l=new Hl;for(l.add(s);!l.isEmpty()&&u>0;){var f=l.poll(),p=f.getDistance();if(p>=u)break;f.isLeaves()?(u=p,c=f):f.expandToQueue(l,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[0],d=arguments[1],g=arguments[2],y=new Xl(h,d),m=new $l(this.getRoot(),y,g);return this.nearestNeighbour(m)[0]}},e.prototype.interfaces_=function(){return[Kl,Mo]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return af},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[wu]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[wu]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(tf),af=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Vu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Jl),sf=function(){};sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf},sf.relativeSign=function(t,e){return t<e?-1:t>e?1:0},sf.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=sf.relativeSign(e.x,n.x),o=sf.relativeSign(e.y,n.y);switch(t){case 0:return sf.compareValue(r,o);case 1:return sf.compareValue(o,r);case 2:return sf.compareValue(o,-r);case 3:return sf.compareValue(-r,o);case 4:return sf.compareValue(-r,-o);case 5:return sf.compareValue(-o,-r);case 6:return sf.compareValue(-o,r);case 7:return sf.compareValue(r,-o)}return $u.shouldNeverReachHere("invalid octant value"),0},sf.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var uf=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new xu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};uf.prototype.getCoordinate=function(){return this.coord},uf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},uf.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:sf.compare(this._segmentOctant,this.coord,e.coord)},uf.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},uf.prototype.isInterior=function(){return this._isInterior},uf.prototype.interfaces_=function(){return[_u]},uf.prototype.getClass=function(){return uf};var cf=function(){this._nodeMap=new Bo,this._edge=null;var t=arguments[0];this._edge=t};cf.prototype.getSplitCoordinates=function(){var t=new Cc;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},cf.prototype.addCollapsedNodes=function(){var t=new xc;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cf.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cf.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new Tu(e+1))}},cf.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);n.add(new xu(t.coord),!1);for(var i=t.segmentIndex+1;i<=e.segmentIndex;i++)n.add(this._edge.getCoordinate(i));o&&n.add(new xu(e.coord))},cf.prototype.iterator=function(){return this._nodeMap.values().iterator()},cf.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),o=this.createSplitEdge(n,r);t.add(o),n=r}},cf.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},cf.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var o=n.next();this.findCollapseIndex(r,o,e)&&t.add(new Tu(e[0])),r=o}},cf.prototype.getEdge=function(){return this._edge},cf.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cf.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),a=0;i[a++]=new xu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)i[a++]=this._edge.getCoordinate(s);return o&&(i[a]=new xu(e.coord)),new hf(i,this._edge.getData())},cf.prototype.add=function(t,e){var n=new uf(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?($u.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},cf.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Qu("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),o=r[r.length-1];if(!o.equals2D(e[e.length-1]))throw new Qu("bad split edge end point at "+o)},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var lf=function(){};lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf},lf.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new yu("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof xu&&arguments[1]instanceof xu){var o=arguments[0],i=arguments[1],a=i.x-o.x,s=i.y-o.y;if(0===a&&0===s)throw new yu("Cannot compute the octant for two identical points "+o);return lf.octant(a,s)}};var ff=function(){};ff.prototype.getCoordinates=function(){},ff.prototype.size=function(){},ff.prototype.getCoordinate=function(t){},ff.prototype.isClosed=function(){},ff.prototype.setData=function(t){},ff.prototype.getData=function(){},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff};var pf=function(){};pf.prototype.addIntersection=function(t,e){},pf.prototype.interfaces_=function(){return[ff]},pf.prototype.getClass=function(){return pf};var hf=function(){this._nodeList=new cf(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};hf.prototype.getCoordinates=function(){return this._pts},hf.prototype.size=function(){return this._pts.length},hf.prototype.getCoordinate=function(t){return this._pts[t]},hf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},hf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},hf.prototype.setData=function(t){this._data=t},hf.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:lf.octant(t,e)},hf.prototype.getData=function(){return this._data},hf.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[3],i=new xu(n.getIntersection(o));this.addIntersection(i,r)}},hf.prototype.toString=function(){return Ju.toLineString(new sl(this._pts))},hf.prototype.getNodeList=function(){return this._nodeList},hf.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var o=this._pts[r];t.equals2D(o)&&(n=r)}return this._nodeList.add(t,n)},hf.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},hf.prototype.interfaces_=function(){return[pf]},hf.prototype.getClass=function(){return hf},hf.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new xc;return hf.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],o=n.iterator();o.hasNext();)o.next().getNodeList().addSplitEdges(r)};var df=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new xu,this.p1=new xu;else if(1===arguments.length){var t=arguments[0];this.p0=new xu(t.p0),this.p1=new xu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];this.p0=new xu(e,n),this.p1=new xu(r,o)}},gf={serialVersionUID:{configurable:!0}};df.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},df.prototype.orientationIndex=function(){if(arguments[0]instanceof df){var t=arguments[0],e=ic.orientationIndex(this.p0,this.p1,t.p0),n=ic.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof xu){var r=arguments[0];return ic.orientationIndex(this.p0,this.p1,r)}},df.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},df.prototype.isVertical=function(){return this.p0.x===this.p1.x},df.prototype.equals=function(t){if(!(t instanceof df))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},df.prototype.intersection=function(t){var e=new nc;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},df.prototype.project=function(){if(arguments[0]instanceof xu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new xu(t);var e=this.projectionFactor(t),n=new xu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof df){var r=arguments[0],o=this.projectionFactor(r.p0),i=this.projectionFactor(r.p1);if(o>=1&&i>=1)return null;if(o<=0&&i<=0)return null;var a=this.project(r.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var s=this.project(r.p1);return i<0&&(s=this.p0),i>1&&(s=this.p1),new df(a,s)}},df.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},df.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},df.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},df.prototype.distancePerpendicular=function(t){return ic.distancePointLinePerpendicular(t,this.p0,this.p1)},df.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},df.prototype.midPoint=function(){return df.midPoint(this.p0,this.p1)},df.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?mu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},df.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=mu.MAX_VALUE,o=null,i=this.closestPoint(t.p0);r=i.distance(t.p0),n[0]=i,n[1]=t.p0;var a=this.closestPoint(t.p1);(o=a.distance(t.p1))<r&&(r=o,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(o=s.distance(this.p0))<r&&(r=o,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(o=u.distance(this.p1))<r&&(r=o,n[0]=this.p1,n[1]=u),n},df.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},df.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},df.prototype.getLength=function(){return this.p0.distance(this.p1)},df.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},df.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},df.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},df.prototype.lineIntersection=function(t){try{return Gu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Uu))throw t}return null},df.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},df.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,a=Math.sqrt(o*o+i*i),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*o/a,u=e*i/a}return new xu(n-u,r+s)},df.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},df.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||mu.isNaN(e))&&(e=1),e},df.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},df.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},df.prototype.distance=function(){if(arguments[0]instanceof df){var t=arguments[0];return ic.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof xu){var e=arguments[0];return ic.distancePointLine(e,this.p0,this.p1)}},df.prototype.pointAlong=function(t){var e=new xu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},df.prototype.hashCode=function(){var t=mu.doubleToLongBits(this.p0.x);t^=31*mu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=mu.doubleToLongBits(this.p1.x);return n^=31*mu.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},df.prototype.interfaces_=function(){return[_u,Mo]},df.prototype.getClass=function(){return df},df.midPoint=function(t,e){return new xu((t.x+e.x)/2,(t.y+e.y)/2)},gf.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(df,gf);var yf=function(){this.tempEnv1=new Vu,this.tempEnv2=new Vu,this._overlapSeg1=new df,this._overlapSeg2=new df};yf.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf};var mf=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};mf.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mf.prototype.computeSelect=function(t,e,n,r){var o=this._pts[e],i=this._pts[n];if(r.tempEnv1.init(o,i),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},mf.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mf.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mf.prototype.setId=function(t){this._id=t},mf.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mf.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Vu(t,e)}return this._env},mf.prototype.getEndIndex=function(){return this._end},mf.prototype.getStartIndex=function(){return this._start},mf.prototype.getContext=function(){return this._context},mf.prototype.getId=function(){return this._id},mf.prototype.computeOverlapsInternal=function(t,e,n,r,o,i){var a=this._pts[t],s=this._pts[e],u=n._pts[r],c=n._pts[o];if(e-t==1&&o-r==1)return i.overlap(this,t,n,r),null;if(i.tempEnv1.init(a,s),i.tempEnv2.init(u,c),!i.tempEnv1.intersects(i.tempEnv2))return null;var l=Math.trunc((t+e)/2),f=Math.trunc((r+o)/2);t<l&&(r<f&&this.computeOverlapsInternal(t,l,n,r,f,i),f<o&&this.computeOverlapsInternal(t,l,n,f,o,i)),l<e&&(r<f&&this.computeOverlapsInternal(l,e,n,r,f,i),f<o&&this.computeOverlapsInternal(l,e,n,f,o,i))},mf.prototype.interfaces_=function(){return[]},mf.prototype.getClass=function(){return mf};var vf=function(){};vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},vf.getChainStartIndices=function(t){var e=0,n=new xc;n.add(new Tu(e));do{var r=vf.findChainEnd(t,e);n.add(new Tu(r)),e=r}while(e<t.length-1);return vf.toIntArray(n)},vf.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=jl.quadrant(t[n],t[n+1]),o=e+1;o<t.length&&(t[o-1].equals2D(t[o])||jl.quadrant(t[o-1],t[o])===r);)o++;return o-1},vf.getChains=function(){if(1===arguments.length){var t=arguments[0];return vf.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new xc,o=vf.getChainStartIndices(e),i=0;i<o.length-1;i++){var a=new mf(e,o[i],o[i+1],n);r.add(a)}return r}},vf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var _f=function(){};_f.prototype.computeNodes=function(t){},_f.prototype.getNodedSubstrings=function(){},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f};var bf=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};bf.prototype.setSegmentIntersector=function(t){this._segInt=t},bf.prototype.interfaces_=function(){return[_f]},bf.prototype.getClass=function(){return bf};var wf=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new xc,this._index=new of,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return hf.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vf.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new xf(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var o=r.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return xf},Object.defineProperties(e,n),e}(bf),xf=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3],i=e.getContext(),a=r.getContext();this._si.processIntersections(i,n,a,o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yf),Ef=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(i),this.setJoinStyle(a),this.setMitreLimit(s)}},Cf={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ef.prototype.getEndCapStyle=function(){return this._endCapStyle},Ef.prototype.isSingleSided=function(){return this._isSingleSided},Ef.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ef.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ef.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ef.JOIN_ROUND&&(this._quadrantSegments=Ef.DEFAULT_QUADRANT_SEGMENTS)},Ef.prototype.getJoinStyle=function(){return this._joinStyle},Ef.prototype.setJoinStyle=function(t){this._joinStyle=t},Ef.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ef.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ef.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ef.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ef.prototype.getMitreLimit=function(){return this._mitreLimit},Ef.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ef.prototype.setSingleSided=function(t){this._isSingleSided=t},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef},Ef.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Cf.CAP_ROUND.get=function(){return 1},Cf.CAP_FLAT.get=function(){return 2},Cf.CAP_SQUARE.get=function(){return 3},Cf.JOIN_ROUND.get=function(){return 1},Cf.JOIN_MITRE.get=function(){return 2},Cf.JOIN_BEVEL.get=function(){return 3},Cf.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Cf.DEFAULT_MITRE_LIMIT.get=function(){return 5},Cf.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ef,Cf);var If=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ic.COUNTERCLOCKWISE,this._inputLine=t||null},Nf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};If.prototype.isDeletable=function(t,e,n,r){var o=this._inputLine[t],i=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(o,i,a)&&!!this.isShallow(o,i,a,r)&&this.isShallowSampled(o,i,t,n,r)},If.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var o=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=If.DELETE,o=!0,r=!0),t=o?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},If.prototype.isShallowConcavity=function(t,e,n,r){return ic.computeOrientation(t,e,n)===this._angleOrientation&&ic.distancePointLine(e,t,n)<r},If.prototype.isShallowSampled=function(t,e,n,r,o){var i=Math.trunc((r-n)/If.NUM_PTS_TO_CHECK);i<=0&&(i=1);for(var a=n;a<r;a+=i)if(!this.isShallow(t,e,this._inputLine[a],o))return!1;return!0},If.prototype.isConcave=function(t,e,n){return ic.computeOrientation(t,e,n)===this._angleOrientation},If.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ic.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},If.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===If.DELETE;)e++;return e},If.prototype.isShallow=function(t,e,n,r){return ic.distancePointLine(e,t,n)<r},If.prototype.collapseLine=function(){for(var t=new Cc,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==If.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.simplify=function(t,e){return new If(t).simplify(e)},Nf.INIT.get=function(){return 0},Nf.DELETE.get=function(){return 1},Nf.KEEP.get=function(){return 1},Nf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(If,Nf);var Sf=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new xc},Pf={COORDINATE_ARRAY_TYPE:{configurable:!0}};Sf.prototype.getCoordinates=function(){return this._ptList.toArray(Sf.COORDINATE_ARRAY_TYPE)},Sf.prototype.setPrecisionModel=function(t){this._precisionModel=t},Sf.prototype.addPt=function(t){var e=new xu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Sf.prototype.revere=function(){},Sf.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Sf.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Sf.prototype.toString=function(){return(new yl).createLineString(this.getCoordinates()).toString()},Sf.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new xu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Sf.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Pf.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Sf,Pf);var Of=function(){},Mf={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.toDegrees=function(t){return 180*t/Math.PI},Of.normalize=function(t){for(;t>Math.PI;)t-=Of.PI_TIMES_2;for(;t<=-Math.PI;)t+=Of.PI_TIMES_2;return t},Of.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,o=n.y-e.y;return Math.atan2(o,r)}},Of.isAcute=function(t,e,n){var r=t.x-e.x,o=t.y-e.y;return r*(n.x-e.x)+o*(n.y-e.y)>0},Of.isObtuse=function(t,e,n){var r=t.x-e.x,o=t.y-e.y;return r*(n.x-e.x)+o*(n.y-e.y)<0},Of.interiorAngle=function(t,e,n){var r=Of.angle(e,t),o=Of.angle(e,n);return Math.abs(o-r)},Of.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Of.PI_TIMES_2;t>=Of.PI_TIMES_2&&(t=0)}else{for(;t>=Of.PI_TIMES_2;)t-=Of.PI_TIMES_2;t<0&&(t=0)}return t},Of.angleBetween=function(t,e,n){var r=Of.angle(e,t),o=Of.angle(e,n);return Of.diff(r,o)},Of.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Of.toRadians=function(t){return t*Math.PI/180},Of.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Of.COUNTERCLOCKWISE:n<0?Of.CLOCKWISE:Of.NONE},Of.angleBetweenOriented=function(t,e,n){var r=Of.angle(e,t),o=Of.angle(e,n)-r;return o<=-Math.PI?o+Of.PI_TIMES_2:o>Math.PI?o-Of.PI_TIMES_2:o},Mf.PI_TIMES_2.get=function(){return 2*Math.PI},Mf.PI_OVER_2.get=function(){return Math.PI/2},Mf.PI_OVER_4.get=function(){return Math.PI/4},Mf.COUNTERCLOCKWISE.get=function(){return ic.COUNTERCLOCKWISE},Mf.CLOCKWISE.get=function(){return ic.CLOCKWISE},Mf.NONE.get=function(){return ic.COLLINEAR},Object.defineProperties(Of,Mf);var Lf=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new df,this._seg1=new df,this._offset0=new df,this._offset1=new df,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new nc,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Ef.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Tf={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Lf.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ic.computeOrientation(this._s0,this._s1,this._s2),r=n===ic.CLOCKWISE&&this._side===Cl.LEFT||n===ic.COUNTERCLOCKWISE&&this._side===Cl.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Lf.prototype.addLineEndCap=function(t,e){var n=new df(t,e),r=new df;this.computeOffsetSegment(n,Cl.LEFT,this._distance,r);var o=new df;this.computeOffsetSegment(n,Cl.RIGHT,this._distance,o);var i=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,i);switch(this._bufParams.getEndCapStyle()){case Ef.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,ic.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case Ef.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(o.p1);break;case Ef.CAP_SQUARE:var u=new xu;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var c=new xu(r.p1.x+u.x,r.p1.y+u.y),l=new xu(o.p1.x+u.x,o.p1.y+u.y);this._segList.addPt(c),this._segList.addPt(l)}},Lf.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Lf.prototype.addMitreJoin=function(t,e,n,r){var o=!0,i=null;try{i=Gu.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:i.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(o=!1)}catch(t){if(!(t instanceof Uu))throw t;i=new xu(0,0),o=!1}o?this._segList.addPt(i):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Lf.prototype.addFilletCorner=function(t,e,n,r,o){var i=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,i),u=n.x-t.x,c=n.y-t.y,l=Math.atan2(c,u);r===ic.CLOCKWISE?s<=l&&(s+=2*Math.PI):s>=l&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,l,r,o),this._segList.addPt(n)},Lf.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Lf.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ef.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ef.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Lf.prototype.createSquare=function(t){this._segList.addPt(new xu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new xu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new xu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new xu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Lf.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Lf.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Lf.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Lf.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Lf.prototype.addLimitedMitreJoin=function(t,e,n,r){var o=this._seg0.p1,i=Of.angle(o,this._seg0.p0),a=Of.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,s=Of.normalize(i+a),u=Of.normalize(s+Math.PI),c=r*n,l=n-c*Math.abs(Math.sin(a)),f=o.x+c*Math.cos(u),p=o.y+c*Math.sin(u),h=new xu(f,p),d=new df(o,h),g=d.pointAlongOffset(1,l),y=d.pointAlongOffset(1,-l);this._side===Cl.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},Lf.prototype.computeOffsetSegment=function(t,e,n,r){var o=e===Cl.LEFT?1:-1,i=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(i*i+a*a),u=o*n*i/s,c=o*n*a/s;r.p0.x=t.p0.x-c,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-c,r.p1.y=t.p1.y+u},Lf.prototype.addFilletArc=function(t,e,n,r,o){var i=r===ic.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,c=0,l=new xu;c<a;){var f=e+i*c;l.x=t.x+o*Math.cos(f),l.y=t.y+o*Math.sin(f),this._segList.addPt(l),c+=u}},Lf.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Lf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new xu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new xu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Lf.prototype.createCircle=function(t){var e=new xu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Lf.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Lf.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Sf,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Lf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Lf.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ef.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ef.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ic.CLOCKWISE,this._distance))},Lf.prototype.closeRing=function(){this._segList.closeRing()},Lf.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf},Tf.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Tf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Tf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Tf.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Lf,Tf);var Rf=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Rf.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),o=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,n,o);var i=o.getCoordinates();return n&&Ic.reverse(i),i},Rf.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var o=If.simplify(t,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],Cl.LEFT),n.addFirstSegment();for(var a=i-2;a>=0;a--)n.addNextSegment(o[a],!0)}else{n.addSegments(t,!1);var s=If.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],Cl.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(s[c],!0)}n.addLastSegment(),n.closeRing()},Rf.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Cl.RIGHT&&(r=-r);var o=If.simplify(t,r),i=o.length-1;n.initSideSegments(o[i-1],o[0],e);for(var a=1;a<=i;a++){var s=1!==a;n.addNextSegment(o[a],s)}n.closeRing()},Rf.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=If.simplify(t,n),o=r.length-1;e.initSideSegments(r[0],r[1],Cl.LEFT);for(var i=2;i<=o;i++)e.addNextSegment(r[i],!0);e.addLastSegment(),e.addLineEndCap(r[o-1],r[o]);var a=If.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],Cl.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},Rf.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Ef.CAP_ROUND:e.createCircle(t);break;case Ef.CAP_SQUARE:e.createSquare(t)}},Rf.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var o=e<0;this.computeSingleSidedBufferCurve(t,o,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Rf.prototype.getBufferParameters=function(){return this._bufParams},Rf.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Rf.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Rf.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Rf.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var o=If.simplify(t,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],Cl.LEFT),n.addFirstSegment();for(var a=i-2;a>=0;a--)n.addNextSegment(o[a],!0)}else{var s=If.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],Cl.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(s[c],!0)}n.addLastSegment()},Rf.prototype.getSegGen=function(t){return new Lf(this._precisionModel,this._bufParams,t)},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},Rf.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new xu(t[n]);return e};var Af=function(){this._subgraphs=null,this._seg=new df,this._cga=new ic;var t=arguments[0];this._subgraphs=t},kf={DepthSegment:{configurable:!0}};Af.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new xc,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),o=r.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Pu(arguments[2],wc)&&arguments[0]instanceof xu&&arguments[1]instanceof Ul){for(var i=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),c=0;c<u.length-1;c++)if(this._seg.p0=u[c],this._seg.p1=u[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<i.x)&&!(this._seg.isHorizontal()||i.y<this._seg.p0.y||i.y>this._seg.p1.y||ic.computeOrientation(this._seg.p0,this._seg.p1,i)===ic.RIGHT)){var l=a.getDepth(Cl.LEFT);this._seg.p0.equals(u[c])||(l=a.getDepth(Cl.RIGHT));var f=new Df(this._seg,l);s.add(f)}}else if(Pu(arguments[2],wc)&&arguments[0]instanceof xu&&Pu(arguments[1],wc))for(var p=arguments[0],h=arguments[1],d=arguments[2],g=h.iterator();g.hasNext();){var y=g.next();y.isForward()&&this.findStabbedSegments(p,y,d)}},Af.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Zl.min(e)._leftDepth},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af},kf.DepthSegment.get=function(){return Df},Object.defineProperties(Af,kf);var Df=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new df(t),this._leftDepth=e};Df.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Df.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Df.prototype.toString=function(){return this._upwardSeg.toString()},Df.prototype.interfaces_=function(){return[_u]},Df.prototype.getClass=function(){return Df};var Ff=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Ff.prototype.area=function(){return Ff.area(this.p0,this.p1,this.p2)},Ff.prototype.signedArea=function(){return Ff.signedArea(this.p0,this.p1,this.p2)},Ff.prototype.interpolateZ=function(t){if(null===t)throw new yu("Supplied point is null.");return Ff.interpolateZ(t,this.p0,this.p1,this.p2)},Ff.prototype.longestSideLength=function(){return Ff.longestSideLength(this.p0,this.p1,this.p2)},Ff.prototype.isAcute=function(){return Ff.isAcute(this.p0,this.p1,this.p2)},Ff.prototype.circumcentre=function(){return Ff.circumcentre(this.p0,this.p1,this.p2)},Ff.prototype.area3D=function(){return Ff.area3D(this.p0,this.p1,this.p2)},Ff.prototype.centroid=function(){return Ff.centroid(this.p0,this.p1,this.p2)},Ff.prototype.inCentre=function(){return Ff.inCentre(this.p0,this.p1,this.p2)},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff},Ff.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Ff.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Ff.det=function(t,e,n,r){return t*r-e*n},Ff.interpolateZ=function(t,e,n,r){var o=e.x,i=e.y,a=n.x-o,s=r.x-o,u=n.y-i,c=r.y-i,l=a*c-s*u,f=t.x-o,p=t.y-i,h=(c*f-s*p)/l,d=(-u*f+a*p)/l;return e.z+h*(n.z-e.z)+d*(r.z-e.z)},Ff.longestSideLength=function(t,e,n){var r=t.distance(e),o=e.distance(n),i=n.distance(t),a=r;return o>a&&(a=o),i>a&&(a=i),a},Ff.isAcute=function(t,e,n){return!!Of.isAcute(t,e,n)&&!!Of.isAcute(e,n,t)&&!!Of.isAcute(n,t,e)},Ff.circumcentre=function(t,e,n){var r=n.x,o=n.y,i=t.x-r,a=t.y-o,s=e.x-r,u=e.y-o,c=2*Ff.det(i,a,s,u),l=Ff.det(a,i*i+a*a,u,s*s+u*u),f=Ff.det(i,i*i+a*a,s,s*s+u*u);return new xu(r-l/c,o+f/c)},Ff.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,o=new Gu(t.x+n/2,t.y+r/2,1),i=new Gu(t.x-r+n/2,t.y+n+r/2,1);return new Gu(o,i)},Ff.angleBisector=function(t,e,n){var r=e.distance(t),o=r/(r+e.distance(n)),i=n.x-t.x,a=n.y-t.y;return new xu(t.x+o*i,t.y+o*a)},Ff.area3D=function(t,e,n){var r=e.x-t.x,o=e.y-t.y,i=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,c=o*u-i*s,l=i*a-r*u,f=r*s-o*a,p=c*c+l*l+f*f;return Math.sqrt(p)/2},Ff.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,o=(t.y+e.y+n.y)/3;return new xu(r,o)},Ff.inCentre=function(t,e,n){var r=e.distance(n),o=t.distance(n),i=t.distance(e),a=r+o+i,s=(r*t.x+o*e.x+i*n.x)/a,u=(r*t.y+o*e.y+i*n.y)/a;return new xu(s,u)};var jf=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new xc;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};jf.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Nu.EXTERIOR,Nu.INTERIOR)},jf.prototype.addPolygon=function(t){var e=this._distance,n=Cl.LEFT;this._distance<0&&(e=-this._distance,n=Cl.RIGHT);var r=t.getExteriorRing(),o=Ic.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,e,n,Nu.EXTERIOR,Nu.INTERIOR);for(var i=0;i<t.getNumInteriorRing();i++){var a=t.getInteriorRingN(i),s=Ic.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,Cl.opposite(n),Nu.INTERIOR,Nu.EXTERIOR)}},jf.prototype.isTriangleErodedCompletely=function(t,e){var n=new Ff(t[0],t[1],t[2]),r=n.inCentre();return ic.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},jf.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Ic.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Nu.EXTERIOR,Nu.INTERIOR)},jf.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new hf(t,new Ll(0,Nu.BOUNDARY,e,n));this._curveList.add(r)},jf.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},jf.prototype.addPolygonRing=function(t,e,n,r,o){if(0===e&&t.length<tl.MINIMUM_VALID_SIZE)return null;var i=r,a=o;t.length>=tl.MINIMUM_VALID_SIZE&&ic.isCCW(t)&&(i=o,a=r,n=Cl.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,i,a)},jf.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Zc?this.addPolygon(t):t instanceof Wc?this.addLineString(t):t instanceof Jc?this.addPoint(t):t instanceof $c?this.addCollection(t):t instanceof zc?this.addCollection(t):t instanceof el?this.addCollection(t):t instanceof Uc&&this.addCollection(t)},jf.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),o=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>o},jf.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf};var Bf=function(){};Bf.prototype.locate=function(t){},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var qf=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};qf.prototype.next=function(){if(this._atStart)return this._atStart=!1,qf.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Lo;var t=this._parent.getGeometryN(this._index++);return t instanceof Uc?(this._subcollectionIterator=new qf(t),this._subcollectionIterator.next()):t},qf.prototype.remove=function(){throw new Error(this.getClass().getName())},qf.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},qf.prototype.interfaces_=function(){return[bc]},qf.prototype.getClass=function(){return qf},qf.isAtomic=function(t){return!(t instanceof Uc)};var Uf=function(){this._geom=null;var t=arguments[0];this._geom=t};Uf.prototype.locate=function(t){return Uf.locate(t,this._geom)},Uf.prototype.interfaces_=function(){return[Bf]},Uf.prototype.getClass=function(){return Uf},Uf.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ic.isPointInRing(t,e.getCoordinates())},Uf.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Uf.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r);if(Uf.isPointInRing(t,o))return!1}return!0},Uf.containsPoint=function(t,e){if(e instanceof Zc)return Uf.containsPointInPolygon(t,e);if(e instanceof Uc)for(var n=new qf(e);n.hasNext();){var r=n.next();if(r!==e&&Uf.containsPoint(t,r))return!0}return!1},Uf.locate=function(t,e){return e.isEmpty()?Nu.EXTERIOR:Uf.containsPoint(t,e)?Nu.INTERIOR:Nu.EXTERIOR};var zf=function(){this._edgeMap=new Bo,this._edgeList=null,this._ptInAreaLocation=[Nu.NONE,Nu.NONE]};zf.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},zf.prototype.propagateSideLabels=function(t){for(var e=Nu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Cl.LEFT)!==Nu.NONE&&(e=r.getLocation(t,Cl.LEFT))}if(e===Nu.NONE)return null;for(var o=e,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getLabel();if(s.getLocation(t,Cl.ON)===Nu.NONE&&s.setLocation(t,Cl.ON,o),s.isArea(t)){var u=s.getLocation(t,Cl.LEFT),c=s.getLocation(t,Cl.RIGHT);if(c!==Nu.NONE){if(c!==o)throw new Sl("side location conflict",a.getCoordinate());u===Nu.NONE&&$u.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),o=u}else $u.isTrue(s.getLocation(t,Cl.LEFT)===Nu.NONE,"found single null side"),s.setLocation(t,Cl.RIGHT,o),s.setLocation(t,Cl.LEFT,o)}}},zf.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},zf.prototype.print=function(t){zu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},zf.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},zf.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Cl.LEFT);$u.isTrue(r!==Nu.NONE,"Found unlabelled area edge");for(var o=r,i=this.iterator();i.hasNext();){var a=i.next().getLabel();$u.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Cl.LEFT),u=a.getLocation(t,Cl.RIGHT);if(s===u)return!1;if(u!==o)return!1;o=s}return!0},zf.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},zf.prototype.iterator=function(){return this.getEdges().iterator()},zf.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new xc(this._edgeMap.values())),this._edgeList},zf.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Nu.NONE&&(this._ptInAreaLocation[t]=Uf.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},zf.prototype.toString=function(){var t=new Lu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},zf.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},zf.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===Nu.BOUNDARY&&(e[o]=!0);for(var i=this.iterator();i.hasNext();)for(var a=i.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var c=Nu.NONE;if(e[u])c=Nu.EXTERIOR;else{var l=a.getCoordinate();c=this.getLocation(u,l,t)}s.setAllLocationsIfNull(u,c)}},zf.prototype.getDegree=function(){return this._edgeMap.size()},zf.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf};var Gf=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var o=this._resultAreaEdgeList.get(r),i=o.getSym();if(o.getLabel().isArea())switch(null===t&&o.isInResult()&&(t=o),n){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;e=i,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!o.isInResult())continue;e.setNext(o),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Sl("no outgoing dirEdge found",this.getCoordinate());$u.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),o=n.getQuadrant(),i=r.getQuadrant();return jl.isNorthern(o)&&jl.isNorthern(i)?n:jl.isNorthern(o)||jl.isNorthern(i)?0!==n.getDy()?n:0!==r.getDy()?r:($u.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){zu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new xc;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),o=r.getSym();null===e&&(e=o),null!==t&&o.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Cl.LEFT),r=t.getDepth(Cl.RIGHT),o=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,o)!==r)throw new Sl("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var i=arguments[0],a=arguments[1],s=arguments[2],u=i;u<a;u++){var c=this._edgeList.get(u);c.setEdgeDepths(Cl.RIGHT,s),s=c.getDepth(Cl.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var i=this._resultAreaEdgeList.get(o),a=i.getSym();switch(null===e&&i.getEdgeRing()===t&&(e=i),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==t)continue;n.setNextMin(i),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&($u.isTrue(null!==e,"found null for first outgoing dirEdge"),$u.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,o=this.iterator();o.hasNext();)o.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Nu.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Nu.INTERIOR;break}if(r.isInResult()){t=Nu.EXTERIOR;break}}}if(t===Nu.NONE)return null;for(var o=t,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(o===Nu.INTERIOR):(a.isInResult()&&(o=Nu.EXTERIOR),s.isInResult()&&(o=Nu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Ll(Nu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),o=0;o<2;o++){var i=r.getLocation(o);i!==Nu.INTERIOR&&i!==Nu.BOUNDARY||this._label.setLocation(o,Nu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zf),Vf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Dl(t,new Gf)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zl),Yf=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Yf.prototype.compareTo=function(t){var e=t;return Yf.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Yf.prototype.interfaces_=function(){return[_u]},Yf.prototype.getClass=function(){return Yf},Yf.orientation=function(t){return 1===Ic.increasingDirection(t)},Yf.compareOriented=function(t,e,n,r){for(var o=e?1:-1,i=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,u=e?0:t.length-1,c=r?0:n.length-1;;){var l=t[u].compareTo(n[c]);if(0!==l)return l;var f=(u+=o)===a,p=(c+=i)===s;if(f&&!p)return-1;if(!f&&p)return 1;if(f&&p)return 0}};var Xf=function(){this._edges=new xc,this._ocaMap=new Bo};Xf.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),o=0;o<r.length;o++)o>0&&t.print(","),t.print(r[o].x+" "+r[o].y);t.println(")")}t.print(")  ")},Xf.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Xf.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Xf.prototype.iterator=function(){return this._edges.iterator()},Xf.prototype.getEdges=function(){return this._edges},Xf.prototype.get=function(t){return this._edges.get(t)},Xf.prototype.findEqualEdge=function(t){var e=new Yf(t.getCoordinates());return this._ocaMap.get(e)},Xf.prototype.add=function(t){this._edges.add(t);var e=new Yf(t.getCoordinates());this._ocaMap.put(e,t)},Xf.prototype.interfaces_=function(){return[]},Xf.prototype.getClass=function(){return Xf};var Hf=function(){};Hf.prototype.processIntersections=function(t,e,n,r){},Hf.prototype.isDone=function(){},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf};var Wf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Wf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Wf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.size()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},Wf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Wf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Wf.prototype.getLineIntersector=function(){return this._li},Wf.prototype.hasProperIntersection=function(){return this._hasProper},Wf.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Wf.prototype.hasIntersection=function(){return this._hasIntersection},Wf.prototype.isDone=function(){return!1},Wf.prototype.hasInteriorIntersection=function(){return this._hasInterior},Wf.prototype.interfaces_=function(){return[Hf]},Wf.prototype.getClass=function(){return Wf},Wf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Kf=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new xu(t),this.segmentIndex=e,this.dist=n};Kf.prototype.getSegmentIndex=function(){return this.segmentIndex},Kf.prototype.getCoordinate=function(){return this.coord},Kf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Kf.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Kf.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Kf.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Kf.prototype.getDistance=function(){return this.dist},Kf.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Kf.prototype.interfaces_=function(){return[_u]},Kf.prototype.getClass=function(){return Kf};var Jf=function(){this._nodeMap=new Bo,this.edge=null;var t=arguments[0];this.edge=t};Jf.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Jf.prototype.iterator=function(){return this._nodeMap.values().iterator()},Jf.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),o=this.createSplitEdge(n,r);t.add(o),n=r}},Jf.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Jf.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],o=e.dist>0||!e.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),a=0;i[a++]=new xu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)i[a++]=this.edge.pts[s];return o&&(i[a]=e.coord),new ep(i,new Ll(this.edge._label))},Jf.prototype.add=function(t,e,n){var r=new Kf(t,e,n),o=this._nodeMap.get(r);return null!==o?o:(this._nodeMap.put(r,r),r)},Jf.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Jf.prototype.interfaces_=function(){return[]},Jf.prototype.getClass=function(){return Jf};var Qf=function(){};Qf.prototype.getChainStartIndices=function(t){var e=0,n=new xc;n.add(new Tu(e));do{var r=this.findChainEnd(t,e);n.add(new Tu(r)),e=r}while(e<t.length-1);return Qf.toIntArray(n)},Qf.prototype.findChainEnd=function(t,e){for(var n=jl.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&jl.quadrant(t[r-1],t[r])===n;)r++;return r-1},Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf},Qf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Zf=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Vu,this.env2=new Vu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Qf;this.startIndex=e.getChainStartIndices(this.pts)};Zf.prototype.getCoordinates=function(){return this.pts},Zf.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Zf.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Zf.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],c=arguments[5],l=this.pts[o],f=this.pts[i],p=a.pts[s],h=a.pts[u];if(i-o==1&&u-s==1)return c.addIntersections(this.e,o,a.e,s),null;if(this.env1.init(l,f),this.env2.init(p,h),!this.env1.intersects(this.env2))return null;var d=Math.trunc((o+i)/2),g=Math.trunc((s+u)/2);o<d&&(s<g&&this.computeIntersectsForChain(o,d,a,s,g,c),g<u&&this.computeIntersectsForChain(o,d,a,g,u,c)),d<i&&(s<g&&this.computeIntersectsForChain(d,i,a,s,g,c),g<u&&this.computeIntersectsForChain(d,i,a,g,u,c))}},Zf.prototype.getStartIndexes=function(){return this.startIndex},Zf.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf};var $f=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},tp={NULL_VALUE:{configurable:!0}};$f.prototype.getDepth=function(t,e){return this._depth[t][e]},$f.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},$f.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==$f.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===$f.NULL_VALUE}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._depth[r][o]===$f.NULL_VALUE}},$f.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},$f.prototype.getDelta=function(t){return this._depth[t][Cl.RIGHT]-this._depth[t][Cl.LEFT]},$f.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Nu.EXTERIOR:Nu.INTERIOR},$f.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},$f.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Nu.EXTERIOR&&r!==Nu.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=$f.depthAtLocation(r):this._depth[e][n]+=$f.depthAtLocation(r))}else if(3===arguments.length){var o=arguments[0],i=arguments[1];arguments[2]===Nu.INTERIOR&&this._depth[o][i]++}},$f.prototype.interfaces_=function(){return[]},$f.prototype.getClass=function(){return $f},$f.depthAtLocation=function(t){return t===Nu.EXTERIOR?0:t===Nu.INTERIOR?1:$f.NULL_VALUE},tp.NULL_VALUE.get=function(){return-1},Object.defineProperties($f,tp);var ep=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Jf(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new $f,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.pts=r,this._label=o}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Ll.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,o=!0,i=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--i])||(o=!1),!r&&!o)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Zf(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Vu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var o=new xu(t.getIntersection(r)),i=e,a=t.getEdgeDistance(n,r),s=i+1;if(s<this.pts.length){var u=this.pts[s];o.equals2D(u)&&(i=s,a=0)}this.eiList.add(o,i,a)},e.prototype.toString=function(){var t=new Lu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Cl.ON),e.getLocation(1,Cl.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Cl.LEFT),e.getLocation(1,Cl.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Cl.RIGHT),e.getLocation(1,Cl.RIGHT),2))},e}(kl),np=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Xf,this._bufParams=t||null};np.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},np.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Ll(t.getLabel())).flip(),n.merge(r);var o=np.depthDelta(r),i=e.getDepthDelta()+o;e.setDepthDelta(i)}else this._edgeList.add(t),t.setDepthDelta(np.depthDelta(t.getLabel()))},np.prototype.buildSubgraphs=function(t,e){for(var n=new xc,r=t.iterator();r.hasNext();){var o=r.next(),i=o.getRightmostCoordinate(),a=new Af(n).getDepth(i);o.computeDepth(a),o.findResultEdges(),n.add(o),e.add(o.getDirectedEdges(),o.getNodes())}},np.prototype.createSubgraphs=function(t){for(var e=new xc,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var o=new Ol;o.create(r),e.add(o)}}return Zl.sort(e,Zl.reverseOrder()),e},np.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},np.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new wf,n=new nc;return n.setPrecisionModel(t),e.setSegmentIntersector(new Wf(n)),e},np.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Rf(n,this._bufParams),o=new jf(t,e,r).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new Gl(new Vf),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),a=new Vl(this._geomFact);this.buildSubgraphs(i,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},np.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var o=r.next(),i=o.getCoordinates();if(2!==i.length||!i[0].equals2D(i[1])){var a=o.getData(),s=new ep(o.getCoordinates(),new Ll(a));this.insertUniqueEdge(s)}}},np.prototype.setNoder=function(t){this._workingNoder=t},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np},np.depthDelta=function(t){var e=t.getLocation(0,Cl.LEFT),n=t.getLocation(0,Cl.RIGHT);return e===Nu.INTERIOR&&n===Nu.EXTERIOR?1:e===Nu.EXTERIOR&&n===Nu.INTERIOR?-1:0},np.convertSegStrings=function(t){for(var e=new yl,n=new xc;t.hasNext();){var r=t.next(),o=e.createLineString(r.getCoordinates());n.add(o)}return e.buildGeometry(n)};var rp=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=o,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};rp.prototype.rescale=function(){if(Pu(arguments[0],vc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&zu.out.println(n)}},rp.prototype.scale=function(){if(Pu(arguments[0],vc)){for(var t=arguments[0],e=new xc,n=t.iterator();n.hasNext();){var r=n.next();e.add(new hf(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var o=arguments[0],i=new Array(o.length).fill(null),a=0;a<o.length;a++)i[a]=new xu(Math.round((o[a].x-this._offsetX)*this._scaleFactor),Math.round((o[a].y-this._offsetY)*this._scaleFactor),o[a].z);return Ic.removeRepeatedPoints(i)}},rp.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},rp.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},rp.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},rp.prototype.interfaces_=function(){return[_f]},rp.prototype.getClass=function(){return rp};var op=function(){this._li=new nc,this._segStrings=null;var t=arguments[0];this._segStrings=t},ip={fact:{configurable:!0}};op.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var o=r.next().getCoordinates(),i=1;i<o.length-1;i++)if(o[i].equals(n))throw new Qu("found endpt/interior pt intersection at index "+i+" :pt "+n)},op.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var o=arguments[0],i=arguments[1],a=o.getCoordinates(),s=i.getCoordinates(),u=0;u<a.length-1;u++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(o,u,i,c);else if(4===arguments.length){var l=arguments[0],f=arguments[1],p=arguments[2],h=arguments[3];if(l===p&&f===h)return null;var d=l.getCoordinates()[f],g=l.getCoordinates()[f+1],y=p.getCoordinates()[h],m=p.getCoordinates()[h+1];if(this._li.computeIntersection(d,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,y,m)))throw new Qu("found non-noded intersection at "+d+"-"+g+" and "+y+"-"+m)}},op.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},op.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},op.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var o=t.getIntersection(r);if(!o.equals(e)&&!o.equals(n))return!0}return!1},op.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Qu("found non-noded collapse at "+op.fact.createLineString([t,e,n]))},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op},ip.fact.get=function(){return new yl},Object.defineProperties(op,ip);var ap=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new yu("Scale factor must be non-zero");1!==e&&(this._pt=new xu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new xu,this._p1Scaled=new xu),this.initCorners(this._pt)},sp={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ap.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),o=Math.min(t.y,e.y),i=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<o||this._miny>i;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return $u.isTrue(!(a&&s),"Found bad envelope test"),s},ap.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new xu(this._maxx,this._maxy),this._corner[1]=new xu(this._minx,this._maxy),this._corner[2]=new xu(this._minx,this._miny),this._corner[3]=new xu(this._maxx,this._miny)},ap.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ap.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ap.prototype.getCoordinate=function(){return this._originalPt},ap.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ap.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ap.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Vu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ap.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},ap.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},ap.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap},sp.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ap,sp);var up=function(){this.tempEnv1=new Vu,this.selectedSegment=new df};up.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var cp=function(){this._index=null;var t=arguments[0];this._index=t},lp={HotPixelSnapAction:{configurable:!0}};cp.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],o=e.getSafeEnvelope(),i=new fp(e,n,r);return this._index.query(o,{interfaces_:function(){return[Wl]},visitItem:function(t){t.select(o,i)}}),i.isNodeAdded()}},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp},lp.HotPixelSnapAction.get=function(){return fp},Object.defineProperties(cp,lp);var fp=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(up),pp=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new xc};pp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},pp.prototype.isDone=function(){return!1},pp.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pp.prototype.interfaces_=function(){return[Hf]},pp.prototype.getClass=function(){return pp};var hp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new nc,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};hp.prototype.checkCorrectness=function(t){var e=hf.getNodedSubstrings(t),n=new op(e);try{n.checkValid()}catch(t){if(!(t instanceof qu))throw t;t.printStackTrace()}},hp.prototype.getNodedSubstrings=function(){return hf.getNodedSubstrings(this._nodedSegStrings)},hp.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},hp.prototype.findInteriorIntersections=function(t,e){var n=new pp(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},hp.prototype.computeVertexSnaps=function(){if(Pu(arguments[0],vc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof hf)for(var n=arguments[0],r=n.getCoordinates(),o=0;o<r.length;o++){var i=new ap(r[o],this._scaleFactor,this._li);this._pointSnapper.snap(i,n,o)&&n.addIntersection(r[o],o)}},hp.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wf,this._pointSnapper=new cp(this._noder.getIndex()),this.snapRound(t,this._li)},hp.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new ap(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},hp.prototype.interfaces_=function(){return[_f]},hp.prototype.getClass=function(){return hp};var dp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ef,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},gp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};dp.prototype.bufferFixedPrecision=function(t){var e=new rp(new hp(new pl(1)),t.getScale()),n=new np(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},dp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=dp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Sl))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=dp.precisionScaleFactor(this._argGeom,this._distance,n),o=new pl(r);this.bufferFixedPrecision(o)}},dp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===pl.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},dp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},dp.prototype.bufferOriginalPrecision=function(){try{var t=new np(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Qu))throw t;this._saveException=t}},dp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},dp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp},dp.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new dp(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof uc&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],o=arguments[2],i=new dp(n);return i.setQuadrantSegments(o),i.getResultGeometry(r)}if(arguments[2]instanceof Ef&&arguments[0]instanceof uc&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=arguments[2];return new dp(a,u).getResultGeometry(s)}}else if(4===arguments.length){var c=arguments[0],l=arguments[1],f=arguments[2],p=arguments[3],h=new dp(c);return h.setQuadrantSegments(f),h.setEndCapStyle(p),h.getResultGeometry(l)}},dp.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),o=Ou.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),i=n-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,i)},gp.CAP_ROUND.get=function(){return Ef.CAP_ROUND},gp.CAP_BUTT.get=function(){return Ef.CAP_FLAT},gp.CAP_FLAT.get=function(){return Ef.CAP_FLAT},gp.CAP_SQUARE.get=function(){return Ef.CAP_SQUARE},gp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(dp,gp);var yp=function(){this._pt=[new xu,new xu],this._distance=mu.NaN,this._isNull=!0};yp.prototype.getCoordinates=function(){return this._pt},yp.prototype.getCoordinate=function(t){return this._pt[t]},yp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},yp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},yp.prototype.getDistance=function(){return this._distance},yp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},yp.prototype.interfaces_=function(){return[]},yp.prototype.getClass=function(){return yp};var mp=function(){};mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp},mp.computeDistance=function(){if(arguments[2]instanceof yp&&arguments[0]instanceof Wc&&arguments[1]instanceof xu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),o=new df,i=0;i<r.length-1;i++){o.setCoordinates(r[i],r[i+1]);var a=o.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof yp&&arguments[0]instanceof Zc&&arguments[1]instanceof xu){var s=arguments[0],u=arguments[1],c=arguments[2];mp.computeDistance(s.getExteriorRing(),u,c);for(var l=0;l<s.getNumInteriorRing();l++)mp.computeDistance(s.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof yp&&arguments[0]instanceof uc&&arguments[1]instanceof xu){var f=arguments[0],p=arguments[1],h=arguments[2];if(f instanceof Wc)mp.computeDistance(f,p,h);else if(f instanceof Zc)mp.computeDistance(f,p,h);else if(f instanceof Uc)for(var d=f,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);mp.computeDistance(y,p,h)}else h.setMinimum(f.getCoordinate(),p)}else if(arguments[2]instanceof yp&&arguments[0]instanceof df&&arguments[1]instanceof xu){var m=arguments[0],v=arguments[1],_=arguments[2],b=m.closestPoint(v);_.setMinimum(b,v)}};var vp=function(t){this._maxPtDist=new yp,this._inputGeom=t||null},_p={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vp.prototype.computeMaxMidpointDistance=function(t){var e=new wp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vp.prototype.computeMaxVertexDistance=function(t){var e=new bp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vp.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vp.prototype.getDistancePoints=function(){return this._maxPtDist},vp.prototype.interfaces_=function(){return[]},vp.prototype.getClass=function(){return vp},_p.MaxPointDistanceFilter.get=function(){return bp},_p.MaxMidpointDistanceFilter.get=function(){return wp},Object.defineProperties(vp,_p);var bp=function(t){this._maxPtDist=new yp,this._minPtDist=new yp,this._geom=t||null};bp.prototype.filter=function(t){this._minPtDist.initialize(),mp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bp.prototype.getMaxPointDistance=function(){return this._maxPtDist},bp.prototype.interfaces_=function(){return[fc]},bp.prototype.getClass=function(){return bp};var wp=function(t){this._maxPtDist=new yp,this._minPtDist=new yp,this._geom=t||null};wp.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),o=new xu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),mp.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wp.prototype.isDone=function(){return!1},wp.prototype.isGeometryChanged=function(){return!1},wp.prototype.getMaxPointDistance=function(){return this._maxPtDist},wp.prototype.interfaces_=function(){return[qc]},wp.prototype.getClass=function(){return wp};var xp=function(t){this._comps=t||null};xp.prototype.filter=function(t){t instanceof Zc&&this._comps.add(t)},xp.prototype.interfaces_=function(){return[Bc]},xp.prototype.getClass=function(){return xp},xp.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return xp.getPolygons(t,new xc)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Zc?n.add(e):e instanceof Uc&&e.apply(new xp(n)),n}};var Ep=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Ep.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof tl){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Wc&&this._lines.add(t)},Ep.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Ep.prototype.interfaces_=function(){return[sc]},Ep.prototype.getClass=function(){return Ep},Ep.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ep.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Ep.getLines(e,n))}},Ep.getLines=function(){if(1===arguments.length){var t=arguments[0];return Ep.getLines(t,!1)}if(2===arguments.length){if(Pu(arguments[0],vc)&&Pu(arguments[1],vc)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var o=r.next();Ep.getLines(o,n)}return n}if(arguments[0]instanceof uc&&"boolean"==typeof arguments[1]){var i=arguments[0],a=arguments[1],s=new xc;return i.apply(new Ep(s,a)),s}if(arguments[0]instanceof uc&&Pu(arguments[1],vc)){var u=arguments[0],c=arguments[1];return u instanceof Wc?c.add(u):u.apply(new Ep(c)),c}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Pu(arguments[0],vc)&&Pu(arguments[1],vc)){for(var l=arguments[0],f=arguments[1],p=arguments[2],h=l.iterator();h.hasNext();){var d=h.next();Ep.getLines(d,f,p)}return f}if("boolean"==typeof arguments[2]&&arguments[0]instanceof uc&&Pu(arguments[1],vc)){var g=arguments[0],y=arguments[1],m=arguments[2];return g.apply(new Ep(y,m)),y}}};var Cp=function(){if(this._boundaryRule=pc.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new yu("Rule must be non-null");this._boundaryRule=t}};Cp.prototype.locateInternal=function(){if(arguments[0]instanceof xu&&arguments[1]instanceof Zc){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Nu.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Nu.EXTERIOR)return Nu.EXTERIOR;if(r===Nu.BOUNDARY)return Nu.BOUNDARY;for(var o=0;o<e.getNumInteriorRing();o++){var i=e.getInteriorRingN(o),a=this.locateInPolygonRing(t,i);if(a===Nu.INTERIOR)return Nu.EXTERIOR;if(a===Nu.BOUNDARY)return Nu.BOUNDARY}return Nu.INTERIOR}if(arguments[0]instanceof xu&&arguments[1]instanceof Wc){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return Nu.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!s.equals(c[0])&&!s.equals(c[c.length-1])?ic.isOnLine(s,c)?Nu.INTERIOR:Nu.EXTERIOR:Nu.BOUNDARY}if(arguments[0]instanceof xu&&arguments[1]instanceof Jc){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?Nu.INTERIOR:Nu.EXTERIOR}},Cp.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?ic.locatePointInRing(t,e.getCoordinates()):Nu.EXTERIOR},Cp.prototype.intersects=function(t,e){return this.locate(t,e)!==Nu.EXTERIOR},Cp.prototype.updateLocationInfo=function(t){t===Nu.INTERIOR&&(this._isIn=!0),t===Nu.BOUNDARY&&this._numBoundaries++},Cp.prototype.computeLocation=function(t,e){if(e instanceof Jc&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Wc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Zc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof zc)for(var n=e,r=0;r<n.getNumGeometries();r++){var o=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,o))}else if(e instanceof el)for(var i=e,a=0;a<i.getNumGeometries();a++){var s=i.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof Uc)for(var u=new qf(e);u.hasNext();){var c=u.next();c!==e&&this.computeLocation(t,c)}},Cp.prototype.locate=function(t,e){return e.isEmpty()?Nu.EXTERIOR:e instanceof Wc?this.locateInternal(t,e):e instanceof Zc?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Nu.BOUNDARY:this._numBoundaries>0||this._isIn?Nu.INTERIOR:Nu.EXTERIOR)},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp};var Ip=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._component=r,this._segIndex=o,this._pt=i}},Np={INSIDE_AREA:{configurable:!0}};Ip.prototype.isInsideArea=function(){return this._segIndex===Ip.INSIDE_AREA},Ip.prototype.getCoordinate=function(){return this._pt},Ip.prototype.getGeometryComponent=function(){return this._component},Ip.prototype.getSegmentIndex=function(){return this._segIndex},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},Np.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ip,Np);var Sp=function(t){this._pts=t||null};Sp.prototype.filter=function(t){t instanceof Jc&&this._pts.add(t)},Sp.prototype.interfaces_=function(){return[Bc]},Sp.prototype.getClass=function(){return Sp},Sp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Jc?Zl.singletonList(t):Sp.getPoints(t,new xc)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Jc?n.add(e):e instanceof Uc&&e.apply(new Sp(n)),n}};var Pp=function(){this._locations=null;var t=arguments[0];this._locations=t};Pp.prototype.filter=function(t){(t instanceof Jc||t instanceof Wc||t instanceof Zc)&&this._locations.add(new Ip(t,0,t.getCoordinate()))},Pp.prototype.interfaces_=function(){return[Bc]},Pp.prototype.getClass=function(){return Pp},Pp.getLocations=function(t){var e=new xc;return t.apply(new Pp(e)),e};var Op=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cp,this._minDistanceLocation=null,this._minDistance=mu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=o}};Op.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,o=xp.getPolygons(this._geom[e]);if(o.size()>0){var i=Pp.getLocations(this._geom[r]);if(this.computeContainmentDistance(i,o,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Pu(arguments[0],wc)&&Pu(arguments[1],wc)){for(var a=arguments[0],s=arguments[1],u=arguments[2],c=0;c<a.size();c++)for(var l=a.get(c),f=0;f<s.size();f++)if(this.computeContainmentDistance(l,s.get(f),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ip&&arguments[1]instanceof Zc){var p=arguments[0],h=arguments[1],d=arguments[2],g=p.getCoordinate();if(Nu.EXTERIOR!==this._ptLocator.locate(g,h))return this._minDistance=0,d[0]=p,d[1]=new Ip(h,g),null}},Op.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var o=t.get(r),i=0;i<e.size();i++){var a=e.get(i);if(this.computeMinDistance(o,a,n),this._minDistance<=this._terminateDistance)return null}},Op.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Ep.getLines(this._geom[0]),n=Ep.getLines(this._geom[1]),r=Sp.getPoints(this._geom[0]),o=Sp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,o,t),void this.updateMinDistance(t,!1))))},Op.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Op.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Op.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Op.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Wc&&arguments[1]instanceof Jc){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),o=e.getCoordinate(),i=0;i<r.length-1;i++){var a=ic.distancePointLine(o,r[i],r[i+1]);if(a<this._minDistance){this._minDistance=a;var s=new df(r[i],r[i+1]).closestPoint(o);n[0]=new Ip(t,i,s),n[1]=new Ip(e,0,o)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Wc&&arguments[1]instanceof Wc){var u=arguments[0],c=arguments[1],l=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var f=u.getCoordinates(),p=c.getCoordinates(),h=0;h<f.length-1;h++)for(var d=0;d<p.length-1;d++){var g=ic.distanceLineLine(f[h],f[h+1],p[d],p[d+1]);if(g<this._minDistance){this._minDistance=g;var y=new df(f[h],f[h+1]),m=new df(p[d],p[d+1]),v=y.closestPoints(m);l[0]=new Ip(u,h,v[0]),l[1]=new Ip(c,d,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Op.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var o=t.get(r),i=0;i<e.size();i++){var a=e.get(i),s=o.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Ip(o,0,o.getCoordinate()),n[1]=new Ip(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Op.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new yu("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Op.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var o=t.get(r),i=0;i<e.size();i++){var a=e.get(i);if(this.computeMinDistance(o,a,n),this._minDistance<=this._terminateDistance)return null}},Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op},Op.distance=function(t,e){return new Op(t,e).distance()},Op.isWithinDistance=function(t,e,n){return new Op(t,e,n).distance()<=n},Op.nearestPoints=function(t,e){return new Op(t,e).nearestPoints()};var Mp=function(){this._pt=[new xu,new xu],this._distance=mu.NaN,this._isNull=!0};Mp.prototype.getCoordinates=function(){return this._pt},Mp.prototype.getCoordinate=function(t){return this._pt[t]},Mp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Mp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},Mp.prototype.toString=function(){return Ju.toLineString(this._pt[0],this._pt[1])},Mp.prototype.getDistance=function(){return this._distance},Mp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp};var Lp=function(){};Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp},Lp.computeDistance=function(){if(arguments[2]instanceof Mp&&arguments[0]instanceof Wc&&arguments[1]instanceof xu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new df,o=t.getCoordinates(),i=0;i<o.length-1;i++){r.setCoordinates(o[i],o[i+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Mp&&arguments[0]instanceof Zc&&arguments[1]instanceof xu){var s=arguments[0],u=arguments[1],c=arguments[2];Lp.computeDistance(s.getExteriorRing(),u,c);for(var l=0;l<s.getNumInteriorRing();l++)Lp.computeDistance(s.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof Mp&&arguments[0]instanceof uc&&arguments[1]instanceof xu){var f=arguments[0],p=arguments[1],h=arguments[2];if(f instanceof Wc)Lp.computeDistance(f,p,h);else if(f instanceof Zc)Lp.computeDistance(f,p,h);else if(f instanceof Uc)for(var d=f,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Lp.computeDistance(y,p,h)}else h.setMinimum(f.getCoordinate(),p)}else if(arguments[2]instanceof Mp&&arguments[0]instanceof df&&arguments[1]instanceof xu){var m=arguments[0],v=arguments[1],_=arguments[2],b=m.closestPoint(v);_.setMinimum(b,v)}};var Tp=function(){this._g0=null,this._g1=null,this._ptDist=new Mp,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Rp={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Tp.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Tp.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new yu("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Tp.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Tp.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Tp.prototype.computeOrientedDistance=function(t,e,n){var r=new Ap(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var o=new kp(e,this._densifyFrac);t.apply(o),n.setMaximum(o.getMaxPointDistance())}},Tp.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Tp.prototype.interfaces_=function(){return[]},Tp.prototype.getClass=function(){return Tp},Tp.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Tp(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=new Tp(n,r);return i.setDensifyFraction(o),i.distance()}},Rp.MaxPointDistanceFilter.get=function(){return Ap},Rp.MaxDensifiedByFractionDistanceFilter.get=function(){return kp},Object.defineProperties(Tp,Rp);var Ap=function(){this._maxPtDist=new Mp,this._minPtDist=new Mp,this._euclideanDist=new Lp,this._geom=null;var t=arguments[0];this._geom=t};Ap.prototype.filter=function(t){this._minPtDist.initialize(),Lp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ap.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ap.prototype.interfaces_=function(){return[fc]},Ap.prototype.getClass=function(){return Ap};var kp=function(){this._maxPtDist=new Mp,this._minPtDist=new Mp,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};kp.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),o=(r.x-n.x)/this._numSubSegs,i=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*o,u=n.y+a*i,c=new xu(s,u);this._minPtDist.initialize(),Lp.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},kp.prototype.isDone=function(){return!1},kp.prototype.isGeometryChanged=function(){return!1},kp.prototype.getMaxPointDistance=function(){return this._maxPtDist},kp.prototype.interfaces_=function(){return[qc]},kp.prototype.getClass=function(){return kp};var Dp=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Fp={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Dp.prototype.checkMaximumDistance=function(t,e,n){var r=new Tp(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var o=r.getCoordinates();this._errorLocation=o[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Ju.toLineString(o[0],o[1])+")"}},Dp.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Dp.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Dp.VERBOSE&&zu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Dp.prototype.checkNegativeValid=function(){if(!(this._input instanceof Zc||this._input instanceof el||this._input instanceof Uc))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Dp.prototype.getErrorIndicator=function(){return this._errorIndicator},Dp.prototype.checkMinimumDistance=function(t,e,n){var r=new Op(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var o=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Ju.toLineString(o[0],o[1])+" )"}},Dp.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Dp.prototype.getErrorLocation=function(){return this._errorLocation},Dp.prototype.getPolygonLines=function(t){for(var e=new xc,n=new Ep(e),r=xp.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Dp.prototype.getErrorMessage=function(){return this._errMsg},Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp},Fp.VERBOSE.get=function(){return!1},Fp.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Dp,Fp);var jp=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Bp={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};jp.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},jp.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*jp.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Vu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Vu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},jp.prototype.checkDistance=function(){var t=new Dp(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},jp.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},jp.prototype.checkPolygonal=function(){this._result instanceof Zc||this._result instanceof el||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},jp.prototype.getErrorIndicator=function(){return this._errorIndicator},jp.prototype.getErrorLocation=function(){return this._errorLocation},jp.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},jp.prototype.report=function(t){if(!jp.VERBOSE)return null;zu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},jp.prototype.getErrorMessage=function(){return this._errorMsg},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},jp.isValidMsg=function(t,e,n){var r=new jp(t,e,n);return r.isValid()?null:r.getErrorMessage()},jp.isValid=function(t,e,n){return!!new jp(t,e,n).isValid()},Bp.VERBOSE.get=function(){return!1},Bp.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(jp,Bp);var qp=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};qp.prototype.getCoordinates=function(){return this._pts},qp.prototype.size=function(){return this._pts.length},qp.prototype.getCoordinate=function(t){return this._pts[t]},qp.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},qp.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:lf.octant(this.getCoordinate(t),this.getCoordinate(t+1))},qp.prototype.setData=function(t){this._data=t},qp.prototype.getData=function(){return this._data},qp.prototype.toString=function(){return Ju.toLineString(new sl(this._pts))},qp.prototype.interfaces_=function(){return[ff]},qp.prototype.getClass=function(){return qp};var Up=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new xc,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Up.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Up.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Up.prototype.getIntersectionSegments=function(){return this._intSegments},Up.prototype.count=function(){return this._intersectionCount},Up.prototype.getIntersections=function(){return this._intersections},Up.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Up.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Up.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=i,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Up.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Up.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Up.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Up.prototype.interfaces_=function(){return[Hf]},Up.prototype.getClass=function(){return Up},Up.createAllIntersectionsFinder=function(t){var e=new Up(t);return e.setFindAllIntersections(!0),e},Up.createAnyIntersectionFinder=function(t){return new Up(t)},Up.createIntersectionCounter=function(t){var e=new Up(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var zp=function(){this._li=new nc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};zp.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},zp.prototype.getIntersections=function(){return this._segInt.getIntersections()},zp.prototype.isValid=function(){return this.execute(),this._isValid},zp.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zp.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Up(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wf;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},zp.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Sl(this.getErrorMessage(),this._segInt.getInteriorIntersection())},zp.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Ju.toLineString(t[0],t[1])+" and "+Ju.toLineString(t[2],t[3])},zp.prototype.interfaces_=function(){return[]},zp.prototype.getClass=function(){return zp},zp.computeIntersections=function(t){var e=new zp(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Gp=function t(){this._nv=null;var e=arguments[0];this._nv=new zp(t.toSegmentStrings(e))};Gp.prototype.checkValid=function(){this._nv.checkValid()},Gp.prototype.interfaces_=function(){return[]},Gp.prototype.getClass=function(){return Gp},Gp.toSegmentStrings=function(t){for(var e=new xc,n=t.iterator();n.hasNext();){var r=n.next();e.add(new qp(r.getCoordinates(),r))}return e},Gp.checkValid=function(t){new Gp(t).checkValid()};var Vp=function(t){this._mapOp=t};Vp.prototype.map=function(t){for(var e=new xc,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(yl.toGeometryArray(e))},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp},Vp.map=function(t,e){return new Vp(e).map(t)};var Yp=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new xc,this._resultLineList=new xc;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Yp.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Yp.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Yp.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Yp.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),o=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Ih.isResultOfOp(r,e)||o.isCovered()||(n.add(o),t.setVisitedEdge(!0)))},Yp.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var o=this._op.isCoveredByA(n.getCoordinate());r.setCovered(o)}}},Yp.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Yp.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Yp.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:($u.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Ih.isResultOfOp(r,e)&&e===Ih.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp};var Xp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new xc;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Xp.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Xp.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Ih.INTERSECTION)){var r=n.getLabel();Ih.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Xp.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp};var Hp=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Hp.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Hp.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof tl&&!r.isEmpty()||(n=!1);for(var o=new xc,i=0;i<t.getNumInteriorRing();i++){var a=this.transformLinearRing(t.getInteriorRingN(i),t);null===a||a.isEmpty()||(a instanceof tl||(n=!1),o.add(a))}if(n)return this._factory.createPolygon(r,o.toArray([]));var s=new xc;return null!==r&&s.add(r),s.addAll(o),this._factory.buildGeometry(s)},Hp.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Hp.prototype.getInputGeometry=function(){return this._inputGeom},Hp.prototype.transformMultiLineString=function(t,e){for(var n=new xc,r=0;r<t.getNumGeometries();r++){var o=this.transformLineString(t.getGeometryN(r),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Hp.prototype.transformCoordinates=function(t,e){return this.copy(t)},Hp.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Hp.prototype.transformMultiPoint=function(t,e){for(var n=new xc,r=0;r<t.getNumGeometries();r++){var o=this.transformPoint(t.getGeometryN(r),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Hp.prototype.transformMultiPolygon=function(t,e){for(var n=new xc,r=0;r<t.getNumGeometries();r++){var o=this.transformPolygon(t.getGeometryN(r),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Hp.prototype.copy=function(t){return t.copy()},Hp.prototype.transformGeometryCollection=function(t,e){for(var n=new xc,r=0;r<t.getNumGeometries();r++){var o=this.transform(t.getGeometryN(r));null!==o&&(this._pruneEmptyGeometry&&o.isEmpty()||n.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(yl.toGeometryArray(n)):this._factory.buildGeometry(n)},Hp.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Jc)return this.transformPoint(t,null);if(t instanceof $c)return this.transformMultiPoint(t,null);if(t instanceof tl)return this.transformLinearRing(t,null);if(t instanceof Wc)return this.transformLineString(t,null);if(t instanceof zc)return this.transformMultiLineString(t,null);if(t instanceof Zc)return this.transformPolygon(t,null);if(t instanceof el)return this.transformMultiPolygon(t,null);if(t instanceof Uc)return this.transformGeometryCollection(t,null);throw new yu("Unknown Geometry subtype: "+t.getClass().getName())},Hp.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp};var Wp=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new df,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Wc&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],o=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=o}};Wp.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var o=t.get(r),i=this.findSnapForVertex(o,e);null!==i&&(t.set(r,new xu(i)),0===r&&this._isClosed&&t.set(t.size()-1,new xu(i)))}},Wp.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Wp.prototype.snapTo=function(t){var e=new Cc(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Wp.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var o=e[r],i=this.findSegmentIndexToSnap(o,t);i>=0&&t.add(i+1,new xu(o),!1)}},Wp.prototype.findSegmentIndexToSnap=function(t,e){for(var n=mu.MAX_VALUE,r=-1,o=0;o<e.size()-1;o++){if(this._seg.p0=e.get(o),this._seg.p1=e.get(o+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var i=this._seg.distance(t);i<this._snapTolerance&&i<n&&(n=i,r=o)}return r},Wp.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp},Wp.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Kp=function(t){this._srcGeom=t||null},Jp={SNAP_PRECISION_FACTOR:{configurable:!0}};Kp.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Qp(e,n).transform(this._srcGeom)},Kp.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Qp(t,n,!0).transform(this._srcGeom),o=r;return e&&Pu(o,Qc)&&(o=r.buffer(0)),o},Kp.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Kp.prototype.extractTargetCoordinates=function(t){for(var e=new Uo,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Kp.prototype.computeMinimumSegmentLength=function(t){for(var e=mu.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Kp.prototype.interfaces_=function(){return[]},Kp.prototype.getClass=function(){return Kp},Kp.snap=function(t,e,n){var r=new Array(2).fill(null),o=new Kp(t);r[0]=o.snapTo(e,n);var i=new Kp(e);return r[1]=i.snapTo(r[0],n),r},Kp.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Kp.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===pl.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var o=arguments[0],i=arguments[1];return Math.min(Kp.computeOverlaySnapTolerance(o),Kp.computeOverlaySnapTolerance(i))}},Kp.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Kp.SNAP_PRECISION_FACTOR},Kp.snapToSelf=function(t,e,n){return new Kp(t).snapToSelf(e,n)},Jp.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Kp,Jp);var Qp=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Wp(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hp),Zp=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Zp.prototype.getCommon=function(){return mu.longBitsToDouble(this._commonBits)},Zp.prototype.add=function(t){var e=mu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Zp.signExpBits(this._commonBits),this._isFirst=!1,null):Zp.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Zp.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Zp.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Zp.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=mu.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+mu.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Zp.prototype.interfaces_=function(){return[]},Zp.prototype.getClass=function(){return Zp},Zp.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Zp.signExpBits=function(t){return t>>52},Zp.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Zp.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Zp.getBit(t,r)!==Zp.getBit(e,r))return n;n++}return 52};var $p=function(){this._commonCoord=null,this._ccFilter=new eh},th={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};$p.prototype.addCommonBits=function(t){var e=new nh(this._commonCoord);t.apply(e),t.geometryChanged()},$p.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new xu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new nh(e);return t.apply(n),t.geometryChanged(),t},$p.prototype.getCommonCoordinate=function(){return this._commonCoord},$p.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p},th.CommonCoordinateFilter.get=function(){return eh},th.Translater.get=function(){return nh},Object.defineProperties($p,th);var eh=function(){this._commonBitsX=new Zp,this._commonBitsY=new Zp};eh.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},eh.prototype.getCommonCoordinate=function(){return new xu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},eh.prototype.interfaces_=function(){return[fc]},eh.prototype.getClass=function(){return eh};var nh=function(){this.trans=null;var t=arguments[0];this.trans=t};nh.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},nh.prototype.isDone=function(){return!1},nh.prototype.isGeometryChanged=function(){return!0},nh.prototype.interfaces_=function(){return[qc]},nh.prototype.getClass=function(){return nh};var rh=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rh.prototype.selfSnap=function(t){return new Kp(t).snapTo(t,this._snapTolerance)},rh.prototype.removeCommonBits=function(t){this._cbr=new $p,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rh.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rh.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Ih.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rh.prototype.checkValid=function(t){t.isValid()||zu.out.println("Snapped geometry is invalid")},rh.prototype.computeSnapTolerance=function(){this._snapTolerance=Kp.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rh.prototype.snap=function(t){var e=this.removeCommonBits(t);return Kp.snap(e[0],e[1],this._snapTolerance)},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.overlayOp=function(t,e,n){return new rh(t,e).getResultGeometry(n)},rh.union=function(t,e){return rh.overlayOp(t,e,Ih.UNION)},rh.intersection=function(t,e){return rh.overlayOp(t,e,Ih.INTERSECTION)},rh.symDifference=function(t,e){return rh.overlayOp(t,e,Ih.SYMDIFFERENCE)},rh.difference=function(t,e){return rh.overlayOp(t,e,Ih.DIFFERENCE)};var oh=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};oh.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Ih.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Qu))throw t;r=t}if(!n)try{e=rh.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Qu?r:t}return e},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},oh.overlayOp=function(t,e,n){return new oh(t,e).getResultGeometry(n)},oh.union=function(t,e){return oh.overlayOp(t,e,Ih.UNION)},oh.intersection=function(t,e){return oh.overlayOp(t,e,Ih.INTERSECTION)},oh.symDifference=function(t,e){return oh.overlayOp(t,e,Ih.SYMDIFFERENCE)},oh.difference=function(t,e){return oh.overlayOp(t,e,Ih.DIFFERENCE)};var ih=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};ih.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih};var ah=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=o,this._obj=i}},sh={INSERT:{configurable:!0},DELETE:{configurable:!0}};ah.prototype.isDelete=function(){return this._eventType===ah.DELETE},ah.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ah.prototype.getObject=function(){return this._obj},ah.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ah.prototype.getInsertEvent=function(){return this._insertEvent},ah.prototype.isInsert=function(){return this._eventType===ah.INSERT},ah.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ah.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ah.prototype.interfaces_=function(){return[_u]},ah.prototype.getClass=function(){return ah},sh.INSERT.get=function(){return 1},sh.DELETE.get=function(){return 2},Object.defineProperties(ah,sh);var uh=function(){};uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh};var ch=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};ch.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(ch.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},ch.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ch.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},ch.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ch.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},ch.prototype.hasProperIntersection=function(){return this._hasProper},ch.prototype.hasIntersection=function(){return this._hasIntersection},ch.prototype.isDone=function(){return this._isDone},ch.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},ch.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},ch.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},ch.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var lh=function(t){function e(){t.call(this),this.events=new xc,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Zl.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ch&&Pu(arguments[0],wc)&&Pu(arguments[1],wc)){var r=arguments[0],o=arguments[1],i=arguments[2];this.addEdges(r,r),this.addEdges(o,o),this.computeIntersections(i)}else if("boolean"==typeof arguments[2]&&Pu(arguments[0],wc)&&arguments[1]instanceof ch){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),o=0;o<r.length-1;o++){var i=new ih(n,o),a=new ah(e,n.getMinX(o),i);this.events.add(a),this.events.add(new ah(n.getMaxX(o),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var o=n.getObject(),i=t;i<e;i++){var a=this.events.get(i);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(o.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],o=n.iterator();o.hasNext();){var i=o.next();this.addEdge(i,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(uh),fh=function(){this._min=mu.POSITIVE_INFINITY,this._max=mu.NEGATIVE_INFINITY},ph={NodeComparator:{configurable:!0}};fh.prototype.getMin=function(){return this._min},fh.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fh.prototype.getMax=function(){return this._max},fh.prototype.toString=function(){return Ju.toLineString(new xu(this._min,0),new xu(this._max,0))},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},ph.NodeComparator.get=function(){return hh},Object.defineProperties(fh,ph);var hh=function(){};hh.prototype.compare=function(t,e){var n=t,r=e,o=(n._min+n._max)/2,i=(r._min+r._max)/2;return o<i?-1:o>i?1:0},hh.prototype.interfaces_=function(){return[wu]},hh.prototype.getClass=function(){return hh};var dh=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fh),gh=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fh),yh=function(){this._leaves=new xc,this._root=null,this._level=0};yh.prototype.buildTree=function(){Zl.sort(this._leaves,new fh.NodeComparator);for(var t=this._leaves,e=null,n=new xc;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},yh.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new dh(t,e,n))},yh.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},yh.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yh.prototype.printNode=function(t){zu.out.println(Ju.toLineString(new xu(t._min,this._level),new xu(t._max,this._level)))},yh.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yh.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var o=new gh(t.get(n),t.get(n+1));e.add(o)}}},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh};var mh=function(){this._items=new xc};mh.prototype.visitItem=function(t){this._items.add(t)},mh.prototype.getItems=function(){return this._items},mh.prototype.interfaces_=function(){return[Wl]},mh.prototype.getClass=function(){return mh};var vh=function(){this._index=null;var t=arguments[0];if(!Pu(t,Qc))throw new yu("Argument must be Polygonal");this._index=new wh(t)},_h={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vh.prototype.locate=function(t){var e=new oc(t),n=new bh(e);return this._index.query(t.y,t.y,n),e.getLocation()},vh.prototype.interfaces_=function(){return[Bf]},vh.prototype.getClass=function(){return vh},_h.SegmentVisitor.get=function(){return bh},_h.IntervalIndexedGeometry.get=function(){return wh},Object.defineProperties(vh,_h);var bh=function(){this._counter=null;var t=arguments[0];this._counter=t};bh.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},bh.prototype.interfaces_=function(){return[Wl]},bh.prototype.getClass=function(){return bh};var wh=function(){this._index=new yh;var t=arguments[0];this.init(t)};wh.prototype.init=function(t){for(var e=Ep.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},wh.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new df(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),o=Math.max(n.p0.y,n.p1.y);this._index.insert(r,o,n)}},wh.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mh;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._index.query(r,o,i)}},wh.prototype.interfaces_=function(){return[]},wh.prototype.getClass=function(){return wh};var xh=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new fl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cp,2===arguments.length){var e=arguments[0],n=arguments[1],r=pc.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];this._argIndex=o,this._parentGeom=i,this._boundaryNodeRule=a,null!==i&&this.add(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),o=1;Nu.NONE,r.getLocation(t,Cl.ON)===Nu.BOUNDARY&&o++;var i=e.determineBoundary(this._boundaryNodeRule,o);r.setLocation(t,i)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=new ch(n,!0,!1);i.setIsDoneIfProperInt(o);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof tl||this._parentGeom instanceof Zc||this._parentGeom instanceof el,u=r||!s;return a.computeIntersections(this._edges,i,u),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new ch(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Jc){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Nu.INTERIOR)}else if(arguments[0]instanceof xu){var e=arguments[0];this.insertPoint(this._argIndex,e,Nu.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Nu.EXTERIOR,Nu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Nu.INTERIOR,Nu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Nu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Nu.BOUNDARY)},e.prototype.addLineString=function(t){var e=Ic.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new ep(e,new Ll(this._argIndex,Nu.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),$u.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var o=r.next();e[n++]=o.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Nu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Ic.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var o=e,i=n;ic.isCCW(r)&&(o=n,i=e);var a=new ep(r,new Ll(this._argIndex,Nu.BOUNDARY,o,i));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],Nu.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),o=r.getLabel();null===o?r._label=new Ll(t,n):o.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new lh},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),o=n.eiList.iterator();o.hasNext();){var i=o.next();this.addSelfIntersectionNode(t,i.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof el&&(this._useBoundaryDeterminationRule=!1),e instanceof Zc)this.addPolygon(e);else if(e instanceof Wc)this.addLineString(e);else if(e instanceof Jc)this.addPoint(e);else if(e instanceof $c)this.addCollection(e);else if(e instanceof zc)this.addCollection(e);else if(e instanceof el)this.addCollection(e);else{if(!(e instanceof Uc))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Pu(this._parentGeom,Qc)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vh(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Nu.BOUNDARY:Nu.INTERIOR},e}(Gl),Eh=function(){if(this._li=new nc,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new xh(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=pc.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xh(0,e,r),this._arg[1]=new xh(1,n,r)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];o.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xh(0,o,a),this._arg[1]=new xh(1,i,a)}};Eh.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Eh.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var Ch=function(){};Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ch.map=function(){if(arguments[0]instanceof uc&&Pu(arguments[1],Ch.MapOp)){for(var t=arguments[0],e=arguments[1],n=new xc,r=0;r<t.getNumGeometries();r++){var o=e.map(t.getGeometryN(r));null!==o&&n.add(o)}return t.getFactory().buildGeometry(n)}if(Pu(arguments[0],vc)&&Pu(arguments[1],Ch.MapOp)){for(var i=arguments[0],a=arguments[1],s=new xc,u=i.iterator();u.hasNext();){var c=u.next(),l=a.map(c);null!==l&&s.add(l)}return s}},Ch.MapOp=function(){};var Ih=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Cp,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Xf,this._resultPolyList=new xc,this._resultLineList=new xc,this._resultPointList=new xc,this._graph=new Gl(new Vf),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Ll(t.getLabel())).flip();var o=e.getDepth();o.isNull()&&o.add(n),o.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,o){var i=new xc;return i.addAll(t),i.addAll(n),i.addAll(r),i.isEmpty()?e.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(i)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Nu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new xc,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new xc;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Gp.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Vl(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Yp(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var o=new Xp(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),o=r.getLabel();o.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(o.getLocation(0,Cl.RIGHT),o.getLocation(1,Cl.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var o=0;o<2;o++)n.isNull(o)||!n.isArea()||r.isNull(o)||(0===r.getDelta(o)?n.toLine(o):($u.isTrue(!r.isNull(o,Cl.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(o,Cl.LEFT,r.getLocation(o,Cl.LEFT)),$u.isTrue(!r.isNull(o,Cl.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(o,Cl.RIGHT,r.getLocation(o,Cl.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Eh);Ih.overlayOp=function(t,e,n){return new Ih(t,e).getResultGeometry(n)},Ih.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Ih.createEmptyResult(Ih.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Vp.map(t,{interfaces_:function(){return[Ch.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oh.overlayOp(t,e,Ih.INTERSECTION)},Ih.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ih.createEmptyResult(Ih.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oh.overlayOp(t,e,Ih.SYMDIFFERENCE)},Ih.resultDimension=function(t,e,n){var r=e.getDimension(),o=n.getDimension(),i=-1;switch(t){case Ih.INTERSECTION:i=Math.min(r,o);break;case Ih.UNION:i=Math.max(r,o);break;case Ih.DIFFERENCE:i=r;break;case Ih.SYMDIFFERENCE:i=Math.max(r,o)}return i},Ih.createEmptyResult=function(t,e,n,r){var o=null;switch(Ih.resultDimension(t,e,n)){case-1:o=r.createGeometryCollection(new Array(0).fill(null));break;case 0:o=r.createPoint();break;case 1:o=r.createLineString();break;case 2:o=r.createPolygon()}return o},Ih.difference=function(t,e){return t.isEmpty()?Ih.createEmptyResult(Ih.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oh.overlayOp(t,e,Ih.DIFFERENCE))},Ih.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Ih.isResultOfOp(n,r,e)}if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];switch(o===Nu.BOUNDARY&&(o=Nu.INTERIOR),i===Nu.BOUNDARY&&(i=Nu.INTERIOR),a){case Ih.INTERSECTION:return o===Nu.INTERIOR&&i===Nu.INTERIOR;case Ih.UNION:return o===Nu.INTERIOR||i===Nu.INTERIOR;case Ih.DIFFERENCE:return o===Nu.INTERIOR&&i!==Nu.INTERIOR;case Ih.SYMDIFFERENCE:return o===Nu.INTERIOR&&i!==Nu.INTERIOR||o!==Nu.INTERIOR&&i===Nu.INTERIOR}return!1}},Ih.INTERSECTION=1,Ih.UNION=2,Ih.DIFFERENCE=3,Ih.SYMDIFFERENCE=4;var Nh=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cp,this._seg=new df;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Nh.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Nh.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Nu.BOUNDARY:this._ptLocator.locate(t,this._g)},Nh.prototype.extractLinework=function(t){var e=new Sh;t.apply(e);var n=e.getLinework(),r=yl.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh};var Sh=function(){this._linework=null,this._linework=new xc};Sh.prototype.getLinework=function(){return this._linework},Sh.prototype.filter=function(t){if(t instanceof Zc){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Sh.prototype.interfaces_=function(){return[Bc]},Sh.prototype.getClass=function(){return Sh};var Ph=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ph.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),o=0;o<r.length-1;o++)this.computeOffsetPoints(r[o],r[o+1],e,n)},Ph.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Ph.prototype.getPoints=function(t){for(var e=new xc,n=Ep.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Ph.prototype.computeOffsetPoints=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,a=Math.sqrt(o*o+i*i),s=n*o/a,u=n*i/a,c=(e.x+t.x)/2,l=(e.y+t.y)/2;if(this._doLeft){var f=new xu(c-u,l+s);r.add(f)}if(this._doRight){var p=new xu(c+u,l-s);r.add(p)}},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph};var Oh=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new xc;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Nh(this._geom[0],this._boundaryDistanceTolerance),new Nh(this._geom[1],this._boundaryDistanceTolerance),new Nh(this._geom[2],this._boundaryDistanceTolerance)]},Mh={TOLERANCE:{configurable:!0}};Oh.prototype.reportResult=function(t,e,n){zu.out.println("Overlay result invalid - A:"+Nu.toLocationSymbol(e[0])+" B:"+Nu.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Nu.toLocationSymbol(e[2]))},Oh.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Oh.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Oh.hasLocation(this._location,Nu.BOUNDARY)||this.isValidResult(r,this._location)}},Oh.prototype.addTestPts=function(t){var e=new Ph(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Oh.prototype.isValidResult=function(t,e){var n=Ih.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Nu.INTERIOR);return r||this.reportResult(t,e,n),r},Oh.prototype.getInvalidLocation=function(){return this._invalidLocation},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh},Oh.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Oh.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Kp.computeSizeBasedSnapTolerance(t),Kp.computeSizeBasedSnapTolerance(e))},Oh.isValid=function(t,e,n,r){return new Oh(t,e,r).isValid(n)},Mh.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Oh,Mh);var Lh=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Lh.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Lh.prototype.combine=function(){for(var t=new xc,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh},Lh.combine=function(){if(1===arguments.length){var t=arguments[0];return new Lh(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Lh(Lh.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];return new Lh(Lh.createList(r,o,i)).combine()}},Lh.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Lh.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new xc;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=new xc;return a.add(r),a.add(o),a.add(i),a}};var Th=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new xc)},Rh={STRTREE_NODE_CAPACITY:{configurable:!0}};Th.prototype.reduceToGeometries=function(t){for(var e=new xc,n=t.iterator();n.hasNext();){var r=n.next(),o=null;Pu(r,wc)?o=this.unionTree(r):r instanceof uc&&(o=r),e.add(o)}return e},Th.prototype.extractByEnvelope=function(t,e,n){for(var r=new xc,o=0;o<e.getNumGeometries();o++){var i=e.getGeometryN(o);i.getEnvelopeInternal().intersects(t)?r.add(i):n.add(i)}return this._geomFactory.buildGeometry(r)},Th.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Lh.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,o)},Th.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new of(Th.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Th.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var o=Th.getGeometry(e,n);return this.unionSafe(o,null)}if(r-n==2)return this.unionSafe(Th.getGeometry(e,n),Th.getGeometry(e,n+1));var i=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,i),s=this.binaryUnion(e,i,r);return this.unionSafe(a,s)}},Th.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Th.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Th.prototype.unionActual=function(t,e){return Th.restrictToPolygons(t.union(e))},Th.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Th.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new xc,o=this.extractByEnvelope(n,t,r),i=this.extractByEnvelope(n,e,r),a=this.unionActual(o,i);return r.add(a),Lh.combine(r)},Th.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th},Th.restrictToPolygons=function(t){if(Pu(t,Qc))return t;var e=xp.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(yl.toPolygonArray(e))},Th.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Th.union=function(t){return new Th(t).union()},Rh.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Th,Rh);var Ah=function(){};Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah},Ah.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ih.createEmptyResult(Ih.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oh.overlayOp(t,e,Ih.UNION)};var kh=function(){return new Xo};Xo.prototype={constructor:Xo,reset:function(){this.s=this.t=0},add:function(t){Ho(Dh,t,this.t),Ho(this,Dh.s,this.s),this.s?this.t+=Dh.t:this.s=Dh.t},valueOf:function(){return this.s}};var Dh=new Xo,Fh=1e-6,jh=Math.PI,Bh=jh/2,qh=jh/4,Uh=2*jh,zh=180/jh,Gh=jh/180,Vh=Math.abs,Yh=Math.atan,Xh=Math.atan2,Hh=Math.cos,Wh=Math.exp,Kh=Math.log,Jh=Math.sin,Qh=Math.sqrt,Zh=Math.tan,$h={Feature:function(t,e){Jo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)Jo(n[r].geometry,e)}},td={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Qo(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Qo(n[r],e,0)},Polygon:function(t,e){Zo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Zo(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)Jo(n[r],e)}},ed=function(t,e){t&&$h.hasOwnProperty(t.type)?$h[t.type](t,e):Jo(t,e)},nd=(kh(),kh(),kh(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});ai.invert=ai;var rd=function(t){function e(e){return e=t(e[0]*Gh,e[1]*Gh),e[0]*=zh,e[1]*=zh,e}return t=si(t[0]*Gh,t[1]*Gh,t.length>2?t[2]*Gh:0),e.invert=function(e){return e=t.invert(e[0]*Gh,e[1]*Gh),e[0]*=zh,e[1]*=zh,e},e},od=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ko,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},id=function(t,e,n,r,o,i){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,p=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<l&&(l=a)}else if(p>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>l)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*p),l<1&&(e[0]=s+l*f,e[1]=u+l*p),!0}}}}},ad=function(t,e){return Vh(t[0]-e[0])<Fh&&Vh(t[1]-e[1])<Fh},sd=function(t,e,n,r,o){var i,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(ad(r,a)){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);o.lineEnd()}else s.push(n=new pi(r,t,null,!0)),u.push(n.o=new pi(r,null,n,!1)),s.push(n=new pi(a,t,null,!1)),u.push(n.o=new pi(a,null,n,!0))}}),s.length){for(u.sort(e),hi(s),hi(u),i=0,a=u.length;i<a;++i)u[i].e=n=!n;for(var c,l,f=s[0];;){for(var p=f,h=!0;p.v;)if((p=p.n)===f)return;c=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(i=0,a=c.length;i<a;++i)o.point((l=c[i])[0],l[1]);else r(p.x,p.n.x,1,o);p=p.n}else{if(h)for(c=p.p.z,i=c.length-1;i>=0;--i)o.point((l=c[i])[0],l[1]);else r(p.x,p.p.x,-1,o);p=p.p}c=(p=p.o).z,h=!h}while(!p.v);o.lineEnd()}}},ud=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},cd=(function(t){1===t.length&&(t=function(t){return function(e,n){return ud(t(e),n)}}(t))}(ud),function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n}),ld=1e9,fd=-ld,pd=kh(),hd=(kh(),function(t){return t}),dd=(kh(),kh(),1/0),gd=dd,yd=-dd,md=yd,vd={point:function(t,e){t<dd&&(dd=t),t>yd&&(yd=t),e<gd&&(gd=e),e>md&&(md=e)},lineStart:Ko,lineEnd:Ko,polygonStart:Ko,polygonEnd:Ko,result:function(){var t=[[dd,gd],[yd,md]];return yd=md=-(gd=dd=1/0),t}},_d=(kh(),function(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function s(t,e){var n=o(t,e);y.point(n[0],n[1])}function u(){w.point=s,y.lineStart()}function c(){w.point=a,y.lineEnd()}function l(t,e){g.push([t,e]);var n=o(t,e);_.point(n[0],n[1])}function f(){_.lineStart(),g=[]}function p(){l(g[0][0],g[0][1]),_.lineEnd();var t,e,n,r,o=_.clean(),a=v.result(),s=a.length;if(g.pop(),h.push(g),g=null,s)if(1&o){if(n=a[0],(e=n.length-1)>0){for(b||(i.polygonStart(),b=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else s>1&&2&o&&a.push(a.pop().concat(a.shift())),d.push(a.filter(gi))}var h,d,g,y=e(i),m=o.invert(r[0],r[1]),v=od(),_=e(v),b=!1,w={point:a,lineStart:u,lineEnd:c,polygonStart:function(){w.point=l,w.lineStart=f,w.lineEnd=p,d=[],h=[]},polygonEnd:function(){w.point=a,w.lineStart=u,w.lineEnd=c,d=cd(d);var t=function(t,e){var n=e[0],r=e[1],o=[Jh(n),-Hh(n),0],i=0,a=0;pd.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,f=c[l-1],p=f[0],h=f[1]/2+qh,d=Jh(h),g=Hh(h),y=0;y<l;++y,p=v,d=b,g=w,f=m){var m=c[y],v=m[0],_=m[1]/2+qh,b=Jh(_),w=Hh(_),x=v-p,E=x>=0?1:-1,C=E*x,I=C>jh,N=d*b;if(pd.add(Xh(N*E*Jh(C),g*w+N*Hh(C))),i+=I?x+E*Uh:x,I^p>=n^v>=n){var S=ni(ti(f),ti(m));ii(S);var P=ni(o,S);ii(P);var O=(I^x>=0?-1:1)*Wo(P[2]);(r>O||r===O&&(S[0]||S[1]))&&(a+=I^x>=0?1:-1)}}return(i<-Fh||i<Fh&&pd<-Fh)^1&a}(h,m);d.length?(b||(i.polygonStart(),b=!0),sd(d,yi,t,n,i)):t&&(b||(i.polygonStart(),b=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),d=h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return w}}),bd=_d(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var s=i>0?jh:-jh,u=Vh(i-n);Vh(u-jh)<Fh?(t.point(n,r=(r+a)/2>0?Bh:-Bh),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(i,r),e=0):o!==s&&u>=jh&&(Vh(n-o)<Fh&&(n-=o*Fh),Vh(i-s)<Fh&&(i-=s*Fh),r=function(t,e,n,r){var o,i,a=Jh(t-n);return Vh(a)>Fh?Yh((Jh(e)*(i=Hh(r))*Jh(n)-Jh(r)*(o=Hh(e))*Jh(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=i,r=a),o=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*Bh,r.point(-jh,o),r.point(0,o),r.point(jh,o),r.point(jh,0),r.point(jh,-o),r.point(0,-o),r.point(-jh,-o),r.point(-jh,0),r.point(-jh,o);else if(Vh(t[0]-e[0])>Fh){var i=t[0]<e[0]?jh:-jh;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])},[-jh,-Bh]),wd=function(t,e){function n(t,e){return Hh(t)*Hh(e)>i}function r(t,e,n){var r=[1,0,0],o=ni(ti(t),ti(e)),a=ei(o,o),s=o[0],u=a-s*s;if(!u)return!n&&t;var c=i*a/u,l=-i*s/u,f=ni(r,o),p=oi(r,c);ri(p,oi(o,l));var h=f,d=ei(p,h),g=ei(h,h),y=d*d-g*(ei(p,p)-1);if(!(y<0)){var m=Qh(y),v=oi(h,(-d-m)/g);if(ri(v,p),v=$o(v),!n)return v;var _,b=t[0],w=e[0],x=t[1],E=e[1];w<b&&(_=b,b=w,w=_);var C=w-b,I=Vh(C-jh)<Fh;if(!I&&E<x&&(_=x,x=E,E=_),I||C<Fh?I?x+E>0^v[1]<(Vh(v[0]-b)<Fh?x:E):x<=v[1]&&v[1]<=E:C>jh^(b<=v[0]&&v[0]<=w)){var N=oi(h,(-d+m)/g);return ri(N,p),[v,$o(N)]}}}function o(e,n){var r=a?t:jh-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var i=Hh(t),a=i>0,s=Vh(i)>Fh;return _d(n,function(t){var e,i,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,p){var h,d=[f,p],g=n(f,p),y=a?g?0:o(f,p):g?o(f+(f<0?jh:-jh),p):0;if(!e&&(c=u=g)&&t.lineStart(),g!==u&&(!(h=r(e,d))||ad(e,h)||ad(d,h))&&(d[0]+=Fh,d[1]+=Fh,g=n(d[0],d[1])),g!==u)l=0,g?(t.lineStart(),h=r(d,e),t.point(h[0],h[1])):(h=r(e,d),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(s&&e&&a^g){var m;y&i||!(m=r(d,e,!0))||(l=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&ad(e,d)||t.point(d[0],d[1]),e=d,u=g,i=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}},function(n,r,o,i){!function(t,e,n,r,o,i){if(n){var a=Hh(e),s=Jh(e),u=r*n;null==o?(o=e+r*Uh,i=e-u/2):(o=fi(a,o),i=fi(a,i),(r>0?o<i:o>i)&&(o+=r*Uh));for(var c,l=o;r>0?l>i:l<i;l-=u)c=$o([a,-s*Hh(l),-s*Jh(l)]),t.point(c[0],c[1])}}(i,t,e,o,n,r)},a?[0,-t]:[-jh,t-jh])};vi.prototype={constructor:vi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var xd=16,Ed=Hh(30*Gh),Cd=function(t,e){return+e?function(t,e){function n(r,o,i,a,s,u,c,l,f,p,h,d,g,y){var m=c-r,v=l-o,_=m*m+v*v;if(_>4*e&&g--){var b=a+p,w=s+h,x=u+d,E=Qh(b*b+w*w+x*x),C=Wo(x/=E),I=Vh(Vh(x)-1)<Fh||Vh(i-f)<Fh?(i+f)/2:Xh(w,b),N=t(I,C),S=N[0],P=N[1],O=S-r,M=P-o,L=v*O-m*M;(L*L/_>e||Vh((m*O+v*M)/_-.5)>.3||a*p+s*h+u*d<Ed)&&(n(r,o,i,a,s,u,S,P,I,b/=E,w/=E,x,g,y),y.point(S,P),n(S,P,I,b,w,x,c,l,f,p,h,d,g,y))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function o(){m=NaN,x.point=i,e.lineStart()}function i(r,o){var i=ti([r,o]),a=t(r,o);n(m,v,y,_,b,w,m=a[0],v=a[1],y=r,_=i[0],b=i[1],w=i[2],xd,e),e.point(m,v)}function a(){x.point=r,e.lineEnd()}function s(){o(),x.point=u,x.lineEnd=c}function u(t,e){i(l=t,e),f=m,p=v,h=_,d=b,g=w,x.point=i}function c(){n(m,v,y,_,b,w,f,p,l,h,d,g,xd,e),x.lineEnd=a,a()}var l,f,p,h,d,g,y,m,v,_,b,w,x={point:r,lineStart:o,lineEnd:a,polygonStart:function(){e.polygonStart(),x.lineStart=s},polygonEnd:function(){e.polygonEnd(),x.lineStart=o}};return x}}(t,e):function(t){return mi({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Id=mi({point:function(t,e){this.stream.point(t*Gh,e*Gh)}});wi.invert=function(t,e){return[t,2*Yh(Wh(e))-Bh]},xi.invert=function(t,e){return[-e,2*Yh(Wh(t))-Bh]};var Nd=function(){var t=function(t){function e(){var e=jh*s(),a=i(rd(i.rotate()).invert([0,0]));return c(null==l?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===wi?[[Math.max(a[0]-e,l),n],[Math.min(a[0]+e,r),o]]:[[l,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,o)]])}var n,r,o,i=bi(t),a=i.center,s=i.scale,u=i.translate,c=i.clipExtent,l=null;return i.scale=function(t){return arguments.length?(s(t),e()):s()},i.translate=function(t){return arguments.length?(u(t),e()):u()},i.center=function(t){return arguments.length?(a(t),e()):a()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=r=o=null:(l=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),e()):null==l?null:[[l,n],[r,o]]},e()}(xi),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.projection=Na,t.random=hu,t.clusters=du,t.helpers=qi,t.invariant=zi,t.meta=Ui,t.isolines=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",o=n.commonProperties||{},i=n.breaksProperties||[];if(W(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(o))throw new Error("commonProperties must be an Object");if(!Array.isArray(i))throw new Error("breaksProperties must be an Array");var a=rt(t,{zProperty:r,flip:!0});return c(function(t,e,n){var r=z(n),o=r[2]-r[0],i=r[3]-r[1],a=r[0],s=r[1],u=e[0].length-1,c=e.length-1,l=o/u,f=i/c,p=function(t){t[0]=t[0]*l+a,t[1]=t[1]*f+s};return t.forEach(function(t){S(t,p)}),t}(function(t,e,n,r,o){for(var i=[],a=1;a<e.length;a++){var s=+e[a],u=Object.assign({},r,o[a]);u[n]=s;var c=l(Z(t,s),u);i.push(c)}return i}(a,e,r,o,i),a,t))},t.convex=Ot,t.pointsWithinPolygon=Tt,t.concave=function(t,n){if(n=n||{},!C(n))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!E(r))throw new Error("maxEdge is invalid");var o=Rt(function(t){var e=[],n={};return L(t,function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}}),c(e)}(t));if(o.features=o.features.filter(function(t){var e=t.geometry.coordinates[0][0],o=t.geometry.coordinates[0][1],i=t.geometry.coordinates[0][2],a=Ft(e,o,n),s=Ft(o,i,n),u=Ft(e,i,n);return a<=r&&s<=r&&u<=r}),o.features.length<1)return null;var i=$t(o,n);return 1===i.coordinates.length&&(i.coordinates=i.coordinates[0],i.type="Polygon"),e(i)},t.collect=function(t,e,n,r){var o=Xi(6),i=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return o.load(i),t.features.forEach(function(t){t.properties||(t.properties={});var e=z(t),n=[];o.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Mt([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[r]=n}),t},t.flip=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=jt(t)),S(t,function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e}),t},t.simplify=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,o=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==o&&(t=jt(t)),A(t,function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;te(t,!0);var o=t.coordinates;switch(r){case"LineString":t.coordinates=ae(o,e,n);break;case"MultiLineString":t.coordinates=o.map(function(t){return ae(t,e,n)});break;case"Polygon":t.coordinates=se(o,e,n);break;case"MultiPolygon":t.coordinates=o.map(function(t){return se(t,e,n)})}}(t,n,r)}),t},t.bezierSpline=ue,t.tag=function(t,e,n,r){return t=jt(t),e=jt(e),L(t,function(t){t.properties||(t.properties={}),L(e,function(e){void 0===t.properties[r]&&Mt(t,e)&&(t.properties[r]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null===e||void 0===e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return c(function(t,e){for(var n,r,o=t.slice(0),i=t.length,a=i-e;i-- >a;)r=Math.floor((i+1)*Math.random()),n=o[r],o[r]=o[i],o[i]=n;return o.slice(a)}(t.features,e))},t.envelope=le,t.square=fe,t.circle=he,t.midpoint=function(t,e){return pe(t,Ft(t,e)/2,de(t,e))},t.center=ge,t.centerOfMass=me,t.centroid=ye,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},o=Object.keys(r).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return L(t,function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):o[t.geometry.type]&&n(t,o[t.geometry.type],!1))}),c(Object.keys(r).filter(function(t){return r[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})}))},t.distance=Ft,t.explode=ve,t.bbox=z,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=ke(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(ke(t))}),e},t.bboxPolygon=ce,t.booleanPointInPolygon=Mt,t.nearestPoint=De,t.nearestPointOnLine=on,t.nearestPointToLine=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,o=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return A(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Q(e))throw new Error("line must be a LineString");var i=1/0,a=null;return L(t,function(t){var n=dn(t,e,{units:r});n<i&&(i=n,a=t)}),a&&(a.properties=Object.assign({dist:i},a.properties,o)),a},t.planepoint=function(t,e){var n=G(t),r=K(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var o=e.properties||{},i=o.a,a=o.b,s=o.c,u=n[0],c=n[1],l=r[0][0],f=r[0][1],p=void 0!==i?i:r[0][2],h=r[1][0],d=r[1][1],g=void 0!==a?a:r[1][2],y=r[2][0],m=r[2][1],v=void 0!==s?s:r[2][2];return(v*(u-l)*(c-d)+p*(u-h)*(c-m)+g*(u-y)*(c-f)-g*(u-l)*(c-m)-v*(u-h)*(c-f)-p*(u-y)*(c-d))/((u-l)*(c-d)+(u-h)*(c-m)+(u-y)*(c-f)-(u-l)*(c-m)-(u-h)*(c-f)-(u-y)*(c-d))},t.tin=Rt,t.bearing=de,t.destination=pe,t.kinks=function(t){var e,n,o={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var i=n;i<e.length-1;i++){if(t===e){if(1===Math.abs(n-i))continue;if(0===n&&i===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,o,i,a,s){var u,c,l,f,p,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-i)*(n-t)-(a-o)*(r-e))?null!==h.x&&null!==h.y&&h:(c=e-i,l=t-o,f=(a-o)*c-(s-i)*l,p=(n-t)*c-(r-e)*l,c=f/u,l=p/u,h.x=t+c*(n-t),h.y=e+c*(r-e),c>=0&&c<=1&&(h.onLine1=!0),l>=0&&l<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[i][0],e[i][1],e[i+1][0],e[i+1][1]);a&&o.features.push(r([a[0],a[1]]))}})}),o},t.pointOnFeature=yn,t.area=vn,t.along=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var o;if("Feature"===t.type)o=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");o=t.coordinates}if(!E(e))throw new Error("distance must be a number");for(var i=0,a=0;a<o.length&&!(e>=i&&a===o.length-1);a++){if(i>=e){var s=e-i;if(s){var u=de(o[a],o[a-1])-180;return pe(o[a],s,u,n)}return r(o[a])}i+=Ft(o[a],o[a+1],n)}return r(o[o.length-1])},t.length=En,t.lineSlice=function(t,e,n){var r=V(n);if("LineString"!==Q(n))throw new Error("line must be a LineString");for(var o,i=on(n,t),a=on(n,e),u=[(o=i.properties.index<=a.properties.index?[i,a]:[a,i])[0].geometry.coordinates],c=o[0].properties.index+1;c<o[1].properties.index+1;c++)u.push(r[c]);return u.push(o[1].geometry.coordinates),s(u,n.properties)},t.lineSliceAlong=Cn,t.pointGrid=On,t.truncate=Mn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return D(t,function(t){e.push(t)}),c(e)},t.lineIntersect=nn,t.lineChunk=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,o=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var i=[];return D(t,function(t){o&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var o=En(t,{units:n});if(o<=e)return r(t);var i=o/e;Number.isInteger(i)||(i=Math.floor(i)+1);for(var a=0;a<i;a++){r(Cn(t,e*a,e*(a+1),{units:n}))}}(t,e,r,function(t){i.push(t)})}),c(i)},t.unkinkPolygon=function(t){var e=[];return D(t,function(t){"Polygon"===t.geometry.type&&L(Oa(t),function(n){e.push(i(n.geometry.coordinates,t.properties))})}),c(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,o=n.npoints,i=n.offset;return t=G(t),e=G(e),r=r||{},o=o||100,i=i||10,new Fa({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(o,{offset:i}).json()},t.lineSegment=en,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Q(t),r=Q(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var o=Mn(e,{precision:7});switch(r){case"Point":return kn(t,o);case"MultiPoint":return An(t,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return An(t,nn(t,o))}},t.lineArc=jn,t.polygonToLine=qn,t.lineToPolygon=zn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=V(t),o=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach(function(t){ja(t,e,a)}),1===a.length?s(a[0],o):l(a,o);case"Polygon":return i(Wn(r,e),o);case"MultiPolygon":return p(r.map(function(t){return Wn(t,e)}),o);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=$n,t.sector=function(t,e,n,r,o){if(o=o||{},!C(o))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof o)throw new Error("options must be an object");if(er(n)===er(r))return he(t,e,o);var a=V(t),s=[[a]];return S(jn(t,e,n,r,o),function(t){s[0].push(t)}),s[0].push(a),i(s)},t.rhumbBearing=an,t.rhumbDistance=un,t.rhumbDestination=nr,t.polygonTangents=function(t,e){var n,o,i,a=V(t),s=V(e);switch(Q(e)){case"Polygon":n=s[0][0],o=s[0][0],i=or(s[0][0],s[0][s[0].length-1],a);var u=rr(s[0],a,i,void 0,n,o);n=u[0],o=u[1];break;case"MultiPolygon":n=s[0][0][0],o=s[0][0][0],i=or(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach(function(t){var e=rr(t[0],a,i,void 0,n,o);n=e[0],o=e[1]})}return c([r(n),r(o)])},t.rewind=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=jt(t));var o=[];switch(t.type){case"GeometryCollection":return A(t,function(t){ar(t,n)}),t;case"FeatureCollection":return L(t,function(t){L(ar(t,n),function(t){o.push(t)})}),c(o)}return ar(t,n)},t.isobands=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",o=n.commonProperties||{},a=n.breaksProperties||[];if(W(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(o))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=cr(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],o=1;o<e.length;o++){var a=+e[o-1],s=+e[o],u=lr(t,a,s-a),c=function(t){var e=[],n=[];t.forEach(function(t){var r=vn(i([t]));n.push(r),e.push({ring:t,area:r})}),n.sort(function(t,e){return e-t});var r=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}}),r}(u),l=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var o=[];o.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=i([e[r].lrCoordinates]),s=r+1;s<e.length;s++)if(!e[s].grouped){var u=i([e[s].lrCoordinates]);(function(t,e){for(var n=ve(t),r=0;r<n.features.length;r++)if(!Mt(n.features[r],e))return!1;return!0})(u,a)&&(o.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(o)}return n}(c),f={};f.groupedRings=l,f[n]=a+"-"+s,r.push(f)}return r}(s,e,r);return c((u=function(t,e,n){var r=z(n),o=r[2]-r[0],i=r[3]-r[1],a=r[0],s=r[1],u=e[0].length-1,c=e.length-1,l=o/u,f=i/c,p=function(t){t[0]=t[0]*l+a,t[1]=t[1]*f+s};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(p)})})}),t}(u,s,t)).map(function(t,e){if(a[e]&&!C(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},o,a[e]);return n[r]=t[r],p(t.groupedRings,n)}))},t.transformRotate=hr,t.transformScale=dr,t.transformTranslate=function(t,e,n,r){if(r=r||{},!C(r))throw new Error("options is invalid");var o=r.units,i=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(i&&"number"!=typeof i&&isNaN(i))throw new Error("zTranslation is not a number");if(i=void 0!==i?i:0,0===e&&0===i)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=jt(t)),S(t,function(t){var r=V(nr(t,e,n,{units:o}));t[0]=r[0],t[1]=r[1],i&&3===t.length&&(t[2]+=i)}),t},t.lineOffset=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");var o=Q(t),i=t.properties;switch(o){case"LineString":return _r(t,e,r);case"MultiLineString":var a=[];return D(t,function(t){a.push(_r(t,e,r).geometry.coordinates)}),l(a,i);default:throw new Error("geometry "+o+" is not supported")}},t.polygonize=function(t){var e=Fs.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):r.push(t)}),n.forEach(function(t){ks.findEdgeRingContaining(t,r)&&r.push(t)}),c(r.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return D(t,function(t){D(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!xr(e,t);case"Polygon":return!Mt(t,e)}break;case"LineString":switch(e.type){case"Point":return!xr(t,e);case"LineString":return!function(t,e){return nn(t,e).features.length>0}(t,e);case"Polygon":return!Er(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Mt(e,t);case"LineString":return!Er(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Mt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Mt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=Q(t),r=Q(e),o=K(t),i=K(e),a=V(t),s=V(e);switch(n){case"Point":switch(r){case"Point":return Ir(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Ir(t.coordinates[n],e.coordinates)){r=!0;break}return r}(o,i);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,o=0;o<t.coordinates.length;o++)if(Ir(e.coordinates[n],t.coordinates[o])){r=!0;break}if(!r)return!1}return!0}(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return In(i,o,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(In({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!In({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(o,i);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(In(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!In(e.coordinates[r],t))return!1;return!!n}(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Mt(i,o,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!Cr(z(t),z(e)))return!1;for(;r<e.coordinates.length-1;r++){if(Mt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}}return n}(o,i);case"Polygon":return function(t,e){if(!Cr(z(t),z(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Mt(e.coordinates[0][n],t))return!1;return!0}(o,i);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Mt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Q(t),r=Q(e),o=K(t),i=K(e);switch(n){case"MultiPoint":switch(r){case"LineString":return Nr(o,i);case"Polygon":return Pr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return Nr(i,o);case"LineString":return function(t,e){if(nn(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var o=!0;if(0!==r&&r!==e.coordinates.length-2||(o=!1),Or(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],o))return!0}return!1}(o,i);case"Polygon":return Sr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return Pr(i,o);case"LineString":return Sr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=ir,t.booleanOverlap=Rr,t.booleanPointOnLine=In,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Q(t)===Q(e)&&new zs({precision:6}).compare(te(t),te(e))},t.booleanWithin=Nn,t.clone=jt,t.cleanCoords=te,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,o=n.units;if(W(t,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=jt(t),r=r||3;var i=new Hs.DBSCAN,a=-1;return i.run(R(t),w(e,o),r,Ft).forEach(function(e){a++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"})}),i.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;W(t,"Point","Input must contain Points");var o=t.features.length;(n=n||Math.round(Math.sqrt(o/2)))>o&&(n=o),!1!==r&&void 0!==r||(t=jt(t));var i=R(t),a=i.slice(0,n),s=tu(i,n,a),u={};return s.centroids.forEach(function(t,e){u[e]=t}),L(t,function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]}),t},t.pointToLineDistance=dn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==kr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==kr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=en(te(t)).features,r=en(te(e)).features,o=0;o<n.length;o++){var i=n[o].geometry.coordinates;if(!r[o])break;if(!function(t,e){return v(an(t[0],t[1]))===v(an(e[0],e[1]))}(i,r[o].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,o){if(o=o||{},!C(o))throw new Error("options is invalid");var i=o.resolution,a=o.minDistance,u=o.obstacles||c([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(i&&!E(i)||i<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var l=G(t),f=G(n);switch(t=r(l),n=r(f),Q(u)){case"FeatureCollection":if(0===u.features.length)return s([l,f]);break;case"Polygon":u=c([e(K(u))]);break;default:throw new Error("invalid obstacles")}var p=u;p.features.push(t),p.features.push(n);var h=z(dr(ce(z(p)),1.15));i||(i=Ft([h[0],h[1]],[h[2],h[1]],o)/100),p.features.pop(),p.features.pop();for(var d=h[0],g=h[1],y=h[2],m=h[3],v=i/Ft([d,g],[y,g],o)*(y-d),_=i/Ft([d,g],[d,m],o)*(m-g),b=y-d,w=m-g,x=(b-Math.floor(b/v)*v)/2,I=[],N=[],S=[],P=[],O=1/0,M=1/0,L=m-(w-Math.floor(w/_)*_)/2,T=0;L>=g;){for(var R=[],A=[],k=d+x,D=0;k<=y;){var F=r([k,L]),j=function(t,e){for(var n=0;n<e.features.length;n++)if(Mt(t,e.features[n]))return!0;return!1}(F,u);R.push(j?0:1),A.push(k+"|"+L);var B=Ft(F,t);!j&&B<O&&(O=B,S={x:D,y:T});var q=Ft(F,n);!j&&q<M&&(M=q,P={x:D,y:T}),k+=v,D++}N.push(R),I.push(A),L-=_,T++}var U=new Fr(N,{diagonal:!0}),V=U.grid[S.y][S.x],Y=U.grid[P.y][P.x],X=[l];return eu.search(U,V,Y).forEach(function(t){var e=I[t.x][t.y].split("|");X.push([+e[0],+e[1]])}),X.push(f),te(s(X))},t.voronoi=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return W(t,"Point","points"),c(pu().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(fo))},t.ellipse=po,t.centerMean=go,t.centerMedian=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.counter||10;if(!E(n))throw new Error("counter must be a number");var r=e.weight,o=go(t,{weight:e.weight}),i=c([]);return L(t,function(t){i.features.push(ye(t,{weight:t.properties[r]}))}),i.properties={tolerance:e.tolerance,medianCandidates:[]},yo(o.geometry.coordinates,[0,0],i,n)},t.standardDeviationalEllipse=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,o=e.properties||{};if(!E(n))throw new Error("steps must be a number");if(!C(o))throw new Error("properties must be a number");var i=R(t).length,a=go(t,{weight:r}),s=0,u=0,l=0;L(t,function(t){var e=t.properties[r]||1,n=mo(V(t),V(a));s+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,l+=n.x*n.y*e});var f=s-u,p=Math.sqrt(Math.pow(f,2)+4*Math.pow(l,2)),h=2*l,d=Math.atan((f+p)/h),g=180*d/Math.PI,y=0,m=0,v=0;L(t,function(t){var e=t.properties[r]||1,n=mo(V(t),V(a));y+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,m+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,v+=e});var _=Math.sqrt(2*y/v),b=Math.sqrt(2*m/v),w=po(a,_,b,{units:"degrees",angle:g,steps:n,properties:o}),x=Tt(t,c([w])),I={meanCenterCoordinates:V(a),semiMajorAxis:_,semiMinorAxis:b,numberOfFeatures:i,angle:g,percentageWithinEllipse:100*R(x).length/i};return w.properties.standardDeviationalEllipse=I,w},t.difference=function(t,n){var r=K(t),o=K(n),i=t.properties||{};if(r=Yo(r),o=Yo(o),!r)return null;if(!o)return e(r,i);var a=new xl,s=a.read(r),u=a.read(o),c=Ih.difference(s,u);return c.isEmpty()?null:e((new El).write(c),i)},t.buffer=function(t,e,n){var r=(n=n||{}).units,o=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");o=o||64,r=r||"kilometers";var i=[];switch(t.type){case"GeometryCollection":return A(t,function(t){var n=Ei(t,e,r,o);n&&i.push(n)}),c(i);case"FeatureCollection":return L(t,function(t){var n=Ei(t,e,r,o);n&&L(n,function(t){t&&i.push(t)})}),c(i)}return Ei(t,e,r,o)},t.union=Pi,t.intersect=Oi,t.dissolve=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.propertyName;W(t,"Polygon","dissolve");var r=jt(t),o=r.features,i=[];o.forEach(function(t,e){t.properties.origIndexPosition=e});var a=Ze();a.load(r);for(var u in o){var c=o[u],l=!1;if(a.search(c).features.forEach(function(t){c=o[u];var e=t.properties.origIndexPosition;if(i.length>0&&0!==e)if(e>i[i.length-1])e-=i.length;else{var r=Mi(e,i);0!==r&&(e-=r)}if(e!==+u){var f=o[e];f&&c&&(void 0!==n&&f.properties[n]!==c.properties[n]||Rr(c,f)&&function(t,e){return nn(s(R(t)),s(R(e))).features.length>0}(c,f)&&(o[u]=Pi(c,f),i.push(t.properties.origIndexPosition),i.sort(function(t,e){return t-e}),a.remove(t),o.splice(e,1),c.properties.origIndexPosition=u,a.remove(c,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),l=!0))}}),l){if(!c)continue;c.properties.origIndexPosition=u,a.insert(c),u--}}return o.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),r},t.hexGrid=Li,t.mask=function(t,e){var n=function(t){return i(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return D(t,function(t){var r=t.geometry.coordinates,o=r[0],a=r.slice(1);e.push(i([o])),a.forEach(function(t){n.push(i([t]))})}),[c(e),c(n)]}(t),o=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),D(e,function(t){r.push(t.geometry.coordinates[0])}),D(n,function(t){r.push(t.geometry.coordinates[0])}),i(r)}(n,o=Ti(o),a=Ti(a))},t.squareGrid=Ai,t.triangleGrid=ki,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,o=n.property,i=n.weight;if(!t)throw new Error("points is required");if(W(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==i&&"number"!=typeof i)throw new Error("weight must be a number");o=o||"elevation",r=r||"square",i=i||1;var a,s=z(t);switch(r){case"point":case"points":a=On(s,e,n);break;case"square":case"squares":a=Ai(s,e,n);break;case"hex":case"hexes":a=Li(s,e,n);break;case"triangle":case"triangles":a=ki(s,e,n);break;default:throw new Error("invalid gridType")}var u=[];return L(a,function(e){var a=0,s=0;L(t,function(t){var u,c=Ft("point"===r?e:ye(e),t,n);if(void 0!==o&&(u=t.properties[o]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===c&&(a=u);var l=1/Math.pow(c,i);s+=l,a+=l*u});var c=jt(e);c.properties[o]=a/s,u.push(c)}),c(u)},t.pointOnSurface=yn,t.polygonToLineString=qn,t.lineStringToPolygon=zn,t.inside=Mt,t.within=Tt,t.bezier=ue,t.nearest=De,t.pointOnLine=on,t.lineDistance=En,t.radians2degrees=_,t.degrees2radians=b,t.distanceToDegrees=m,t.distanceToRadians=y,t.radiansToDistance=g,t.bearingToAngle=v,t.convertDistance=w,t.toMercator=cn,t.toWgs84=ln,t.randomPosition=vo,t.randomPoint=_o,t.randomPolygon=bo,t.randomLineString=wo,t.getCluster=Eo,t.clusterEach=Co,t.clusterReduce=Io,t.createBins=No,t.applyFilter=So,t.propertiesContainsFilter=Po,t.filterProperties=Oo,t.earthRadius=Di,t.factors=Fi,t.unitsFactors=ji,t.areaFactors=Bi,t.feature=e,t.geometry=n,t.point=r,t.points=o,t.polygon=i,t.polygons=a,t.lineString=s,t.lineStrings=u,t.featureCollection=c,t.multiLineString=l,t.multiPoint=f,t.multiPolygon=p,t.geometryCollection=h,t.round=d,t.radiansToLength=g,t.lengthToRadians=y,t.lengthToDegrees=m,t.bearingToAzimuth=v,t.radiansToDegrees=_,t.degreesToRadians=b,t.convertLength=w,t.convertArea=x,t.isNumber=E,t.isObject=C,t.validateBBox=I,t.validateId=N,t.getCoord=G,t.getCoords=V,t.containsNumber=Y,t.geojsonType=X,t.featureOf=H,t.collectionOf=W,t.getGeom=K,t.getGeomType=J,t.getType=Q,t.coordEach=S,t.coordReduce=P,t.propEach=O,t.propReduce=M,t.featureEach=L,t.featureReduce=T,t.coordAll=R,t.geomEach=A,t.geomReduce=k,t.flattenEach=D,t.flattenReduce=F,t.segmentEach=j,t.segmentReduce=B,t.lineEach=q,t.lineReduce=U,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){s=o(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(28),a=r(i),s=n(29),u=r(s),c=n(10);e.createLocation=function(t,e,n,r){var i=void 0;"string"===typeof t?(i=(0,c.parsePath)(t),i.state=e):(i=o({},t),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,u.default)(t.state,e.state)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function(){var t=null,e=function(e){return(0,o.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,i){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof r?r(a,i):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}};e.default=i},function(t,e,n){"use strict";var r=n(23);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n.n(a),u=n(5),c=n.n(u),l=n(0),f=n.n(l),p=n(3),h=n.n(p),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(u))),i.state={match:i.computeMatch(i.props.history.location.pathname)},a=n,o(i,a)}return i(e,t),e.prototype.getChildContext=function(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;c()(null==n||1===f.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){s()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?f.a.Children.only(t):null},e}(f.a.Component);g.propTypes={history:h.a.object.isRequired,children:h.a.node},g.contextTypes={router:h.a.object},g.childContextTypes={router:h.a.object.isRequired},e.a=g},function(t,e,n){"use strict";var r=n(75),o=n.n(r),i={},a=0,s=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=i[n]||(i[n]={});if(r[t])return r[t];var s=[],u=o()(t,s,e),c={re:u,keys:s};return a<1e4&&(r[t]=c,a++),c},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof e&&(e={path:e});var n=e,r=n.path,o=void 0===r?"/":r,i=n.exact,a=void 0!==i&&i,u=n.strict,c=void 0!==u&&u,l=n.sensitive,f=void 0!==l&&l,p=s(o,{end:a,strict:c,sensitive:f}),h=p.re,d=p.keys,g=h.exec(t);if(!g)return null;var y=g[0],m=g.slice(1),v=t===y;return a&&!v?null:{path:o,url:"/"===o&&""===y?"/":y,isExact:v,params:d.reduce(function(t,e,n){return t[e.name]=m[n],t},{})}};e.a=u},function(t,e,n){"use strict";var r=n(1),o=n.n(r),i=function(){var t=null,e=function(e){return o()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,i){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof r?r(a,i):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}};e.a=i},function(t,e,n){"use strict";function r(){}function o(t){try{return t.then}catch(t){return m=t,v}}function i(t,e){try{return t(e)}catch(t){return m=t,v}}function a(t,e,n){try{t(e,n)}catch(t){return m=t,v}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&g(t,this)}function u(t,e,n){return new t.constructor(function(o,i){var a=new s(r);a.then(o,i),c(t,new d(e,n,a))})}function c(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);l(t,e)}function l(t,e){y(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?f(e.promise,t._18):p(e.promise,t._18));var r=i(n,t._18);r===v?p(e.promise,m):f(e.promise,r)})}function f(t,e){if(e===t)return p(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=o(e);if(n===v)return p(t,m);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void h(t);if("function"===typeof n)return void g(n.bind(e),t)}t._83=1,t._18=e,h(t)}function p(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),h(t)}function h(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function d(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function g(t,e){var n=!1,r=a(t,function(t){n||(n=!0,f(e,t))},function(t){n||(n=!0,p(e,t))});n||r!==v||(n=!0,p(e,m))}var y=n(47),m=null,v={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return c(this,new d(t,e,n)),n}},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),u=a||s;if(t&&r(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var c=void 0;if(i.length){var l=i[i.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,p=i.length;p>=0;p--){var h=i[p];"."===h?o(i,p):".."===h?(o(i,p),f++):f&&(o(i,p),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var d=i.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});var n="undefined"===typeof t?"undefined":o(t);if(n!==("undefined"===typeof e?"undefined":o(e)))return!1;if("object"===n){var i=t.valueOf(),a=e.valueOf();if(i!==t||a!==e)return r(i,a);var s=Object.keys(t),u=Object.keys(e);return s.length===u.length&&s.every(function(n){return r(t[n],e[n])})}return!1}Object.defineProperty(e,"__esModule",{value:!0});var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r},function(t,e,n){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(3),l=n.n(c),f=n(5),p=n.n(f),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},g=function(t){function e(){var n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,t.call.apply(t,[this].concat(u))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!d(t)){t.preventDefault();var e=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?e.replace(i):e.push(i)}},a=n,i(r,a)}return a(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,o=r(t,["replace","to","innerRef"]);p()(this.context.router,"You should not use <Link> outside a <Router>");var i=this.context.router.history.createHref("string"===typeof e?{pathname:e}:e);return u.a.createElement("a",h({},o,{onClick:this.handleClick,href:i,ref:n}))},e}(u.a.Component);g.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},g.defaultProps={replace:!1},g.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},e.a=g},function(t,e,n){"use strict";var r=n(33);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n.n(a),u=n(5),c=n.n(u),l=n(0),f=n.n(l),p=n(3),h=n.n(p),d=n(24),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(t){return 0===f.a.Children.count(t)},m=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(u))),i.state={match:i.computeMatch(i.props,i.context.router)},a=n,o(i,a)}return i(e,t),e.prototype.getChildContext=function(){return{router:g({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,o=t.path,i=t.strict,a=t.exact,s=t.sensitive;if(n)return n;c()(e,"You should not use <Route> or withRouter() outside a <Router>");var u=e.route,l=(r||u.location).pathname;return o?Object(d.a)(l,{path:o,strict:i,exact:a,sensitive:s}):u.match},e.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!y(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!y(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){s()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,o=e.render,i=this.context.router,a=i.history,s=i.route,u=i.staticContext,c=this.props.location||s.location,l={match:t,location:c,history:a,staticContext:u};return r?t?f.a.createElement(r,l):null:o?t?o(l):null:n?"function"===typeof n?n(l):y(n)?null:f.a.Children.only(n):null},e}(f.a.Component);m.propTypes={computedMatch:h.a.object,path:h.a.string,exact:h.a.bool,strict:h.a.bool,sensitive:h.a.bool,component:h.a.func,render:h.a.func,children:h.a.oneOfType([h.a.func,h.a.node]),location:h.a.object},m.contextTypes={router:h.a.shape({history:h.a.object.isRequired,route:h.a.object.isRequired,staticContext:h.a.object})},m.childContextTypes={router:h.a.object.isRequired},e.a=m},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"d",function(){return l});var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},i=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},a=function(t,e){return e(window.confirm(t))},s=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},u=function(){return-1===window.navigator.userAgent.indexOf("Trident")},c=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},l=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var a=n(0),s=n.n(a),u=n(2),c=n(99),l=(n.n(c),n(100)),f=n.n(l),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),p(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"logo-banner text-center"},s.a.createElement("img",{src:f.a,alt:u.a.site.tag_line,style:{width:"100%"}}))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return c});var a=n(0),s=n.n(a),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"render",value:function(){var t=void 0;return this.props.paragraphs&&(t=this.props.paragraphs.map(function(t,e){return s.a.createElement("p",{key:"p_"+e},t)})),s.a.createElement("div",{className:"sub-banner"},s.a.createElement("h4",null,s.a.createElement("strong",null,this.props.title)),s.a.createElement("div",null,t))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){for(var n=Date.parse(t+"/15/"+e),r=o.a.age_ranges,i=0;i<r.length;i++)if(n>=r[i].birth_start&&n<=r[i].birth_end)return r[i];return{error:!0}}e.a=r;var o=n(4)},function(t,e,n){"use strict";function r(t,e){var n=i.a.months_list[t-1];return n=n?n.toLowerCase():"",o.a.date_of_birth_message(n,e)}e.a=r;var o=n(2),i=n(4)},function(t,e,n){"use strict";e.a={schools_all_endpoint:"https://s3.amazonaws.com/js82osh7vu05rk5yf5/escolas_join_geojson.gz",schools_wait_all_endpoint:"https://s3.amazonaws.com/js82osh7vu05rk5yf5/demanda_join_json.gz"}},function(t,e,n){"use strict";function r(t){return 10*Math.round(100*t)}e.a=r},function(t,e,n){"use strict";function r(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}e.a=r},function(t,e){t.exports={prefix:"fas",iconName:"phone",icon:[512,512,[],"f095","M493.397 24.615l-104-23.997c-11.314-2.611-22.879 3.252-27.456 13.931l-48 111.997a24 24 0 0 0 6.862 28.029l60.617 49.596c-35.973 76.675-98.938 140.508-177.249 177.248l-49.596-60.616a24 24 0 0 0-28.029-6.862l-111.997 48C3.873 366.516-1.994 378.08.618 389.397l23.997 104C27.109 504.204 36.748 512 48 512c256.087 0 464-207.532 464-464 0-11.176-7.714-20.873-18.603-23.385z"]}},function(t,e){t.exports={prefix:"fas",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]}},function(t,e,n){n(45),t.exports=n(50)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(46).enable(),window.Promise=n(48)),n(49),Object.assign=n(19)},function(t,e,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function o(t){function e(e){(t.allRejections||a(f[e].error,t.whitelist||u))&&(f[e].displayId=l++,t.onUnhandled?(f[e].logged=!0,t.onUnhandled(f[e].displayId,f[e].error)):(f[e].logged=!0,i(f[e].displayId,f[e].error)))}function n(e){f[e].logged&&(t.onHandled?t.onHandled(f[e].displayId,f[e].error):f[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[e].displayId+".")))}t=t||{},c&&r(),c=!0;var o=0,l=0,f={};s._47=function(t){2===t._83&&f[t._56]&&(f[t._56].logged?n(t._56):clearTimeout(f[t._56].timeout),delete f[t._56])},s._71=function(t,n){0===t._75&&(t._56=o++,f[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,u)?100:2e3),logged:!1})}}function i(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(26),u=[ReferenceError,TypeError,RangeError],c=!1;e.disable=r,e.enable=o},function(t,e,n){"use strict";(function(e){function n(t){a.length||(i(),s=!0),a[a.length]=t}function r(){for(;u<a.length;){var t=u;if(u+=1,a[t].call(),u>c){for(var e=0,n=a.length-u;e<n;e++)a[e]=a[e+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function o(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var i,a=[],s=!1,u=0,c=1024,l="undefined"!==typeof e?e:self,f=l.MutationObserver||l.WebKitMutationObserver;i="function"===typeof f?function(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):o(r),n.requestFlush=i,n.makeRequestCallFromTimer=o}).call(e,n(18))},function(t,e,n){"use strict";function r(t){var e=new o(o._44);return e._83=1,e._18=t,e}var o=n(26);t.exports=o;var i=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return i;if(!1===t)return a;if(0===t)return c;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new o(e.bind(t))}catch(t){return new o(function(e,n){n(t)})}return r(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"===typeof u){return void new o(u.bind(s)).then(function(t){r(a,t)},n)}}e[a]=s,0===--i&&t(e)}if(0===e.length)return t([]);for(var i=e.length,a=0;a<e.length;a++)r(a,e[a])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&_(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function g(t){var e=new o;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&v.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,r){t=e(t),r=n(r);var o=this.map[t];this.map[t]=o?o+","+r:r},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,r){this.map[e(t)]=n(r)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];y.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=h,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var o=new h(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;n(new y(e,t))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n.n(r),i=n(52),a=n.n(i),s=n(62),u=(n.n(s),n(63)),c=n(128);a.a.render(o.a.createElement(u.a,null),document.getElementById("root")),Object(c.a)()},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function o(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||P}function i(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||P}function a(){}function s(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||P}function u(t,e,n){var r,o={},i=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(i=""+e.key),e)T.call(e,r)&&!R.hasOwnProperty(r)&&(o[r]=e[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:x,type:t,key:i,ref:a,props:o,_owner:L.current}}function c(t){return"object"===typeof t&&null!==t&&t.$$typeof===x}function l(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function f(t,e,n,r){if(k.length){var o=k.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=r,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function p(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>k.length&&k.push(t)}function h(t,e,n,o){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var a=!1;if(null===t)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case x:case E:case C:case I:a=!0}}if(a)return n(o,t,""===e?"."+d(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){i=t[s];var u=e+d(i,s);a+=h(i,u,n,o)}else if(null===t||"undefined"===typeof t?u=null:(u=S&&t[S]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),s=0;!(i=t.next()).done;)i=i.value,u=e+d(i,s++),a+=h(i,u,n,o);else"object"===i&&(n=""+t,r("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function d(t,e){return"object"===typeof t&&null!==t&&null!=t.key?l(t.key):e.toString(36)}function g(t,e){t.func.call(t.context,e,t.count++)}function y(t,e,n){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?m(t,r,n,b.thatReturnsArgument):null!=t&&(c(t)&&(e=o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n,t={$$typeof:x,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),r.push(t))}function m(t,e,n,r,o){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),e=f(e,i,r,o),null==t||h(t,"",y,e),p(e)}var v=n(19),_=n(27),b=n(14),w="function"===typeof Symbol&&Symbol.for,x=w?Symbol.for("react.element"):60103,E=w?Symbol.for("react.call"):60104,C=w?Symbol.for("react.return"):60105,I=w?Symbol.for("react.portal"):60106,N=w?Symbol.for("react.fragment"):60107,S="function"===typeof Symbol&&Symbol.iterator,P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};o.prototype.isReactComponent={},o.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&r("85"),this.updater.enqueueSetState(this,t,e,"setState")},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=o.prototype;var O=i.prototype=new a;O.constructor=i,v(O,o.prototype),O.isPureReactComponent=!0;var M=s.prototype=new a;M.constructor=s,v(M,o.prototype),M.unstable_isAsyncReactComponent=!0,M.render=function(){return this.props.children};var L={current:null},T=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0},A=/\/+/g,k=[],D={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return m(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=f(null,null,e,n),null==t||h(t,"",g,e),p(e)},count:function(t){return null==t?0:h(t,"",b.thatReturnsNull,null)},toArray:function(t){var e=[];return m(t,e,null,b.thatReturnsArgument),e},only:function(t){return c(t)||r("143"),t}},Component:o,PureComponent:i,unstable_AsyncComponent:s,Fragment:N,createElement:u,cloneElement:function(t,e,n){var r=v({},t.props),o=t.key,i=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(i=e.ref,a=L.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)T.call(e,u)&&!R.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==s?s[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:x,type:t.type,key:o,ref:i,props:r,_owner:a}},createFactory:function(t){var e=u.bind(null,t);return e.type=t,e},isValidElement:c,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:L,assign:v}},F=Object.freeze({default:D}),j=F&&D||F;t.exports=j.default?j.default:j},function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(53)},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function o(t,e){return(t&e)===e}function i(t,e){if(On.hasOwnProperty(t)||2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))return!1;if(null===e)return!0;switch(typeof e){case"boolean":return On.hasOwnProperty(t)?t=!0:(e=a(t))?t=e.hasBooleanValue||e.hasStringBooleanValue||e.hasOverloadedBooleanValue:(t=t.toLowerCase().slice(0,5),t="data-"===t||"aria-"===t),t;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(t){return Ln.hasOwnProperty(t)?Ln[t]:null}function s(t){return t[1].toUpperCase()}function u(t,e,n,r,o,i,a,s,u){Vn._hasCaughtError=!1,Vn._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){Vn._caughtError=t,Vn._hasCaughtError=!0}}function c(){if(Vn._hasRethrowError){var t=Vn._rethrowError;throw Vn._rethrowError=null,Vn._hasRethrowError=!1,t}}function l(){if(Yn)for(var t in Xn){var e=Xn[t],n=Yn.indexOf(t);if(-1<n||r("96",t),!Hn[n]){e.extractEvents||r("97",t),Hn[n]=e,n=e.eventTypes;for(var o in n){var i=void 0,a=n[o],s=e,u=o;Wn.hasOwnProperty(u)&&r("99",u),Wn[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&f(c[i],s,u);i=!0}else a.registrationName?(f(a.registrationName,s,u),i=!0):i=!1;i||r("98",o,t)}}}}function f(t,e,n){Kn[t]&&r("100",t),Kn[t]=e,Jn[t]=e.eventTypes[n].dependencies}function p(t){Yn&&r("101"),Yn=Array.prototype.slice.call(t),l()}function h(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var o=t[e];Xn.hasOwnProperty(e)&&Xn[e]===o||(Xn[e]&&r("102",e),Xn[e]=o,n=!0)}n&&l()}function d(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=tr(r),Vn.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function g(t,e){return null==e&&r("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function y(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function m(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!t.isPropagationStopped();o++)d(t,e,n[o],r[o]);else n&&d(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function v(t){return m(t,!0)}function _(t){return m(t,!1)}function b(t,e){var n=t.stateNode;if(!n)return null;var o=Zn(n);if(!o)return null;n=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(t=t.type,o=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!o;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&r("231",e,typeof n),n)}function w(t,e,n,r){for(var o,i=0;i<Hn.length;i++){var a=Hn[i];a&&(a=a.extractEvents(t,e,n,r))&&(o=g(o,a))}return o}function x(t){t&&(er=g(er,t))}function E(t){var e=er;er=null,e&&(t?y(e,v):y(e,_),er&&r("95"),Vn.rethrowCaughtError())}function C(t){if(t[ir])return t[ir];for(var e=[];!t[ir];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}var n=void 0,r=t[ir];if(5===r.tag||6===r.tag)return r;for(;t&&(r=t[ir]);t=e.pop())n=r;return n}function I(t){if(5===t.tag||6===t.tag)return t.stateNode;r("33")}function N(t){return t[ar]||null}function S(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function P(t,e,n){for(var r=[];t;)r.push(t),t=S(t);for(t=r.length;0<t--;)e(r[t],"captured",n);for(t=0;t<r.length;t++)e(r[t],"bubbled",n)}function O(t,e,n){(e=b(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=g(n._dispatchListeners,e),n._dispatchInstances=g(n._dispatchInstances,t))}function M(t){t&&t.dispatchConfig.phasedRegistrationNames&&P(t._targetInst,O,t)}function L(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?S(e):null,P(e,O,t)}}function T(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=b(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=g(n._dispatchListeners,e),n._dispatchInstances=g(n._dispatchInstances,t))}function R(t){t&&t.dispatchConfig.registrationName&&T(t._targetInst,null,t)}function A(t){y(t,M)}function k(t,e,n,r){if(n&&r)t:{for(var o=n,i=r,a=0,s=o;s;s=S(s))a++;s=0;for(var u=i;u;u=S(u))s++;for(;0<a-s;)o=S(o),a--;for(;0<s-a;)i=S(i),s--;for(;a--;){if(o===i||o===i.alternate)break t;o=S(o),i=S(i)}o=null}else o=null;for(i=o,o=[];n&&n!==i&&(null===(a=n.alternate)||a!==i);)o.push(n),n=S(n);for(n=[];r&&r!==i&&(null===(a=r.alternate)||a!==i);)n.push(r),r=S(r);for(r=0;r<o.length;r++)T(o[r],"bubbled",t);for(t=n.length;0<t--;)T(n[t],"captured",e)}function D(){return!cr&&bn.canUseDOM&&(cr="textContent"in document.documentElement?"textContent":"innerText"),cr}function F(){if(lr._fallbackText)return lr._fallbackText;var t,e,n=lr._startText,r=n.length,o=j(),i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);return lr._fallbackText=o.slice(t,1<e?1-e:void 0),lr._fallbackText}function j(){return"value"in lr._root?lr._root.value:lr._root[D()]}function B(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var o in t)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?xn.thatReturnsTrue:xn.thatReturnsFalse,this.isPropagationStopped=xn.thatReturnsFalse,this}function q(t,e,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,r),o}return new this(t,e,n,r)}function U(t){t instanceof this||r("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function z(t){t.eventPool=[],t.getPooled=q,t.release=U}function G(t,e,n,r){return B.call(this,t,e,n,r)}function V(t,e,n,r){return B.call(this,t,e,n,r)}function Y(t,e){switch(t){case"topKeyUp":return-1!==hr.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function X(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function H(t,e){switch(t){case"topCompositionEnd":return X(e);case"topKeyPress":return 32!==e.which?null:(Er=!0,wr);case"topTextInput":return t=e.data,t===wr&&Er?null:t;default:return null}}function W(t,e){if(Cr)return"topCompositionEnd"===t||!dr&&Y(t,e)?(t=F(),lr._root=null,lr._startText=null,lr._fallbackText=null,Cr=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return br?null:e.data;default:return null}}function K(t){if(t=$n(t)){Nr&&"function"===typeof Nr.restoreControlledState||r("194");var e=Zn(t.stateNode);Nr.restoreControlledState(t.stateNode,t.type,e)}}function J(t){Sr?Pr?Pr.push(t):Pr=[t]:Sr=t}function Q(){if(Sr){var t=Sr,e=Pr;if(Pr=Sr=null,K(t),e)for(t=0;t<e.length;t++)K(e[t])}}function Z(t,e){return t(e)}function $(t,e){if(Lr)return Z(t,e);Lr=!0;try{return Z(t,e)}finally{Lr=!1,Q()}}function tt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Tr[t.type]:"textarea"===e}function et(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function nt(t,e){if(!bn.canUseDOM||e&&!("addEventListener"in document))return!1;e="on"+t;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n="function"===typeof n[e]),!n&&vr&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function rt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function ot(t){var e=rt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(t){r=""+t,n.set.call(this,t)}}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function it(t){t._valueTracker||(t._valueTracker=ot(t))}function at(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function st(t,e,n){return t=B.getPooled(Rr.change,t,e,n),t.type="change",J(n),A(t),t}function ut(t){x(t),E(!1)}function ct(t){if(at(I(t)))return t}function lt(t,e){if("topChange"===t)return e}function ft(){Ar&&(Ar.detachEvent("onpropertychange",pt),kr=Ar=null)}function pt(t){"value"===t.propertyName&&ct(kr)&&(t=st(kr,t,et(t)),$(ut,t))}function ht(t,e,n){"topFocus"===t?(ft(),Ar=e,kr=n,Ar.attachEvent("onpropertychange",pt)):"topBlur"===t&&ft()}function dt(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return ct(kr)}function gt(t,e){if("topClick"===t)return ct(e)}function yt(t,e){if("topInput"===t||"topChange"===t)return ct(e)}function mt(t,e,n,r){return B.call(this,t,e,n,r)}function vt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=jr[t])&&!!e[t]}function _t(){return vt}function bt(t,e,n,r){return B.call(this,t,e,n,r)}function wt(t){return t=t.type,"string"===typeof t?t:"function"===typeof t?t.displayName||t.name:null}function xt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function Et(t){return!!(t=t._reactInternalFiber)&&2===xt(t)}function Ct(t){2!==xt(t)&&r("188")}function It(t){var e=t.alternate;if(!e)return e=xt(t),3===e&&r("188"),1===e?null:t;for(var n=t,o=e;;){var i=n.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var s=i.child;s;){if(s===n)return Ct(i),t;if(s===o)return Ct(i),e;s=s.sibling}r("188")}if(n.return!==o.return)n=i,o=a;else{s=!1;for(var u=i.child;u;){if(u===n){s=!0,n=i,o=a;break}if(u===o){s=!0,o=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,o=i;break}if(u===o){s=!0,o=a,n=i;break}u=u.sibling}s||r("189")}}n.alternate!==o&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?t:e}function Nt(t){if(!(t=It(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function St(t){if(!(t=It(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Pt(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=C(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],Vr(t.topLevelType,e,t.nativeEvent,et(t.nativeEvent))}function Ot(t){Gr=!!t}function Mt(t,e,n){return n?En.listen(n,e,Tt.bind(null,t)):null}function Lt(t,e,n){return n?En.capture(n,e,Tt.bind(null,t)):null}function Tt(t,e){if(Gr){var n=et(e);if(n=C(n),null===n||"number"!==typeof n.tag||2===xt(n)||(n=null),zr.length){var r=zr.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{$(Pt,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>zr.length&&zr.push(t)}}}function Rt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function At(t){if(Hr[t])return Hr[t];if(!Xr[t])return t;var e,n=Xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wr)return Hr[t]=n[e];return""}function kt(t){return Object.prototype.hasOwnProperty.call(t,Zr)||(t[Zr]=Qr++,Jr[t[Zr]]={}),Jr[t[Zr]]}function Dt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ft(t,e){var n=Dt(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Dt(n)}}function jt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}function Bt(t,e){if(oo||null==eo||eo!==Cn())return null;var n=eo;return"selectionStart"in n&&jt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ro&&In(ro,n)?null:(ro=n,t=B.getPooled(to.select,no,t,e),t.type="select",t.target=eo,A(t),t)}function qt(t,e,n,r){return B.call(this,t,e,n,r)}function Ut(t,e,n,r){return B.call(this,t,e,n,r)}function zt(t,e,n,r){return B.call(this,t,e,n,r)}function Gt(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=t||13===t?t:0}function Vt(t,e,n,r){return B.call(this,t,e,n,r)}function Yt(t,e,n,r){return B.call(this,t,e,n,r)}function Xt(t,e,n,r){return B.call(this,t,e,n,r)}function Ht(t,e,n,r){return B.call(this,t,e,n,r)}function Wt(t,e,n,r){return B.call(this,t,e,n,r)}function Kt(t){0>po||(t.current=fo[po],fo[po]=null,po--)}function Jt(t,e){po++,fo[po]=t.current,t.current=e}function Qt(t){return $t(t)?yo:ho.current}function Zt(t,e){var n=t.type.contextTypes;if(!n)return Pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return 2===t.tag&&null!=t.type.childContextTypes}function te(t){$t(t)&&(Kt(go,t),Kt(ho,t))}function ee(t,e,n){null!=ho.cursor&&r("168"),Jt(ho,e,t),Jt(go,n,t)}function ne(t,e){var n=t.stateNode,o=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var i in n)i in o||r("108",wt(t)||"Unknown",i);return wn({},e,n)}function re(t){if(!$t(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Pn,yo=ho.current,Jt(ho,e,t),Jt(go,go.current,t),!0}function oe(t,e){var n=t.stateNode;if(n||r("169"),e){var o=ne(t,yo);n.__reactInternalMemoizedMergedChildContext=o,Kt(go,t),Kt(ho,t),Jt(ho,o,t)}else Kt(go,t);Jt(go,e,t)}function ie(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ae(t,e,n){var r=t.alternate;return null===r?(r=new ie(t.tag,t.key,t.internalContextTag),r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=e,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function se(t,e,n){var o=void 0,i=t.type,a=t.key;return"function"===typeof i?(o=i.prototype&&i.prototype.isReactComponent?new ie(2,a,e):new ie(0,a,e),o.type=i,o.pendingProps=t.props):"string"===typeof i?(o=new ie(5,a,e),o.type=i,o.pendingProps=t.props):"object"===typeof i&&null!==i&&"number"===typeof i.tag?(o=i,o.pendingProps=t.props):r("130",null==i?i:typeof i,""),o.expirationTime=n,o}function ue(t,e,n,r){return e=new ie(10,r,e),e.pendingProps=t,e.expirationTime=n,e}function ce(t,e,n){return e=new ie(6,null,e),e.pendingProps=t,e.expirationTime=n,e}function le(t,e,n){return e=new ie(7,t.key,e),e.type=t.handler,e.pendingProps=t,e.expirationTime=n,e}function fe(t,e,n){return t=new ie(9,null,e),t.expirationTime=n,t}function pe(t,e,n){return e=new ie(4,t.key,e),e.pendingProps=t.children||[],e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function he(t){return function(e){try{return t(e)}catch(t){}}}function de(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);mo=he(function(t){return e.onCommitFiberRoot(n,t)}),vo=he(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function ge(t){"function"===typeof mo&&mo(t)}function ye(t){"function"===typeof vo&&vo(t)}function me(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function ve(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function _e(t,e){var n=t.alternate,r=t.updateQueue;null===r&&(r=t.updateQueue=me(null)),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=me(null)):t=null,t=t!==r?t:null,null===t?ve(r,e):null===r.last||null===t.last?(ve(r,e),ve(t,e)):(ve(r,e),t.last=e)}function be(t,e,n,r){return t=t.partialState,"function"===typeof t?t.call(e,n,r):t}function we(t,e,n,r,o,i){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,u=!1;null!==s;){var c=s.expirationTime;if(c>i){var l=n.expirationTime;(0===l||l>c)&&(n.expirationTime=c),u||(u=!0,n.baseState=t)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(t=be(s,r,t,o),a=!0):(c=be(s,r,t,o))&&(t=a?wn({},t,c):wn(t,c),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(c=n.callbackList,null===c&&(c=n.callbackList=[]),c.push(s));s=s.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||(e.updateQueue=null),u||(n.baseState=t),t}function xe(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var o=n[t],i=o.callback;o.callback=null,"function"!==typeof i&&r("191",i),i.call(e)}}function Ee(t,e,n,o){function i(t,e){e.updater=a,t.stateNode=e,e._reactInternalFiber=t}var a={isMounted:Et,enqueueSetState:function(n,r,o){n=n._reactInternalFiber,o=void 0===o?null:o;var i=e(n);_e(n,{expirationTime:i,partialState:r,callback:o,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(n,i)},enqueueReplaceState:function(n,r,o){n=n._reactInternalFiber,o=void 0===o?null:o;var i=e(n);_e(n,{expirationTime:i,partialState:r,callback:o,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(n,i)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var o=e(n);_e(n,{expirationTime:o,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(n,o)}};return{adoptClassInstance:i,constructClassInstance:function(t,e){var n=t.type,r=Qt(t),o=2===t.tag&&null!=t.type.contextTypes,a=o?Zt(t,r):Pn;return e=new n(e,a),i(t,e),o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e},mountClassInstance:function(t,e){var n=t.alternate,o=t.stateNode,i=o.state||null,s=t.pendingProps;s||r("158");var u=Qt(t);o.props=s,o.state=t.memoizedState=i,o.refs=Pn,o.context=Zt(t,u),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),"function"===typeof o.componentWillMount&&(i=o.state,o.componentWillMount(),i!==o.state&&a.enqueueReplaceState(o,o.state,null),null!==(i=t.updateQueue)&&(o.state=we(n,t,i,o,s,e))),"function"===typeof o.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,e,i){var s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var u=e.memoizedProps,c=e.pendingProps;c||null==(c=u)&&r("159");var l=s.context,f=Qt(e);if(f=Zt(e,f),"function"!==typeof s.componentWillReceiveProps||u===c&&l===f||(l=s.state,s.componentWillReceiveProps(c,f),s.state!==l&&a.enqueueReplaceState(s,s.state,null)),l=e.memoizedState,i=null!==e.updateQueue?we(t,e,e.updateQueue,s,c,i):l,!(u!==c||l!==i||go.current||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||u===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),!1;var p=c;if(null===u||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)p=!0;else{var h=e.stateNode,d=e.type;p="function"===typeof h.shouldComponentUpdate?h.shouldComponentUpdate(p,i,f):!d.prototype||!d.prototype.isPureReactComponent||(!In(u,p)||!In(l,i))}return p?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(c,i,f),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4)):("function"!==typeof s.componentDidUpdate||u===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),n(e,c),o(e,i)),s.props=c,s.state=i,s.context=f,p}}}function Ce(t){return null===t||"undefined"===typeof t?null:(t=Io&&t[Io]||t["@@iterator"],"function"===typeof t?t:null)}function Ie(t,e){var n=e.ref;if(null!==n&&"function"!==typeof n){if(e._owner){e=e._owner;var o=void 0;e&&(2!==e.tag&&r("110"),o=e.stateNode),o||r("147",n);var i=""+n;return null!==t&&null!==t.ref&&t.ref._stringRef===i?t.ref:(t=function(t){var e=o.refs===Pn?o.refs={}:o.refs;null===t?delete e[i]:e[i]=t},t._stringRef=i,t)}"string"!==typeof n&&r("148"),e._owner||r("149",n)}return n}function Ne(t,e){"textarea"!==t.type&&r("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Se(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function o(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return t=ae(t,e,n),t.index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?(e=ce(n,t.internalContextTag,r),e.return=t,e):(e=i(e,n,r),e.return=t,e)}function c(t,e,n,r){return null!==e&&e.type===n.type?(r=i(e,n.props,r),r.ref=Ie(e,n),r.return=t,r):(r=se(n,t.internalContextTag,r),r.ref=Ie(e,n),r.return=t,r)}function l(t,e,n,r){return null===e||7!==e.tag?(e=le(n,t.internalContextTag,r),e.return=t,e):(e=i(e,n,r),e.return=t,e)}function f(t,e,n,r){return null===e||9!==e.tag?(e=fe(n,t.internalContextTag,r),e.type=n.value,e.return=t,e):(e=i(e,null,r),e.type=n.value,e.return=t,e)}function p(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=pe(n,t.internalContextTag,r),e.return=t,e):(e=i(e,n.children||[],r),e.return=t,e)}function h(t,e,n,r,o){return null===e||10!==e.tag?(e=ue(n,t.internalContextTag,r,o),e.return=t,e):(e=i(e,n,r),e.return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return e=ce(""+e,t.internalContextTag,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case bo:return e.type===Co?(e=ue(e.props.children,t.internalContextTag,n,e.key),e.return=t,e):(n=se(e,t.internalContextTag,n),n.ref=Ie(null,e),n.return=t,n);case wo:return e=le(e,t.internalContextTag,n),e.return=t,e;case xo:return n=fe(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case Eo:return e=pe(e,t.internalContextTag,n),e.return=t,e}if(No(e)||Ce(e))return e=ue(e,t.internalContextTag,n,null),e.return=t,e;Ne(t,e)}return null}function g(t,e,n,r){var o=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bo:return n.key===o?n.type===Co?h(t,e,n.props.children,r,o):c(t,e,n,r):null;case wo:return n.key===o?l(t,e,n,r):null;case xo:return null===o?f(t,e,n,r):null;case Eo:return n.key===o?p(t,e,n,r):null}if(No(n)||Ce(n))return null!==o?null:h(t,e,n,r,null);Ne(t,n)}return null}function y(t,e,n,r,o){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,u(e,t,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bo:return t=t.get(null===r.key?n:r.key)||null,r.type===Co?h(e,t,r.props.children,o,r.key):c(e,t,r,o);case wo:return t=t.get(null===r.key?n:r.key)||null,l(e,t,r,o);case xo:return t=t.get(n)||null,f(e,t,r,o);case Eo:return t=t.get(null===r.key?n:r.key)||null,p(e,t,r,o)}if(No(r)||Ce(r))return t=t.get(n)||null,h(e,t,r,o,null);Ne(e,r)}return null}function m(r,i,s,u){for(var c=null,l=null,f=i,p=i=0,h=null;null!==f&&p<s.length;p++){f.index>p?(h=f,f=null):h=f.sibling;var m=g(r,f,s[p],u);if(null===m){null===f&&(f=h);break}t&&f&&null===m.alternate&&e(r,f),i=a(m,i,p),null===l?c=m:l.sibling=m,l=m,f=h}if(p===s.length)return n(r,f),c;if(null===f){for(;p<s.length;p++)(f=d(r,s[p],u))&&(i=a(f,i,p),null===l?c=f:l.sibling=f,l=f);return c}for(f=o(r,f);p<s.length;p++)(h=y(f,r,p,s[p],u))&&(t&&null!==h.alternate&&f.delete(null===h.key?p:h.key),i=a(h,i,p),null===l?c=h:l.sibling=h,l=h);return t&&f.forEach(function(t){return e(r,t)}),c}function v(i,s,u,c){var l=Ce(u);"function"!==typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var f=l=null,p=s,h=s=0,m=null,v=u.next();null!==p&&!v.done;h++,v=u.next()){p.index>h?(m=p,p=null):m=p.sibling;var _=g(i,p,v.value,c);if(null===_){p||(p=m);break}t&&p&&null===_.alternate&&e(i,p),s=a(_,s,h),null===f?l=_:f.sibling=_,f=_,p=m}if(v.done)return n(i,p),l;if(null===p){for(;!v.done;h++,v=u.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,h),null===f?l=v:f.sibling=v,f=v);return l}for(p=o(i,p);!v.done;h++,v=u.next())null!==(v=y(p,i,h,v.value,c))&&(t&&null!==v.alternate&&p.delete(null===v.key?h:v.key),s=a(v,s,h),null===f?l=v:f.sibling=v,f=v);return t&&p.forEach(function(t){return e(i,t)}),l}return function(t,o,a,u){"object"===typeof a&&null!==a&&a.type===Co&&null===a.key&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case bo:t:{var l=a.key;for(c=o;null!==c;){if(c.key===l){if(10===c.tag?a.type===Co:c.type===a.type){n(t,c.sibling),o=i(c,a.type===Co?a.props.children:a.props,u),o.ref=Ie(c,a),o.return=t,t=o;break t}n(t,c);break}e(t,c),c=c.sibling}a.type===Co?(o=ue(a.props.children,t.internalContextTag,u,a.key),o.return=t,t=o):(u=se(a,t.internalContextTag,u),u.ref=Ie(o,a),u.return=t,t=u)}return s(t);case wo:t:{for(c=a.key;null!==o;){if(o.key===c){if(7===o.tag){n(t,o.sibling),o=i(o,a,u),o.return=t,t=o;break t}n(t,o);break}e(t,o),o=o.sibling}o=le(a,t.internalContextTag,u),o.return=t,t=o}return s(t);case xo:t:{if(null!==o){if(9===o.tag){n(t,o.sibling),o=i(o,null,u),o.type=a.value,o.return=t,t=o;break t}n(t,o)}o=fe(a,t.internalContextTag,u),o.type=a.value,o.return=t,t=o}return s(t);case Eo:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(t,o.sibling),o=i(o,a.children||[],u),o.return=t,t=o;break t}n(t,o);break}e(t,o),o=o.sibling}o=pe(a,t.internalContextTag,u),o.return=t,t=o}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==o&&6===o.tag?(n(t,o.sibling),o=i(o,a,u)):(n(t,o),o=ce(a,t.internalContextTag,u)),o.return=t,t=o,s(t);if(No(a))return m(t,o,a,u);if(Ce(a))return v(t,o,a,u);if(c&&Ne(t,a),"undefined"===typeof a)switch(t.tag){case 2:case 1:u=t.type,r("152",u.displayName||u.name||"Component")}return n(t,o)}}function Pe(t,e,n,o,i){function a(t,e,n){var r=e.expirationTime;e.child=null===t?Po(e,null,n,r):So(e,t.child,n,r)}function s(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=128)}function u(t,e,n,r){if(s(t,e),!n)return r&&oe(e,!1),l(t,e);n=e.stateNode,Ur.current=e;var o=n.render();return e.effectTag|=1,a(t,e,o),e.memoizedState=n.state,e.memoizedProps=n.props,r&&oe(e,!0),e.child}function c(t){var e=t.stateNode;e.pendingContext?ee(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ee(t,e.context,!1),y(t,e.containerInfo)}function l(t,e){if(null!==t&&e.child!==t.child&&r("153"),null!==e.child){t=e.child;var n=ae(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=ae(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function f(t,e){switch(e.tag){case 3:c(e);break;case 2:re(e);break;case 4:y(e,e.stateNode.containerInfo)}return null}var p=t.shouldSetTextContent,h=t.useSyncScheduling,d=t.shouldDeprioritizeSubtree,g=e.pushHostContext,y=e.pushHostContainer,m=n.enterHydrationState,v=n.resetHydrationState,_=n.tryToClaimNextHydratableInstance;t=Ee(o,i,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var b=t.adoptClassInstance,w=t.constructClassInstance,x=t.mountClassInstance,E=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n)return f(t,e);switch(e.tag){case 0:null!==t&&r("155");var o=e.type,i=e.pendingProps,C=Qt(e);return C=Zt(e,C),o=o(i,C),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render?(e.tag=2,i=re(e),b(e,o),x(e,n),e=u(t,e,!0,i)):(e.tag=1,a(t,e,o),e.memoizedProps=i,e=e.child),e;case 1:t:{if(i=e.type,n=e.pendingProps,o=e.memoizedProps,go.current)null===n&&(n=o);else if(null===n||o===n){e=l(t,e);break t}o=Qt(e),o=Zt(e,o),i=i(n,o),e.effectTag|=1,a(t,e,i),e.memoizedProps=n,e=e.child}return e;case 2:return i=re(e),o=void 0,null===t?e.stateNode?r("153"):(w(e,e.pendingProps),x(e,n),o=!0):o=E(t,e,n),u(t,e,o,i);case 3:return c(e),i=e.updateQueue,null!==i?(o=e.memoizedState,i=we(t,e,i,null,null,n),o===i?(v(),e=l(t,e)):(o=i.element,C=e.stateNode,(null===t||null===t.child)&&C.hydrate&&m(e)?(e.effectTag|=2,e.child=Po(e,null,o,n)):(v(),a(t,e,o)),e.memoizedState=i,e=e.child)):(v(),e=l(t,e)),e;case 5:g(e),null===t&&_(e),i=e.type;var I=e.memoizedProps;return o=e.pendingProps,null===o&&null===(o=I)&&r("154"),C=null!==t?t.memoizedProps:null,go.current||null!==o&&I!==o?(I=o.children,p(i,o)?I=null:C&&p(i,C)&&(e.effectTag|=16),s(t,e),2147483647!==n&&!h&&d(i,o)?(e.expirationTime=2147483647,e=null):(a(t,e,I),e.memoizedProps=o,e=e.child)):e=l(t,e),e;case 6:return null===t&&_(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case 8:e.tag=7;case 7:return i=e.pendingProps,go.current?null===i&&null===(i=t&&t.memoizedProps)&&r("154"):null!==i&&e.memoizedProps!==i||(i=e.memoizedProps),o=i.children,e.stateNode=null===t?Po(e,e.stateNode,o,n):So(e,e.stateNode,o,n),e.memoizedProps=i,e.stateNode;case 9:return null;case 4:t:{if(y(e,e.stateNode.containerInfo),i=e.pendingProps,go.current)null===i&&null==(i=t&&t.memoizedProps)&&r("154");else if(null===i||e.memoizedProps===i){e=l(t,e);break t}null===t?e.child=So(e,null,i,n):a(t,e,i),e.memoizedProps=i,e=e.child}return e;case 10:t:{if(n=e.pendingProps,go.current)null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=l(t,e);break t}a(t,e,n),e.memoizedProps=n,e=e.child}return e;default:r("156")}},beginFailedWork:function(t,e,n){switch(e.tag){case 2:re(e);break;case 3:c(e);break;default:r("157")}return e.effectTag|=64,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),0===e.expirationTime||e.expirationTime>n?f(t,e):(e.firstEffect=null,e.lastEffect=null,e.child=null===t?Po(e,null,null,n):So(e,t.child,null,n),2===e.tag&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function Oe(t,e,n){function o(t){t.effectTag|=4}var i=t.createInstance,a=t.createTextInstance,s=t.appendInitialChild,u=t.finalizeInitialChildren,c=t.prepareUpdate,l=t.persistence,f=e.getRootHostContainer,p=e.popHostContext,h=e.getHostContext,d=e.popHostContainer,g=n.prepareToHydrateHostInstance,y=n.prepareToHydrateHostTextInstance,m=n.popHydrationState,v=void 0,_=void 0,b=void 0;return t.mutation?(v=function(){},_=function(t,e,n){(e.updateQueue=n)&&o(e)},b=function(t,e,n,r){n!==r&&o(e)}):r(l?"235":"236"),{completeWork:function(t,e,n){var l=e.pendingProps;switch(null===l?l=e.memoizedProps:2147483647===e.expirationTime&&2147483647!==n||(e.pendingProps=null),e.tag){case 1:return null;case 2:return te(e),null;case 3:return d(e),Kt(go,e),Kt(ho,e),l=e.stateNode,l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==t&&null!==t.child||(m(e),e.effectTag&=-3),v(e),null;case 5:p(e),n=f();var w=e.type;if(null!==t&&null!=e.stateNode){var x=t.memoizedProps,E=e.stateNode,C=h();E=c(E,w,x,l,n,C),_(t,e,E,w,x,l,n),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!l)return null===e.stateNode&&r("166"),null;if(t=h(),m(e))g(e,n,t)&&o(e);else{t=i(w,l,n,t,e);t:for(x=e.child;null!==x;){if(5===x.tag||6===x.tag)s(t,x.stateNode);else if(4!==x.tag&&null!==x.child){x.child.return=x,x=x.child;continue}if(x===e)break;for(;null===x.sibling;){if(null===x.return||x.return===e)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}u(t,w,l,n)&&o(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)b(t,e,t.memoizedProps,l);else{if("string"!==typeof l)return null===e.stateNode&&r("166"),null;t=f(),n=h(),m(e)?y(e)&&o(e):e.stateNode=a(l,t,n,e)}return null;case 7:(l=e.memoizedProps)||r("165"),e.tag=8,w=[];t:for((x=e.stateNode)&&(x.return=e);null!==x;){if(5===x.tag||6===x.tag||4===x.tag)r("247");else if(9===x.tag)w.push(x.type);else if(null!==x.child){x.child.return=x,x=x.child;continue}for(;null===x.sibling;){if(null===x.return||x.return===e)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}return x=l.handler,l=x(l.props,w),e.child=So(e,null!==t?t.child:null,l,n),e.child;case 8:return e.tag=7,null;case 9:case 10:return null;case 4:return d(e),v(e),null;case 0:r("167");default:r("156")}}}}function Me(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function o(t){switch("function"===typeof ye&&ye(t),t.tag){case 2:n(t);var r=t.stateNode;if("function"===typeof r.componentWillUnmount)try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(n){e(t,n)}break;case 5:n(t);break;case 7:i(t.stateNode);break;case 4:c&&s(t)}}function i(t){for(var e=t;;)if(o(e),null===e.child||c&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function a(t){return 5===t.tag||3===t.tag||4===t.tag}function s(t){for(var e=t,n=!1,a=void 0,s=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,s=!1;break t;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)i(e),s?_(a,e.stateNode):v(a,e.stateNode);else if(4===e.tag?a=e.stateNode.containerInfo:o(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var u=t.getPublicInstance,c=t.mutation;t=t.persistence,c||r(t?"235":"236");var l=c.commitMount,f=c.commitUpdate,p=c.resetTextContent,h=c.commitTextUpdate,d=c.appendChild,g=c.appendChildToContainer,y=c.insertBefore,m=c.insertInContainerBefore,v=c.removeChild,_=c.removeChildFromContainer;return{commitResetTextContent:function(t){p(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(a(e)){var n=e;break t}e=e.return}r("160"),n=void 0}var o=e=void 0;switch(n.tag){case 5:e=n.stateNode,o=!1;break;case 3:case 4:e=n.stateNode.containerInfo,o=!0;break;default:r("161")}16&n.effectTag&&(p(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)n?o?m(e,i.stateNode,n):y(e,i.stateNode,n):o?g(e,i.stateNode):d(e,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},commitDeletion:function(t){s(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var o=e.memoizedProps;t=null!==t?t.memoizedProps:o;var i=e.type,a=e.updateQueue;e.updateQueue=null,null!==a&&f(n,a,i,t,o,e)}break;case 6:null===e.stateNode&&r("162"),n=e.memoizedProps,h(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(t,e){switch(e.tag){case 2:var n=e.stateNode;if(4&e.effectTag)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var o=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(o,t)}e=e.updateQueue,null!==e&&xe(e,n);break;case 3:n=e.updateQueue,null!==n&&xe(n,null!==e.child?e.child.stateNode:null);break;case 5:n=e.stateNode,null===t&&4&e.effectTag&&l(n,e.type,e.memoizedProps,e);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:e(u(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function Le(t){function e(t){return t===Oo&&r("174"),t}var n=t.getChildHostContext,o=t.getRootHostContext,i={current:Oo},a={current:Oo},s={current:Oo};return{getHostContext:function(){return e(i.current)},getRootHostContainer:function(){return e(s.current)},popHostContainer:function(t){Kt(i,t),Kt(a,t),Kt(s,t)},popHostContext:function(t){a.current===t&&(Kt(i,t),Kt(a,t))},pushHostContainer:function(t,e){Jt(s,e,t),e=o(e),Jt(a,t,t),Jt(i,e,t)},pushHostContext:function(t){var r=e(s.current),o=e(i.current);r=n(o,t.type,r),o!==r&&(Jt(a,t,t),Jt(i,r,t))},resetHostContainer:function(){i.current=Oo,s.current=Oo}}}function Te(t){function e(t,e){var n=new ie(5,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=a(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=s(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function o(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;p=t}var i=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=t.canHydrateInstance,s=t.canHydrateTextInstance,u=t.getNextHydratableSibling,c=t.getFirstHydratableChild,l=t.hydrateInstance,f=t.hydrateTextInstance,p=null,h=null,d=!1;return{enterHydrationState:function(t){return h=c(t.stateNode.containerInfo),p=t,d=!0},resetHydrationState:function(){h=p=null,d=!1},tryToClaimNextHydratableInstance:function(t){if(d){var r=h;if(r){if(!n(t,r)){if(!(r=u(r))||!n(t,r))return t.effectTag|=2,d=!1,void(p=t);e(p,h)}p=t,h=c(r)}else t.effectTag|=2,d=!1,p=t}},prepareToHydrateHostInstance:function(t,e,n){return e=l(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return f(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==p)return!1;if(!d)return o(t),d=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!i(n,t.memoizedProps))for(n=h;n;)e(t,n),n=u(n);return o(t),h=p?u(t.stateNode):null,!0}}}function Re(t){function e(t){it=K=!0;var e=t.stateNode;if(e.current===t&&r("177"),e.isReadyForCommit=!1,Ur.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var n=t.firstEffect}else n=t;else n=t.firstEffect;for(V(),$=n;null!==$;){var o=!1,i=void 0;try{for(;null!==$;){var a=$.effectTag;if(16&a&&R($),128&a){var s=$.alternate;null!==s&&B(s)}switch(-242&a){case 2:A($),$.effectTag&=-3;break;case 6:A($),$.effectTag&=-3,D($.alternate,$);break;case 4:D($.alternate,$);break;case 8:at=!0,k($),at=!1}$=$.nextEffect}}catch(t){o=!0,i=t}o&&(null===$&&r("178"),u($,i),null!==$&&($=$.nextEffect))}for(Y(),e.current=t,$=n;null!==$;){n=!1,o=void 0;try{for(;null!==$;){var c=$.effectTag;if(36&c&&F($.alternate,$),128&c&&j($),64&c)switch(i=$,a=void 0,null!==tt&&(a=tt.get(i),tt.delete(i),null==a&&null!==i.alternate&&(i=i.alternate,a=tt.get(i),tt.delete(i))),null==a&&r("184"),i.tag){case 2:i.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===rt&&(rt=a.error);break;default:r("157")}var l=$.nextEffect;$.nextEffect=null,$=l}}catch(t){n=!0,o=t}n&&(null===$&&r("178"),u($,o),null!==$&&($=$.nextEffect))}return K=it=!1,"function"===typeof ge&&ge(t.stateNode),nt&&(nt.forEach(g),nt=null),null!==rt&&(t=rt,rt=null,E(t)),e=e.current.expirationTime,0===e&&(et=tt=null),e}function n(t){for(;;){var e=T(t.alternate,t,Z),n=t.return,r=t.sibling,o=t;if(2147483647===Z||2147483647!==o.expirationTime){if(2!==o.tag&&3!==o.tag)var i=0;else i=o.updateQueue,i=null===i?0:i.expirationTime;for(var a=o.child;null!==a;)0!==a.expirationTime&&(0===i||i>a.expirationTime)&&(i=a.expirationTime),a=a.sibling;o.expirationTime=i}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==r)return r;if(null===n){t.stateNode.isReadyForCommit=!0;break}t=n}return null}function o(t){var e=M(t.alternate,t,Z);return null===e&&(e=n(t)),Ur.current=null,e}function i(t){var e=L(t.alternate,t,Z);return null===e&&(e=n(t)),Ur.current=null,e}function a(t){if(null!==tt){if(!(0===Z||Z>t))if(Z<=H)for(;null!==J;)J=c(J)?i(J):o(J);else for(;null!==J&&!x();)J=c(J)?i(J):o(J)}else if(!(0===Z||Z>t))if(Z<=H)for(;null!==J;)J=o(J);else for(;null!==J&&!x();)J=o(J)}function s(t,e){if(K&&r("243"),K=!0,t.isReadyForCommit=!1,t!==Q||e!==Z||null===J){for(;-1<po;)fo[po]=null,po--;yo=Pn,ho.current=Pn,go.current=!1,P(),Q=t,Z=e,J=ae(Q.current,null,e)}var n=!1,o=null;try{a(e)}catch(t){n=!0,o=t}for(;n;){if(ot){rt=o;break}var s=J;if(null===s)ot=!0;else{var c=u(s,o);if(null===c&&r("183"),!ot){try{for(n=c,o=e,c=n;null!==s;){switch(s.tag){case 2:te(s);break;case 5:S(s);break;case 3:N(s);break;case 4:N(s)}if(s===c||s.alternate===c)break;s=s.return}J=i(n),a(o)}catch(t){n=!0,o=t;continue}break}}}return e=rt,ot=K=!1,rt=null,null!==e&&E(e),t.isReadyForCommit?t.current.alternate:null}function u(t,e){var n=Ur.current=null,r=!1,o=!1,i=null;if(3===t.tag)n=t,l(t)&&(ot=!0);else for(var a=t.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(r=!0,i=wt(a),n=a,o=!0):3===a.tag&&(n=a),l(a)){if(at||null!==nt&&(nt.has(a)||null!==a.alternate&&nt.has(a.alternate)))return null;n=null,o=!1}a=a.return}if(null!==n){null===et&&(et=new Set),et.add(n);var s="";a=t;do{t:switch(a.tag){case 0:case 1:case 2:case 5:var u=a._debugOwner,c=a._debugSource,f=wt(a),p=null;u&&(p=wt(u)),u=c,f="\n    in "+(f||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":p?" (created by "+p+")":"");break t;default:f=""}s+=f,a=a.return}while(a);a=s,t=wt(t),null===tt&&(tt=new Map),e={componentName:t,componentStack:a,error:e,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:i,willRetry:o},tt.set(n,e);try{var h=e.error;h&&h.suppressReactErrorLogging||console.error(h)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}return it?(null===nt&&(nt=new Set),nt.add(n)):g(n),n}return null===rt&&(rt=e),null}function c(t){return null!==tt&&(tt.has(t)||null!==t.alternate&&tt.has(t.alternate))}function l(t){return null!==et&&(et.has(t)||null!==t.alternate&&et.has(t.alternate))}function f(){return 20*(1+((y()+100)/20|0))}function p(t){return 0!==W?W:K?it?1:Z:!G||1&t.internalContextTag?f():1}function h(t,e){return d(t,e,!1)}function d(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!K&&n===Q&&e<Z&&(J=Q=null,Z=0);var o=n,i=e;if(xt>bt&&r("185"),null===o.nextScheduledRoot)o.remainingExpirationTime=i,null===ut?(st=ut=o,o.nextScheduledRoot=o):(ut=ut.nextScheduledRoot=o,ut.nextScheduledRoot=st);else{var a=o.remainingExpirationTime;(0===a||i<a)&&(o.remainingExpirationTime=i)}ft||(vt?_t&&(pt=o,ht=1,w(pt,ht)):1===i?b(1,null):m(i)),!K&&n===Q&&e<Z&&(J=Q=null,Z=0)}t=t.return}}function g(t){d(t,1,!0)}function y(){return H=2+((q()-X)/10|0)}function m(t){if(0!==ct){if(t>ct)return;z(lt)}var e=q()-X;ct=t,lt=U(_,{timeout:10*(t-2)-e})}function v(){var t=0,e=null;if(null!==ut)for(var n=ut,o=st;null!==o;){var i=o.remainingExpirationTime;if(0===i){if((null===n||null===ut)&&r("244"),o===o.nextScheduledRoot){st=ut=o.nextScheduledRoot=null;break}if(o===st)st=i=o.nextScheduledRoot,ut.nextScheduledRoot=i,o.nextScheduledRoot=null;else{if(o===ut){ut=n,ut.nextScheduledRoot=st,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((0===t||i<t)&&(t=i,e=o),o===ut)break;n=o,o=o.nextScheduledRoot}}n=pt,null!==n&&n===e?xt++:xt=0,pt=e,ht=t}function _(t){b(0,t)}function b(t,e){for(mt=e,v();null!==pt&&0!==ht&&(0===t||ht<=t)&&!dt;)w(pt,ht),v();if(null!==mt&&(ct=0,lt=-1),0!==ht&&m(ht),mt=null,dt=!1,xt=0,gt)throw t=yt,yt=null,gt=!1,t}function w(t,n){if(ft&&r("245"),ft=!0,n<=y()){var o=t.finishedWork;null!==o?(t.finishedWork=null,t.remainingExpirationTime=e(o)):(t.finishedWork=null,null!==(o=s(t,n))&&(t.remainingExpirationTime=e(o)))}else o=t.finishedWork,null!==o?(t.finishedWork=null,t.remainingExpirationTime=e(o)):(t.finishedWork=null,null!==(o=s(t,n))&&(x()?t.finishedWork=o:t.remainingExpirationTime=e(o)));ft=!1}function x(){return!(null===mt||mt.timeRemaining()>Et)&&(dt=!0)}function E(t){null===pt&&r("246"),pt.remainingExpirationTime=0,gt||(gt=!0,yt=t)}var C=Le(t),I=Te(t),N=C.popHostContainer,S=C.popHostContext,P=C.resetHostContainer,O=Pe(t,C,I,h,p),M=O.beginWork,L=O.beginFailedWork,T=Oe(t,C,I).completeWork;C=Me(t,u);var R=C.commitResetTextContent,A=C.commitPlacement,k=C.commitDeletion,D=C.commitWork,F=C.commitLifeCycles,j=C.commitAttachRef,B=C.commitDetachRef,q=t.now,U=t.scheduleDeferredCallback,z=t.cancelDeferredCallback,G=t.useSyncScheduling,V=t.prepareForCommit,Y=t.resetAfterCommit,X=q(),H=2,W=0,K=!1,J=null,Q=null,Z=0,$=null,tt=null,et=null,nt=null,rt=null,ot=!1,it=!1,at=!1,st=null,ut=null,ct=0,lt=-1,ft=!1,pt=null,ht=0,dt=!1,gt=!1,yt=null,mt=null,vt=!1,_t=!1,bt=1e3,xt=0,Et=1;return{computeAsyncExpiration:f,computeExpirationForFiber:p,scheduleWork:h,batchedUpdates:function(t,e){var n=vt;vt=!0;try{return t(e)}finally{(vt=n)||ft||b(1,null)}},unbatchedUpdates:function(t){if(vt&&!_t){_t=!0;try{return t()}finally{_t=!1}}return t()},flushSync:function(t){var e=vt;vt=!0;try{t:{var n=W;W=1;try{var o=t();break t}finally{W=n}o=void 0}return o}finally{vt=e,ft&&r("187"),b(1,null)}},deferredUpdates:function(t){var e=W;W=f();try{return t()}finally{W=e}}}}function Ae(t){function e(t){return t=Nt(t),null===t?null:t.stateNode}var n=t.getPublicInstance;t=Re(t);var o=t.computeAsyncExpiration,i=t.computeExpirationForFiber,a=t.scheduleWork;return{createContainer:function(t,e){var n=new ie(3,null,0);return t={current:n,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:e,nextScheduledRoot:null},n.stateNode=t},updateContainer:function(t,e,n,s){var u=e.current;if(n){n=n._reactInternalFiber;var c;t:{for(2===xt(n)&&2===n.tag||r("170"),c=n;3!==c.tag;){if($t(c)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}(c=c.return)||r("171")}c=c.stateNode.context}n=$t(n)?ne(n,c):c}else n=Pn;null===e.context?e.context=n:e.pendingContext=n,e=s,e=void 0===e?null:e,s=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?o():i(u),_e(u,{expirationTime:s,partialState:{element:t},callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(u,s)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:e,findHostInstanceWithNoPortals:function(t){return t=St(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var n=t.findFiberByHostInstance;return de(wn({},t,{findHostInstanceByFiber:function(t){return e(t)},findFiberByHostInstance:function(t){return n?n(t):null}}))}}}function ke(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Eo,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function De(t){return!!Ko.hasOwnProperty(t)||!Wo.hasOwnProperty(t)&&(Ho.test(t)?Ko[t]=!0:(Wo[t]=!0,!1))}function Fe(t,e,n){var r=a(e);if(r&&i(e,n)){var o=r.mutationMethod;o?o(t,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Be(t,e):r.mustUseProperty?t[r.propertyName]=n:(e=r.attributeName,(o=r.attributeNamespace)?t.setAttributeNS(o,e,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?t.setAttribute(e,""):t.setAttribute(e,""+n))}else je(t,e,i(e,n)?n:null)}function je(t,e,n){De(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))}function Be(t,e){var n=a(e);n?(e=n.mutationMethod)?e(t,void 0):n.mustUseProperty?t[n.propertyName]=!n.hasBooleanValue&&"":t.removeAttribute(n.attributeName):t.removeAttribute(e)}function qe(t,e){var n=e.value,r=e.checked;return wn({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked})}function Ue(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function ze(t,e){null!=(e=e.checked)&&Fe(t,"checked",e)}function Ge(t,e){ze(t,e);var n=e.value;null!=n?0===n&&""===t.value?t.value="0":"number"===e.type?(e=parseFloat(t.value)||0,(n!=e||n==e&&t.value!=n)&&(t.value=""+n)):t.value!==""+n&&(t.value=""+n):(null==e.value&&null!=e.defaultValue&&t.defaultValue!==""+e.defaultValue&&(t.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked))}function Ve(t,e){switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}e=t.name,""!==e&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function Ye(t){var e="";return _n.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)}),e}function Xe(t,e){return t=wn({children:void 0},e),(e=Ye(e.children))&&(t.children=e),t}function He(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function We(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function Ke(t,e){return null!=e.dangerouslySetInnerHTML&&r("91"),wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Je(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&r("92"),Array.isArray(e)&&(1>=e.length||r("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function Qe(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Ze(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function $e(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?$e(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function en(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function nn(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=n,i=e[n];o=null==i||"boolean"===typeof i||""===i?"":r||"number"!==typeof i||0===i||$o.hasOwnProperty(o)&&$o[o]?(""+i).trim():i+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}function rn(t,e,n){e&&(ei[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&r("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&r("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||r("61")),null!=e.style&&"object"!==typeof e.style&&r("62",n()))}function on(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=kt(t);e=Jn[e];for(var r=0;r<e.length;r++){var o=e[r];n.hasOwnProperty(o)&&n[o]||("topScroll"===o?Lt("topScroll","scroll",t):"topFocus"===o||"topBlur"===o?(Lt("topFocus","focus",t),Lt("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===o?(nt("cancel",!0)&&Lt("topCancel","cancel",t),n.topCancel=!0):"topClose"===o?(nt("close",!0)&&Lt("topClose","close",t),n.topClose=!0):Kr.hasOwnProperty(o)&&Mt(o,Kr[o],t),n[o]=!0)}}function sn(t,e,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ni&&(r=$e(t)),r===ni?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(r,t),t}function un(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function cn(t,e,n,r){var o=on(e,n);switch(e){case"iframe":case"object":Mt("topLoad","load",t);var i=n;break;case"video":case"audio":for(i in oi)oi.hasOwnProperty(i)&&Mt(i,oi[i],t);i=n;break;case"source":Mt("topError","error",t),i=n;break;case"img":case"image":Mt("topError","error",t),Mt("topLoad","load",t),i=n;break;case"form":Mt("topReset","reset",t),Mt("topSubmit","submit",t),i=n;break;case"details":Mt("topToggle","toggle",t),i=n;break;case"input":Ue(t,n),i=qe(t,n),Mt("topInvalid","invalid",t),an(r,"onChange");break;case"option":i=Xe(t,n);break;case"select":We(t,n),i=wn({},n,{value:void 0}),Mt("topInvalid","invalid",t),an(r,"onChange");break;case"textarea":Je(t,n),i=Ke(t,n),Mt("topInvalid","invalid",t),an(r,"onChange");break;default:i=n}rn(e,i,ri);var a,s=i;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?nn(t,u,ri):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&Zo(t,u):"children"===a?"string"===typeof u?("textarea"!==e||""!==u)&&en(t,u):"number"===typeof u&&en(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Kn.hasOwnProperty(a)?null!=u&&an(r,a):o?je(t,a,u):null!=u&&Fe(t,a,u))}switch(e){case"input":it(t),Ve(t,n);break;case"textarea":it(t),Ze(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,e=n.value,null!=e?He(t,!!n.multiple,e,!1):null!=n.defaultValue&&He(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=xn)}}function ln(t,e,n,r,o){var i=null;switch(e){case"input":n=qe(t,n),r=qe(t,r),i=[];break;case"option":n=Xe(t,n),r=Xe(t,r),i=[];break;case"select":n=wn({},n,{value:void 0}),r=wn({},r,{value:void 0}),i=[];break;case"textarea":n=Ke(t,n),r=Ke(t,r),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(t.onclick=xn)}rn(e,r,ri);var a,s;t=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in e=n[a])e.hasOwnProperty(s)&&(t||(t={}),t[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Kn.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(e=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==e&&(null!=u||null!=e))if("style"===a)if(e){for(s in e)!e.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in u)u.hasOwnProperty(s)&&e[s]!==u[s]&&(t||(t={}),t[s]=u[s])}else t||(i||(i=[]),i.push(a,t)),t=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,e=e?e.__html:void 0,null!=u&&e!==u&&(i=i||[]).push(a,""+u)):"children"===a?e===u||"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Kn.hasOwnProperty(a)?(null!=u&&an(o,a),i||e===u||(i=[])):(i=i||[]).push(a,u))}return t&&(i=i||[]).push("style",t),i}function fn(t,e,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&ze(t,o),on(n,r),r=on(n,o);for(var i=0;i<e.length;i+=2){var a=e[i],s=e[i+1];"style"===a?nn(t,s,ri):"dangerouslySetInnerHTML"===a?Zo(t,s):"children"===a?en(t,s):r?null!=s?je(t,a,s):t.removeAttribute(a):null!=s?Fe(t,a,s):Be(t,a)}switch(n){case"input":Ge(t,o);break;case"textarea":Qe(t,o);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!o.multiple,n=o.value,null!=n?He(t,!!o.multiple,n,!1):e!==!!o.multiple&&(null!=o.defaultValue?He(t,!!o.multiple,o.defaultValue,!0):He(t,!!o.multiple,o.multiple?[]:"",!1))}}function pn(t,e,n,r,o){switch(e){case"iframe":case"object":Mt("topLoad","load",t);break;case"video":case"audio":for(var i in oi)oi.hasOwnProperty(i)&&Mt(i,oi[i],t);break;case"source":Mt("topError","error",t);break;case"img":case"image":Mt("topError","error",t),Mt("topLoad","load",t);break;case"form":Mt("topReset","reset",t),Mt("topSubmit","submit",t);break;case"details":Mt("topToggle","toggle",t);break;case"input":Ue(t,n),Mt("topInvalid","invalid",t),an(o,"onChange");break;case"select":We(t,n),Mt("topInvalid","invalid",t),an(o,"onChange");break;case"textarea":Je(t,n),Mt("topInvalid","invalid",t),an(o,"onChange")}rn(e,n,ri),r=null;for(var a in n)n.hasOwnProperty(a)&&(i=n[a],"children"===a?"string"===typeof i?t.textContent!==i&&(r=["children",i]):"number"===typeof i&&t.textContent!==""+i&&(r=["children",""+i]):Kn.hasOwnProperty(a)&&null!=i&&an(o,a));switch(e){case"input":it(t),Ve(t,n);break;case"textarea":it(t),Ze(t,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=xn)}return r}function hn(t,e){return t.nodeValue!==e}function dn(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function gn(t){return!(!(t=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))}function yn(t,e,n,o,i){dn(n)||r("200");var a=n._reactRootContainer;if(a)ui.updateContainer(e,a,t,i);else{if(!(o=o||gn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=ui.createContainer(n,o);a=n._reactRootContainer=s,ui.unbatchedUpdates(function(){ui.updateContainer(e,s,t,i)})}return ui.getPublicRootInstance(a)}function mn(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return dn(e)||r("200"),ke(t,e,null,n)}function vn(t,e){this._reactRootContainer=ui.createContainer(t,e)}var _n=n(0),bn=n(54),wn=n(19),xn=n(14),En=n(55),Cn=n(56),In=n(57),Nn=n(58),Sn=n(61),Pn=n(27);_n||r("227");var On={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Mn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=Mn,n=t.Properties||{},i=t.DOMAttributeNamespaces||{},a=t.DOMAttributeNames||{};t=t.DOMMutationMethods||{};for(var s in n){Ln.hasOwnProperty(s)&&r("48",s);var u=s.toLowerCase(),c=n[s];u={attributeName:u,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:o(c,e.MUST_USE_PROPERTY),hasBooleanValue:o(c,e.HAS_BOOLEAN_VALUE),hasNumericValue:o(c,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(c,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(c,e.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:o(c,e.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",s),a.hasOwnProperty(s)&&(u.attributeName=a[s]),i.hasOwnProperty(s)&&(u.attributeNamespace=i[s]),t.hasOwnProperty(s)&&(u.mutationMethod=t[s]),Ln[s]=u}}},Ln={},Tn=Mn,Rn=Tn.MUST_USE_PROPERTY,An=Tn.HAS_BOOLEAN_VALUE,kn=Tn.HAS_NUMERIC_VALUE,Dn=Tn.HAS_POSITIVE_NUMERIC_VALUE,Fn=Tn.HAS_OVERLOADED_BOOLEAN_VALUE,jn=Tn.HAS_STRING_BOOLEAN_VALUE,Bn={Properties:{allowFullScreen:An,async:An,autoFocus:An,autoPlay:An,capture:Fn,checked:Rn|An,cols:Dn,contentEditable:jn,controls:An,default:An,defer:An,disabled:An,download:Fn,draggable:jn,formNoValidate:An,hidden:An,loop:An,multiple:Rn|An,muted:Rn|An,noValidate:An,open:An,playsInline:An,readOnly:An,required:An,reversed:An,rows:Dn,rowSpan:kn,scoped:An,seamless:An,selected:Rn|An,size:Dn,start:kn,span:Dn,spellCheck:jn,style:0,tabIndex:0,itemScope:An,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:jn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute("value");"number"!==t.type||!1===t.hasAttribute("value")?t.setAttribute("value",""+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute("value",""+e)}}},qn=Tn.HAS_STRING_BOOLEAN_VALUE,Un={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},zn={Properties:{autoReverse:qn,externalResourcesRequired:qn,preserveAlpha:qn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Un.xlink,xlinkArcrole:Un.xlink,xlinkHref:Un.xlink,xlinkRole:Un.xlink,xlinkShow:Un.xlink,xlinkTitle:Un.xlink,xlinkType:Un.xlink,xmlBase:Un.xml,xmlLang:Un.xml,xmlSpace:Un.xml}},Gn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(t){var e=t.replace(Gn,s);zn.Properties[e]=0,zn.DOMAttributeNames[e]=t}),Tn.injectDOMPropertyConfig(Bn),Tn.injectDOMPropertyConfig(zn);var Vn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(t){"function"!==typeof t.invokeGuardedCallback&&r("197"),u=t.invokeGuardedCallback}},invokeGuardedCallback:function(t,e,n,r,o,i,a,s,c){u.apply(Vn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,r,o,i,a,s,u){if(Vn.invokeGuardedCallback.apply(this,arguments),Vn.hasCaughtError()){var c=Vn.clearCaughtError();Vn._hasRethrowError||(Vn._hasRethrowError=!0,Vn._rethrowError=c)}},rethrowCaughtError:function(){return c.apply(Vn,arguments)},hasCaughtError:function(){return Vn._hasCaughtError},clearCaughtError:function(){if(Vn._hasCaughtError){var t=Vn._caughtError;return Vn._caughtError=null,Vn._hasCaughtError=!1,t}r("198")}},Yn=null,Xn={},Hn=[],Wn={},Kn={},Jn={},Qn=Object.freeze({plugins:Hn,eventNameDispatchConfigs:Wn,registrationNameModules:Kn,registrationNameDependencies:Jn,possibleRegistrationNames:null,injectEventPluginOrder:p,injectEventPluginsByName:h}),Zn=null,$n=null,tr=null,er=null,nr={injectEventPluginOrder:p,injectEventPluginsByName:h},rr=Object.freeze({injection:nr,getListener:b,extractEvents:w,enqueueEvents:x,processEventQueue:E}),or=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+or,ar="__reactEventHandlers$"+or,sr=Object.freeze({precacheFiberNode:function(t,e){e[ir]=t},getClosestInstanceFromNode:C,getInstanceFromNode:function(t){return t=t[ir],!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:I,getFiberCurrentPropsFromNode:N,updateFiberProps:function(t,e){t[ar]=e}}),ur=Object.freeze({accumulateTwoPhaseDispatches:A,accumulateTwoPhaseDispatchesSkipTarget:function(t){y(t,L)},accumulateEnterLeaveDispatches:k,accumulateDirectDispatches:function(t){y(t,R)}}),cr=null,lr={_root:null,_startText:null,_fallbackText:null},fr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),pr={type:null,target:null,currentTarget:xn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};wn(B.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=xn.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=xn.thatReturnsTrue)},persist:function(){this.isPersistent=xn.thatReturnsTrue},isPersistent:xn.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<fr.length;e++)this[fr[e]]=null}}),B.Interface=pr,B.augmentClass=function(t,e){function n(){}n.prototype=this.prototype;var r=new n;wn(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=wn({},this.Interface,e),t.augmentClass=this.augmentClass,z(t)},z(B),B.augmentClass(G,{data:null}),B.augmentClass(V,{data:null});var hr=[9,13,27,32],dr=bn.canUseDOM&&"CompositionEvent"in window,gr=null;bn.canUseDOM&&"documentMode"in document&&(gr=document.documentMode);var yr;if(yr=bn.canUseDOM&&"TextEvent"in window&&!gr){var mr=window.opera;yr=!("object"===typeof mr&&"function"===typeof mr.version&&12>=parseInt(mr.version(),10))}var vr,_r=yr,br=bn.canUseDOM&&(!dr||gr&&8<gr&&11>=gr),wr=String.fromCharCode(32),xr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Er=!1,Cr=!1,Ir={eventTypes:xr,extractEvents:function(t,e,n,r){var o;if(dr)t:{switch(t){case"topCompositionStart":var i=xr.compositionStart;break t;case"topCompositionEnd":i=xr.compositionEnd;break t;case"topCompositionUpdate":i=xr.compositionUpdate;break t}i=void 0}else Cr?Y(t,n)&&(i=xr.compositionEnd):"topKeyDown"===t&&229===n.keyCode&&(i=xr.compositionStart);return i?(br&&(Cr||i!==xr.compositionStart?i===xr.compositionEnd&&Cr&&(o=F()):(lr._root=r,lr._startText=j(),Cr=!0)),i=G.getPooled(i,e,n,r),o?i.data=o:null!==(o=X(n))&&(i.data=o),A(i),o=i):o=null,(t=_r?H(t,n):W(t,n))?(e=V.getPooled(xr.beforeInput,e,n,r),e.data=t,A(e)):e=null,[o,e]}},Nr=null,Sr=null,Pr=null,Or={injectFiberControlledHostComponent:function(t){Nr=t}},Mr=Object.freeze({injection:Or,enqueueStateRestore:J,restoreStateIfNeeded:Q}),Lr=!1,Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};bn.canUseDOM&&(vr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Rr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ar=null,kr=null,Dr=!1;bn.canUseDOM&&(Dr=nt("input")&&(!document.documentMode||9<document.documentMode));var Fr={eventTypes:Rr,_isInputEventSupported:Dr,extractEvents:function(t,e,n,r){var o=e?I(e):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=lt;else if(tt(o))if(Dr)a=yt;else{a=dt;var s=ht}else!(i=o.nodeName)||"input"!==i.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type||(a=gt);if(a&&(a=a(t,e)))return st(a,n,r);s&&s(t,o,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||o._wrapperState)&&t.controlled&&"number"===o.type&&(t=""+o.value,o.getAttribute("value")!==t&&o.setAttribute("value",t))}};B.augmentClass(mt,{view:null,detail:null});var jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};mt.augmentClass(bt,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:_t,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}});var Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},qr={eventTypes:Br,extractEvents:function(t,e,n,r){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?C(e):null):t=null,t===e)return null;var i=null==t?o:I(t);o=null==e?o:I(e);var a=bt.getPooled(Br.mouseLeave,t,n,r);return a.type="mouseleave",a.target=i,a.relatedTarget=o,n=bt.getPooled(Br.mouseEnter,e,n,r),n.type="mouseenter",n.target=o,n.relatedTarget=i,k(a,n,t,e),[a,n]}},Ur=_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zr=[],Gr=!0,Vr=void 0,Yr=Object.freeze({get _enabled(){return Gr},get _handleTopLevel(){return Vr},setHandleTopLevel:function(t){Vr=t},setEnabled:Ot,isEnabled:function(){return Gr},trapBubbledEvent:Mt,trapCapturedEvent:Lt,dispatchEvent:Tt}),Xr={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionend:Rt("Transition","TransitionEnd")},Hr={},Wr={};bn.canUseDOM&&(Wr=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);var Kr={topAbort:"abort",topAnimationEnd:At("animationend")||"animationend",topAnimationIteration:At("animationiteration")||"animationiteration",topAnimationStart:At("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:At("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Jr={},Qr=0,Zr="_reactListenersID"+(""+Math.random()).slice(2),$r=bn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,to={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},eo=null,no=null,ro=null,oo=!1,io={eventTypes:to,extractEvents:function(t,e,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){t:{i=kt(i),o=Jn.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break t}}i=!0}o=!i}if(o)return null;switch(i=e?I(e):window,t){case"topFocus":(tt(i)||"true"===i.contentEditable)&&(eo=i,no=e,ro=null);break;case"topBlur":ro=no=eo=null;break;case"topMouseDown":oo=!0;break;case"topContextMenu":case"topMouseUp":return oo=!1,Bt(n,r);case"topSelectionChange":if($r)break;case"topKeyDown":case"topKeyUp":return Bt(n,r)}return null}};B.augmentClass(qt,{animationName:null,elapsedTime:null,pseudoElement:null}),B.augmentClass(Ut,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mt.augmentClass(zt,{relatedTarget:null});var ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},so={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};mt.augmentClass(Vt,{key:function(t){if(t.key){var e=ao[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Gt(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?so[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:_t,charCode:function(t){return"keypress"===t.type?Gt(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Gt(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),bt.augmentClass(Yt,{dataTransfer:null}),mt.augmentClass(Xt,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:_t}),B.augmentClass(Ht,{propertyName:null,elapsedTime:null,pseudoElement:null}),bt.augmentClass(Wt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});var uo={},co={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e;e="top"+e,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[e]},uo[t]=n,co[e]=n});var lo={eventTypes:uo,extractEvents:function(t,e,n,r){var o=co[t];if(!o)return null;switch(t){case"topKeyPress":if(0===Gt(n))return null;case"topKeyDown":case"topKeyUp":t=Vt;break;case"topBlur":case"topFocus":t=zt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=bt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=Yt;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=Xt;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=qt;break;case"topTransitionEnd":t=Ht;break;case"topScroll":t=mt;break;case"topWheel":t=Wt;break;case"topCopy":case"topCut":case"topPaste":t=Ut;break;default:t=B}return e=t.getPooled(o,e,n,r),A(e),e}};Vr=function(t,e,n,r){t=w(t,e,n,r),x(t),E(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Zn=sr.getFiberCurrentPropsFromNode,$n=sr.getInstanceFromNode,tr=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:lo,EnterLeaveEventPlugin:qr,ChangeEventPlugin:Fr,SelectEventPlugin:io,BeforeInputEventPlugin:Ir});var fo=[],po=-1;new Set;var ho={current:Pn},go={current:!1},yo=Pn,mo=null,vo=null,_o="function"===typeof Symbol&&Symbol.for,bo=_o?Symbol.for("react.element"):60103,wo=_o?Symbol.for("react.call"):60104,xo=_o?Symbol.for("react.return"):60105,Eo=_o?Symbol.for("react.portal"):60106,Co=_o?Symbol.for("react.fragment"):60107,Io="function"===typeof Symbol&&Symbol.iterator,No=Array.isArray,So=Se(!0),Po=Se(!1),Oo={},Mo=Object.freeze({default:Ae}),Lo=Mo&&Ae||Mo,To=Lo.default?Lo.default:Lo,Ro="object"===typeof performance&&"function"===typeof performance.now,Ao=void 0;Ao=Ro?function(){return performance.now()}:function(){return Date.now()};var ko=void 0,Do=void 0;if(bn.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Fo,jo=null,Bo=!1,qo=-1,Uo=!1,zo=0,Go=33,Vo=33;Fo=Ro?{didTimeout:!1,timeRemaining:function(){var t=zo-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=zo-Date.now();return 0<t?t:0}};var Yo="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Yo){if(Bo=!1,t=Ao(),0>=zo-t){if(!(-1!==qo&&qo<=t))return void(Uo||(Uo=!0,requestAnimationFrame(Xo)));Fo.didTimeout=!0}else Fo.didTimeout=!1;qo=-1,t=jo,jo=null,null!==t&&t(Fo)}},!1);var Xo=function(t){Uo=!1;var e=t-zo+Vo;e<Vo&&Go<Vo?(8>e&&(e=8),Vo=e<Go?Go:e):Go=e,zo=t+Vo,Bo||(Bo=!0,window.postMessage(Yo,"*"))};ko=function(t,e){return jo=t,null!=e&&"number"===typeof e.timeout&&(qo=Ao()+e.timeout),Uo||(Uo=!0,requestAnimationFrame(Xo)),0},Do=function(){jo=null,Bo=!1,qo=-1}}else ko=window.requestIdleCallback,Do=window.cancelIdleCallback;else ko=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0}})})},Do=function(t){clearTimeout(t)};var Ho=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wo={},Ko={},Jo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Qo=void 0,Zo=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==Jo.svg||"innerHTML"in t)t.innerHTML=e;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+e+"</svg>",e=Qo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),$o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys($o).forEach(function(t){ti.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$o[e]=$o[t]})});var ei=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ni=Jo.html,ri=xn.thatReturns(""),oi={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ii=Object.freeze({createElement:sn,createTextNode:un,setInitialProperties:cn,diffProperties:ln,updateProperties:fn,diffHydratedProperties:pn,diffHydratedText:hn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(Ge(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var i=N(o);i||r("90"),at(o),Ge(o,i)}}}break;case"textarea":Qe(t,n);break;case"select":null!=(e=n.value)&&He(t,!!n.multiple,e,!1)}}});Or.injectFiberControlledHostComponent(ii);var ai=null,si=null,ui=To({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tn(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tn(t,e)}return t},getChildHostContext:function(t,e){return tn(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){ai=Gr;var t=Cn();if(jt(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{e.nodeType,o.nodeType}catch(t){e=null;break t}var i=0,a=-1,s=-1,u=0,c=0,l=t,f=null;e:for(;;){for(var p;l!==e||0!==r&&3!==l.nodeType||(a=i+r),l!==o||0!==n&&3!==l.nodeType||(s=i+n),3===l.nodeType&&(i+=l.nodeValue.length),null!==(p=l.firstChild);)f=l,l=p;for(;;){if(l===t)break e;if(f===e&&++u===r&&(a=i),f===o&&++c===n&&(s=i),null!==(p=l.nextSibling))break;l=f,f=l.parentNode}l=p}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;si={focusedElem:t,selectionRange:e},Ot(!1)},resetAfterCommit:function(){var t=si,e=Cn(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&Nn(document.documentElement,n)){if(jt(n))if(e=r.start,t=r.end,void 0===t&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(window.getSelection){e=window.getSelection();var o=n[D()].length;t=Math.min(r.start,o),r=void 0===r.end?t:Math.min(r.end,o),!e.extend&&t>r&&(o=r,r=t,t=o),o=Ft(n,t);var i=Ft(n,r);if(o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)){var a=document.createRange();a.setStart(o.node,o.offset),e.removeAllRanges(),t>r?(e.addRange(a),e.extend(i.node,i.offset)):(a.setEnd(i.node,i.offset),e.addRange(a))}}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(Sn(n),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}si=null,Ot(ai),ai=null},createInstance:function(t,e,n,r,o){return t=sn(t,e,n,r),t[ir]=o,t[ar]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,r){cn(t,e,n,r);t:{switch(e){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t}t=!1}return t},prepareUpdate:function(t,e,n,r,o){return ln(t,e,n,r,o)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,r){return t=un(t,e),t[ir]=r,t},now:Ao,mutation:{commitMount:function(t){t.focus()},commitUpdate:function(t,e,n,r,o){t[ar]=o,fn(t,e,n,r,o)},resetTextContent:function(t){t.textContent=""},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,r,o,i){return t[ir]=i,t[ar]=n,pn(t,e,n,o,r)},hydrateTextInstance:function(t,e,n){return t[ir]=n,hn(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:ko,cancelDeferredCallback:Do,useSyncScheduling:!0});Z=ui.batchedUpdates,vn.prototype.render=function(t,e){ui.updateContainer(t,this._reactRootContainer,null,e)},vn.prototype.unmount=function(t){ui.updateContainer(null,this._reactRootContainer,null,t)};var ci={createPortal:mn,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(e)return ui.findHostInstance(e);"function"===typeof t.render?r("188"):r("213",Object.keys(t))},hydrate:function(t,e,n){return yn(null,t,e,!0,n)},render:function(t,e,n){return yn(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,o){return(null==t||void 0===t._reactInternalFiber)&&r("38"),yn(t,e,n,!1,o)},unmountComponentAtNode:function(t){return dn(t)||r("40"),!!t._reactRootContainer&&(ui.unbatchedUpdates(function(){yn(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:mn,unstable_batchedUpdates:$,unstable_deferredUpdates:ui.deferredUpdates,flushSync:ui.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:Qn,EventPropagators:ur,ReactControlledComponent:Mr,ReactDOMComponentTree:sr,ReactDOMEventListener:Yr}};ui.injectIntoDevTools({findFiberByHostInstance:C,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var li=Object.freeze({default:ci}),fi=li&&ci||li;t.exports=fi.default?fi.default:fi},function(t,e,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},function(t,e,n){"use strict";var r=n(14),o={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},function(t,e,n){"use strict";function r(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=r},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function o(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!o(t)&&(o(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var o=n(59);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t)&&3==t.nodeType}var o=n(60);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"===typeof n.Node?t instanceof n.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}t.exports=r},function(t,e,n){"use strict";function r(t){try{t.focus()}catch(t){}}t.exports=r},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(6),c=n(93),l=(n.n(c),n(94)),f=n(95),p=n(96),h=n(107),d=n(109),g=n(110),y=n(115),m=n(116),v=n(123),_=n(126),b=(n(4),n(39),n(2)),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),w(e,[{key:"render",value:function(){return s.a.createElement(u.b,null,s.a.createElement("div",null,s.a.createElement(l.a,null),s.a.createElement(u.d,{exact:!0,path:"/",component:p.a}),s.a.createElement(u.d,{path:b.a.routes.check_if_registered,component:h.a}),s.a.createElement(u.d,{path:b.a.routes.is_registered,component:d.a}),s.a.createElement(u.d,{path:b.a.routes.date_of_birth,component:g.a}),s.a.createElement(u.d,{path:b.a.routes.preschool_group+"/:monthOfBirth/:yearOfBirth",component:y.a}),s.a.createElement(u.d,{path:b.a.routes.address+"/:groupCode",component:m.a}),s.a.createElement(u.d,{path:b.a.routes.results+"/:groupCode/:geocodedAddressLng/:geocodedAddressLat/:geocodedAddress",component:v.a}),s.a.createElement(u.d,{path:b.a.routes.register+"/:groupCode",component:_.a}),s.a.createElement(f.a,null)))}}]),e}(a.Component);e.a=x},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n.n(a),u=n(0),c=n.n(u),l=n(3),f=n.n(l),p=n(68),h=n.n(p),d=n(22),g=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(u))),i.history=h()(i.props),a=n,o(i,a)}return i(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);g.propTypes={basename:f.a.string,forceRefresh:f.a.bool,getUserConfirmation:f.a.func,keyLength:f.a.number,children:f.a.node},e.a=g},function(t,e,n){"use strict";var r=n(14),o=n(66),i=n(67);t.exports=function(){function t(t,e,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,u){if(o(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,s,u],f=0;c=new Error(e.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(t){};t.exports=r},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),s=r(a),u=n(5),c=r(u),l=n(20),f=n(10),p=n(21),h=r(p),d=n(30),g=function(){try{return window.history.state||{}}catch(t){return{}}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Browser history needs a DOM");var e=window.history,n=(0,d.supportsHistory)(),r=!(0,d.supportsPopStateOnHashChange)(),a=t.forceRefresh,u=void 0!==a&&a,p=t.getUserConfirmation,y=void 0===p?d.getConfirmation:p,m=t.keyLength,v=void 0===m?6:m,_=t.basename?(0,f.stripTrailingSlash)((0,f.addLeadingSlash)(t.basename)):"",b=function(t){var e=t||{},n=e.key,r=e.state,o=window.location,i=o.pathname,a=o.search,u=o.hash,c=i+a+u;return(0,s.default)(!_||(0,f.hasBasename)(c,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+_+'".'),_&&(c=(0,f.stripBasename)(c,_)),(0,l.createLocation)(c,r,n)},w=function(){return Math.random().toString(36).substr(2,v)},x=(0,h.default)(),E=function(t){i(z,t),z.length=e.length,x.notifyListeners(z.location,z.action)},C=function(t){(0,d.isExtraneousPopstateEvent)(t)||S(b(t.state))},I=function(){S(b(g()))},N=!1,S=function(t){if(N)N=!1,E();else{x.confirmTransitionTo(t,"POP",y,function(e){e?E({action:"POP",location:t}):P(t)})}},P=function(t){var e=z.location,n=M.indexOf(e.key);-1===n&&(n=0);var r=M.indexOf(t.key);-1===r&&(r=0);var o=n-r;o&&(N=!0,A(o))},O=b(g()),M=[O.key],L=function(t){return _+(0,f.createPath)(t)},T=function(t,r){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":o(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,l.createLocation)(t,r,w(),z.location);x.confirmTransitionTo(i,"PUSH",y,function(t){if(t){var r=L(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),u)window.location.href=r;else{var c=M.indexOf(z.location.key),l=M.slice(0,-1===c?0:c+1);l.push(i.key),M=l,E({action:"PUSH",location:i})}else(0,s.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(t,r){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":o(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,l.createLocation)(t,r,w(),z.location);x.confirmTransitionTo(i,"REPLACE",y,function(t){if(t){var r=L(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),u)window.location.replace(r);else{var c=M.indexOf(z.location.key);-1!==c&&(M[c]=i.key),E({action:"REPLACE",location:i})}else(0,s.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},A=function(t){e.go(t)},k=function(){return A(-1)},D=function(){return A(1)},F=0,j=function(t){F+=t,1===F?((0,d.addEventListener)(window,"popstate",C),r&&(0,d.addEventListener)(window,"hashchange",I)):0===F&&((0,d.removeEventListener)(window,"popstate",C),r&&(0,d.removeEventListener)(window,"hashchange",I))},B=!1,q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=x.setPrompt(t);return B||(j(1),B=!0),function(){return B&&(B=!1,j(-1)),e()}},U=function(t){var e=x.appendListener(t);return j(1),function(){j(-1),e()}},z={length:e.length,action:"POP",location:O,createHref:L,push:T,replace:R,go:A,goBack:k,goForward:D,block:q,listen:U};return z};e.default=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n.n(a),u=n(0),c=n.n(u),l=n(3),f=n.n(l),p=n(70),h=n.n(p),d=n(22),g=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(u))),i.history=h()(i.props),a=n,o(i,a)}return i(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);g.propTypes={basename:f.a.string,getUserConfirmation:f.a.func,hashType:f.a.oneOf(["hashbang","noslash","slash"]),children:f.a.node},e.a=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1),a=r(i),s=n(5),u=r(s),c=n(20),l=n(10),f=n(21),p=r(f),h=n(30),d={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,l.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:l.stripLeadingSlash,decodePath:l.addLeadingSlash},slash:{encodePath:l.addLeadingSlash,decodePath:l.addLeadingSlash}},g=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},y=function(t){return window.location.hash=t},m=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(h.canUseDOM,"Hash history needs a DOM");var e=window.history,n=(0,h.supportsGoWithoutReloadUsingHash)(),r=t.getUserConfirmation,i=void 0===r?h.getConfirmation:r,s=t.hashType,f=void 0===s?"slash":s,v=t.basename?(0,l.stripTrailingSlash)((0,l.addLeadingSlash)(t.basename)):"",_=d[f],b=_.encodePath,w=_.decodePath,x=function(){var t=w(g());return(0,a.default)(!v||(0,l.hasBasename)(t,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+v+'".'),v&&(t=(0,l.stripBasename)(t,v)),(0,c.createLocation)(t)},E=(0,p.default)(),C=function(t){o(Y,t),Y.length=e.length,E.notifyListeners(Y.location,Y.action)},I=!1,N=null,S=function(){var t=g(),e=b(t);if(t!==e)m(e);else{var n=x(),r=Y.location;if(!I&&(0,c.locationsAreEqual)(r,n))return;if(N===(0,l.createPath)(n))return;N=null,P(n)}},P=function(t){if(I)I=!1,C();else{E.confirmTransitionTo(t,"POP",i,function(e){e?C({action:"POP",location:t}):O(t)})}},O=function(t){var e=Y.location,n=R.lastIndexOf((0,l.createPath)(e));-1===n&&(n=0);var r=R.lastIndexOf((0,l.createPath)(t));-1===r&&(r=0);var o=n-r;o&&(I=!0,F(o))},M=g(),L=b(M);M!==L&&m(L);var T=x(),R=[(0,l.createPath)(T)],A=function(t){return"#"+b(v+(0,l.createPath)(t))},k=function(t,e){(0,a.default)(void 0===e,"Hash history cannot push state; it is ignored");var n=(0,c.createLocation)(t,void 0,void 0,Y.location);E.confirmTransitionTo(n,"PUSH",i,function(t){if(t){var e=(0,l.createPath)(n),r=b(v+e);if(g()!==r){N=e,y(r);var o=R.lastIndexOf((0,l.createPath)(Y.location)),i=R.slice(0,-1===o?0:o+1);i.push(e),R=i,C({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),C()}})},D=function(t,e){(0,a.default)(void 0===e,"Hash history cannot replace state; it is ignored");var n=(0,c.createLocation)(t,void 0,void 0,Y.location);E.confirmTransitionTo(n,"REPLACE",i,function(t){if(t){var e=(0,l.createPath)(n),r=b(v+e);g()!==r&&(N=e,m(r));var o=R.indexOf((0,l.createPath)(Y.location));-1!==o&&(R[o]=e),C({action:"REPLACE",location:n})}})},F=function(t){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},j=function(){return F(-1)},B=function(){return F(1)},q=0,U=function(t){q+=t,1===q?(0,h.addEventListener)(window,"hashchange",S):0===q&&(0,h.removeEventListener)(window,"hashchange",S)},z=!1,G=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=E.setPrompt(t);return z||(U(1),z=!0),function(){return z&&(z=!1,U(-1)),e()}},V=function(t){var e=E.appendListener(t);return U(1),function(){U(-1),e()}},Y={length:e.length,action:"POP",location:T,createHref:A,push:k,replace:D,go:F,goBack:j,goForward:B,block:G,listen:V};return Y};e.default=v},function(t,e,n){"use strict";var r=n(72);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n.n(a),u=n(0),c=n.n(u),l=n(3),f=n.n(l),p=n(73),h=n.n(p),d=n(23),g=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(u))),i.history=h()(i.props),a=n,o(i,a)}return i(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);g.propTypes={initialEntries:f.a.array,initialIndex:f.a.number,getUserConfirmation:f.a.func,keyLength:f.a.number,children:f.a.node},e.a=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),s=r(a),u=n(10),c=n(20),l=n(21),f=r(l),p=function(t,e,n){return Math.min(Math.max(t,e),n)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,n=t.initialEntries,r=void 0===n?["/"]:n,a=t.initialIndex,l=void 0===a?0:a,h=t.keyLength,d=void 0===h?6:h,g=(0,f.default)(),y=function(t){i(O,t),O.length=O.entries.length,g.notifyListeners(O.location,O.action)},m=function(){return Math.random().toString(36).substr(2,d)},v=p(l,0,r.length-1),_=r.map(function(t){return"string"===typeof t?(0,c.createLocation)(t,void 0,m()):(0,c.createLocation)(t,void 0,t.key||m())}),b=u.createPath,w=function(t,n){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":o(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,c.createLocation)(t,n,m(),O.location);g.confirmTransitionTo(r,"PUSH",e,function(t){if(t){var e=O.index,n=e+1,o=O.entries.slice(0);o.length>n?o.splice(n,o.length-n,r):o.push(r),y({action:"PUSH",location:r,index:n,entries:o})}})},x=function(t,n){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":o(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,c.createLocation)(t,n,m(),O.location);g.confirmTransitionTo(r,"REPLACE",e,function(t){t&&(O.entries[O.index]=r,y({action:"REPLACE",location:r}))})},E=function(t){var n=p(O.index+t,0,O.entries.length-1),r=O.entries[n];g.confirmTransitionTo(r,"POP",e,function(t){t?y({action:"POP",location:r,index:n}):y()})},C=function(){return E(-1)},I=function(){return E(1)},N=function(t){var e=O.index+t;return e>=0&&e<O.entries.length},S=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g.setPrompt(t)},P=function(t){return g.appendListener(t)},O={length:_.length,action:"POP",location:_[v],index:v,entries:_,createHref:b,push:w,replace:x,go:E,goBack:C,goForward:I,canGo:N,block:S,listen:P};return O};e.default=h},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var o=n(0),i=n.n(o),a=n(3),s=n.n(a),u=n(32),c=n(31),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(t){var e=t.to,n=t.exact,o=t.strict,a=t.location,s=t.activeClassName,p=t.className,h=t.activeStyle,d=t.style,g=t.isActive,y=t.ariaCurrent,m=r(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return i.a.createElement(u.a,{path:"object"===("undefined"===typeof e?"undefined":f(e))?e.pathname:e,exact:n,strict:o,location:a,children:function(t){var n=t.location,r=t.match,o=!!(g?g(r,n):r);return i.a.createElement(c.a,l({to:e,className:o?[p,s].filter(function(t){return t}).join(" "):p,style:o?l({},d,h):d,"aria-current":o&&y},m))}})};p.propTypes={to:c.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,ariaCurrent:s.a.oneOf(["page","step","location","true"])},p.defaultProps={activeClassName:"active",ariaCurrent:"true"}},function(t,e,n){function r(t,e){for(var n,r=[],o=0,i=0,a="",s=e&&e.delimiter||"/";null!=(n=v.exec(t));){var l=n[0],f=n[1],p=n.index;if(a+=t.slice(i,p),i=p+l.length,f)a+=f[1];else{var h=t[i],d=n[2],g=n[3],y=n[4],m=n[5],_=n[6],b=n[7];a&&(r.push(a),a="");var w=null!=d&&null!=h&&h!==d,x="+"===_||"*"===_,E="?"===_||"*"===_,C=n[2]||s,I=y||m;r.push({name:g||o++,prefix:d||"",delimiter:C,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:I?c(I):b?".*":"[^"+u(C)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function o(t,e){return s(r(t,e))}function i(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",s=n||{},u=r||{},c=u.pretty?i:encodeURIComponent,l=0;l<t.length;l++){var f=t[l];if("string"!==typeof f){var p,h=s[f.name];if(null==h){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(m(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(p=c(h[d]),!e[l].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===d?f.prefix:f.delimiter)+p}}else{if(p=f.asterisk?a(h):c(h),!e[l].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');o+=f.prefix+p}}else o+=f}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function p(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}function h(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(y(t[o],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}function d(t,e,n){return g(r(t,n),e,n)}function g(t,e,n){m(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,o=!1!==n.end,i="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)i+=u(s);else{var c=u(s.prefix),p="(?:"+s.pattern+")";e.push(s),s.repeat&&(p+="(?:"+c+p+")*"),p=s.optional?s.partial?c+"("+p+")?":"(?:"+c+"("+p+"))?":c+"("+p+")",i+=p}}var h=u(n.delimiter||"/"),d=i.slice(-h.length)===h;return r||(i=(d?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=o?"$":r&&d?"":"(?="+h+"|$)",l(new RegExp("^"+i,f(n)),e)}function y(t,e,n){return m(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?p(t,e):m(t)?h(t,e,n):d(t,e,n)}var m=n(76);t.exports=y,t.exports.parse=r,t.exports.compile=o,t.exports.tokensToFunction=s,t.exports.tokensToRegExp=g;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=n(78);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(3),c=n.n(u),l=n(5),f=n.n(l),p=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(s.a.Component);p.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},p.defaultProps={when:!0},p.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},e.a=p},function(t,e,n){"use strict";var r=n(80);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(3),c=n.n(u),l=n(1),f=n.n(l),p=n(5),h=n.n(p),d=n(81),g=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(d.a)(t.to),n=Object(d.a)(this.props.to);if(Object(d.b)(e,n))return void f()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},e.prototype.perform=function(){var t=this.context.router.history,e=this.props,n=e.push,r=e.to;n?t.push(r):t.replace(r)},e.prototype.render=function(){return null},e}(s.a.Component);g.propTypes={push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},g.defaultProps={push:!1},g.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},e.a=g},function(t,e,n){"use strict";var r=(n(82),n(83),n(84),n(15));n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b});n(11)},function(t,e,n){"use strict";var r=n(1),o=(n.n(r),n(5));n.n(o),n(15),n(11),n(25),n(34),"function"===typeof Symbol&&Symbol.iterator,Object.assign},function(t,e,n){"use strict";var r=n(1),o=(n.n(r),n(5)),i=(n.n(o),n(15),n(11));n(25),n(34),Object.assign,i.f,i.a,i.a,i.a},function(t,e,n){"use strict";var r=n(1);n.n(r),n(11),n(15),n(25),"function"===typeof Symbol&&Symbol.iterator,Object.assign},function(t,e,n){"use strict";var r=n(86);r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(0),p=n.n(f),h=n(3),d=n.n(h),g=n(10),y=(n.n(g),n(23)),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=function(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,o=void 0===r?"":r,i=t.hash,a=void 0===i?"":i;return{pathname:n,search:"?"===o?"":o,hash:"#"===a?"":a}},_=function(t,e){return t?m({},e,{pathname:Object(g.addLeadingSlash)(t)+e.pathname}):e},b=function(t,e){if(!t)return e;var n=Object(g.addLeadingSlash)(t);return 0!==e.pathname.indexOf(n)?e:m({},e,{pathname:e.pathname.substr(n.length)})},w=function(t){return"string"===typeof t?Object(g.parsePath)(t):v(t)},x=function(t){return"string"===typeof t?t:Object(g.createPath)(t)},E=function(t){return function(){l()(!1,"You cannot %s with <StaticRouter>",t)}},C=function(){},I=function(t){function e(){var n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,t.call.apply(t,[this].concat(u))),r.createHref=function(t){return Object(g.addLeadingSlash)(r.props.basename+x(t))},r.handlePush=function(t){var e=r.props,n=e.basename,o=e.context;o.action="PUSH",o.location=_(n,w(t)),o.url=x(o.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,o=e.context;o.action="REPLACE",o.location=_(n,w(t)),o.url=x(o.location)},r.handleListen=function(){return C},r.handleBlock=function(){return C},a=n,i(r,a)}return a(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){u()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),o=r(t,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:b(e,w(n)),push:this.handlePush,replace:this.handleReplace,go:E("go"),goBack:E("goBack"),goForward:E("goForward"),listen:this.handleListen,block:this.handleBlock};return p.a.createElement(y.a,m({},o,{history:i}))},e}(p.a.Component);I.propTypes={basename:d.a.string,context:d.a.object.isRequired,location:d.a.oneOfType([d.a.string,d.a.object])},I.defaultProps={basename:"",location:"/"},I.childContextTypes={router:d.a.object.isRequired},e.a=I},function(t,e,n){"use strict";var r=n(88);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(3),c=n.n(u),l=n(1),f=n.n(l),p=n(5),h=n.n(p),d=n(24),g=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){f()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),f()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,o=void 0;return s.a.Children.forEach(e,function(e){if(s.a.isValidElement(e)){var i=e.props,a=i.path,u=i.exact,c=i.strict,l=i.sensitive,f=i.from,p=a||f;null==r&&(o=e,r=p?Object(d.a)(n.pathname,{path:p,exact:u,strict:c,sensitive:l}):t.match)}}),r?s.a.cloneElement(o,{location:n,computedMatch:r}):null},e}(s.a.Component);g.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},g.propTypes={children:c.a.node,location:c.a.object},e.a=g},function(t,e,n){"use strict";var r=n(24);r.a},function(t,e,n){"use strict";var r=n(91);e.a=r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var o=n(0),i=n.n(o),a=n(3),s=n.n(a),u=n(92),c=n.n(u),l=n(33),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p=function(t){var e=function(e){var n=e.wrappedComponentRef,o=r(e,["wrappedComponentRef"]);return i.a.createElement(l.a,{render:function(e){return i.a.createElement(t,f({},o,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:s.a.func},c()(e,t)};e.a=p},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function u(c,l,f){if("string"!==typeof l){if(s){var p=a(l);p&&p!==s&&u(c,p,f)}var h=r(l);o&&(h=h.concat(o(l)));for(var d=0;d<h.length;++d){var g=h[d];if(!t[g]&&!e[g]&&(!f||!f[g])){var y=i(l,g);try{n(c,g,y)}catch(t){}}}return c}return c}})},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return c});var a=n(0),s=n.n(a),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"alert alert-warning",role:"alert",style:{marginBottom:0}},s.a.createElement("strong",null,"Aten\xe7\xe3o!")," Estamos em fase de testes. Conhe\xe7a as melhorias previstas e envie sugest\xf5es ",s.a.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdt8YXI3i7RdolEMh-TX1oes5zGpSnbE3Sy3-ioVLJTqvgGVQ/viewform",taget:"_blank",style:{textDecoration:"underline"}},"aqui"),".")}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(6),c=n(4),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"componentWillUpdate",value:function(t){var e=t.location,n=t.history,r=window.gtag;e.pathname!==this.props.location.pathname&&"PUSH"===n.action&&"function"===typeof r&&r("config",c.a.ga_tracking_id,{page_title:document.title,page_location:window.location.href,page_path:e.pathname})}},{key:"render",value:function(){return null}}]),e}(s.a.Component);e.a=Object(u.e)(f)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var a=n(0),s=n.n(a),u=n(2),c=n(12),l=n(98),f=(n(35),n(101)),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),p(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(l.a,{paragraphs:u.a.greeting.paragraphs}),s.a.createElement(c.a,{title:u.a.actions.start_now,subtitle:u.a.actions.click_continue,link:u.a.routes.check_if_registered}),s.a.createElement(f.a,null))}}]),e}(s.a.Component)},function(t,e){t.exports={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return l});var a=n(0),s=n.n(a),u=n(35),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),c(e,[{key:"render",value:function(){var t=void 0;return this.props.paragraphs&&(t=this.props.paragraphs.map(function(t,e){return s.a.createElement("li",{key:"p_"+e},t)})),s.a.createElement("div",{className:"banner"},s.a.createElement(u.a,null),s.a.createElement("hr",null),s.a.createElement("ol",{className:"list-ordered"},t))}}]),e}(s.a.Component)},function(t,e,n){t.exports=n.p+"static/media/logo.3c15ad99.svg"},function(t,e,n){t.exports=n.p+"static/media/logo.2cbbc96a.png"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return v});var a=n(0),s=n.n(a),u=n(4),c=n(102),l=n.n(c),f=n(103),p=n.n(f),h=n(104),d=n.n(h),g=n(105),y=(n.n(g),n(106)),m=(n.n(y),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),v=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),m(e,[{key:"render",value:function(){var t=[{img:d.a,url:u.a.url_patio},{img:l.a,url:u.a.url_unesco},{img:p.a,url:u.a.url_sme}],e=t.map(function(t,e){return s.a.createElement("div",{className:"col-xs-4 logo-div",key:"footer_div_"+e},s.a.createElement("a",{href:t.url},s.a.createElement("div",{className:"logo-div",style:{backgroundImage:"url("+t.img+")"}})))});return s.a.createElement("div",{className:"row footer"},e)}}]),e}(s.a.Component)},function(t,e,n){t.exports=n.p+"static/media/logo-unesco.30969c42.png"},function(t,e,n){t.exports=n.p+"static/media/logo-sme.3338a837.png"},function(t,e,n){t.exports=n.p+"static/media/logo-patio.39e0b4eb.png"},function(t,e,n){t.exports=n.p+"static/media/footer-mob.c34d2d52.png"},function(t,e,n){t.exports=n.p+"static/media/footer-desk.27238d4e.png"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var a=n(0),s=n.n(a),u=n(2),c=n(8),l=n(12),f=n(9),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),p(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(c.a,null),s.a.createElement(f.a,{title:u.a.check_if_registered.title}),s.a.createElement(l.a,{title:u.a.actions.no,link:u.a.routes.date_of_birth}),s.a.createElement(l.a,{title:u.a.actions.yes,link:u.a.routes.is_registered}))}}]),e}(s.a.Component)},function(t,e){t.exports={prefix:"fas",iconName:"chevron-left",icon:[320,512,[],"f053","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return d});var a=n(0),s=n.n(a),u=n(2),c=n(8),l=n(9),f=n(7),p=n(12),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),h(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(c.a,null),s.a.createElement(l.a,{title:u.a.is_registered.title}),s.a.createElement("a",{href:u.a.routes.check_registration_status},s.a.createElement(f.a,{title:u.a.actions.check_registration_status,subtitle:u.a.actions.current_position_explanation})),s.a.createElement(p.a,{title:u.a.actions.check_wait_today,subtitle:u.a.actions.you_can_check_other_address,link:u.a.routes.date_of_birth}))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var a=n(0),s=n.n(a),u=n(2),c=n(8),l=n(9),f=n(111),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),p(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(c.a,null),s.a.createElement(l.a,{title:u.a.date_of_birth.title,paragraphs:u.a.date_of_birth.paragraphs}),s.a.createElement(f.a,null))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return m});var a=n(0),s=n.n(a),u=n(6),c=n(7),l=n(36),f=n(2),p=(n(4),n(37)),h=(n(112),n(113)),d=n(114),g=n(38),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setMonth=function(t){n.setState({monthOfBirth:t.target.value},function(){void 0!==n.state.yearOfBirth&&n.setAge()})},n.setYear=function(t){n.setState({yearOfBirth:t.target.value},function(){void 0!==n.state.monthOfBirth&&n.setAge()})},n.state={monthOfBirth:void 0,yearOfBirth:void 0,preschoolGroup:null,preschoolGroupName:null,preschoolGroupCode:null,preeschoolCalcError:null,ageMsg:null},n.setMonth=n.setMonth.bind(n),n.setYear=n.setYear.bind(n),n}return i(e,t),y(e,[{key:"setAge",value:function(){var t=parseInt(this.state.monthOfBirth),e=parseInt(this.state.yearOfBirth),n=Object(p.a)(t,e),r=Object(g.a)(t,e),o={preschoolGroup:n,preschoolGroupName:n.dc_serie_ensino,preschoolGroupCode:n.serie,ageMsg:r};n.error?o.preeschoolCalcError=!0:o.preeschoolCalcError=!1,this.setState(o)}},{key:"render",value:function(){var t=(!this.state.monthOfBirth||this.state.yearOfBirth,this.state.preeschoolCalcError);this.state.preschoolGroupName;return s.a.createElement("div",null,s.a.createElement("select",{className:"default-select",id:"month-of-birth",value:this.state.monthOfBirth,onChange:this.setMonth},s.a.createElement("option",{value:""},f.a.messages.month_of_birth),Object(h.a)()),s.a.createElement("select",{className:"default-select",id:"year-of-birth",onChange:this.setYear},s.a.createElement("option",{value:""},f.a.messages.year_of_birth),Object(d.a)()),!1===t&&s.a.createElement(u.c,{to:{pathname:f.a.routes.preschool_group+"/"+this.state.monthOfBirth+"/"+this.state.yearOfBirth}},s.a.createElement(c.a,{title:f.a.actions.continue,onClick:this.handleClick})),!0===t&&this.state.ageMsg&&s.a.createElement(l.a,{title:this.state.ageMsg,paragraphs:[f.a.date_of_birth.not_in_preschool_age]}),!0===t&&!this.state.ageMsg&&s.a.createElement(l.a,{paragraphs:[f.a.date_of_birth.error_calculating_age]}))}}]),e}(s.a.Component)},function(t,e,n){"use strict"},function(t,e,n){"use strict";function r(){return a.a.months_list.map(function(t,e){return i.a.createElement("option",{key:"mo_"+e,value:e+1},t)})}e.a=r;var o=n(0),i=n.n(o),a=n(4)},function(t,e,n){"use strict";function r(){for(var t=a.a.current_year,e=a.a.max_preschool_age,n=t-e,r=[],o=[],s=n;s<=t;s++){r.push(s);var u=i.a.createElement("option",{key:"yo_"+s,value:s},s);o.push(u)}return o}e.a=r;var o=n(0),i=n.n(o),a=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return y});var a=n(0),s=n.n(a),u=n(6),c=n(8),l=n(9),f=n(7),p=n(2),h=n(37),d=n(38),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=parseInt(n.props.match.params.monthOfBirth),a=parseInt(n.props.match.params.yearOfBirth),s=Object(h.a)(i,a);return n.state={preschoolGroup:s,preschoolGroupName:s.dc_serie_ensino,preschoolGroupCode:s.serie},n}return i(e,t),g(e,[{key:"render",value:function(){var t=Object(d.a)(this.props.match.params.monthOfBirth,this.props.match.params.yearOfBirth),e=this.state.preschoolGroupName,n=e?[p.a.is_in_group_message(e)]:[];return s.a.createElement("div",null,s.a.createElement(c.a,null),s.a.createElement(l.a,{title:t,paragraphs:n}),s.a.createElement(u.c,{to:{pathname:p.a.routes.address+"/"+this.state.preschoolGroupCode}},s.a.createElement(f.a,{title:p.a.actions.continue})))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var a=n(0),s=n.n(a),u=n(2),c=n(8),l=n(9),f=n(117),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={groupCode:n.props.match.params.groupCode},n.handleAddressChange=n.handleAddressChange.bind(n),n}return i(e,t),p(e,[{key:"handleAddressChange",value:function(t,e,n,r){this.setState({inputAddress:t,geocodedAddress:e,geocodedAddressLat:n,geocodedAddressLng:r}),this.props.history.push({pathname:u.a.routes.results+"/"+this.state.groupCode+"/"+this.state.geocodedAddressLng+"/"+this.state.geocodedAddressLat+"/"+this.state.geocodedAddress})}},{key:"render",value:function(){this.state.inputAddress,this.state.geocodedAddress,this.state.geocodedAddressLat,this.state.geocodedAddressLng;return s.a.createElement("div",null,s.a.createElement(c.a,null),s.a.createElement(l.a,{title:u.a.address_input.title}),s.a.createElement(f.a,{onAddressChange:this.handleAddressChange}))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return g});var a=n(0),s=n.n(a),u=n(6),c=n(118),l=n.n(c),f=n(7),p=n(4),h=n(2),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleFormSubmit=function(t){t.preventDefault(),Object(c.geocodeByAddress)(n.state.inputAddress).then(function(t){n.setState({geocodedAddress:t[0].formatted_address}),Object(c.getLatLng)(t[0]).then(function(t){var e=t.lat,r=t.lng;n.setState({geocodedAddressLat:e,geocodedAddressLng:r}),n.props.onAddressChange(n.state.inputAddress,n.state.geocodedAddress,n.state.geocodedAddressLat,n.state.geocodedAddressLng)}).catch(function(t){return console.error("Error",t)})}).catch(function(t){return console.error("Error",t)})},n.state={inputAddress:"",geocodedAddress:"",geocodedAddressLat:"",geocodedAddressLng:""},n.onChange=function(t){return n.setState({inputAddress:t})},n.handleFormSubmit=n.handleFormSubmit.bind(n),n}return i(e,t),d(e,[{key:"render",value:function(){var t={location:new google.maps.LatLng(p.a.city_center.lat,p.a.city_center.lon),radius:2e4,types:["address"],componentRestrictions:{country:"br"},bounds:new google.maps.LatLngBounds(new google.maps.LatLng(p.a.city_bbox_s,p.a.city_bbox_w),new google.maps.LatLng(p.a.city_bbox_n,p.a.city_bbox_e)),strictBounds:!0},e={input:"autocomplete-input"},n={value:this.state.inputAddress,onChange:this.onChange,type:"search",placeholder:h.a.actions.input_address,autoFocus:!0};return s.a.createElement("div",null,s.a.createElement(l.a,{inputProps:n,options:t,classNames:e,autoFocus:!1}),s.a.createElement(u.c,{to:"#"},s.a.createElement(f.a,{title:h.a.actions.search,onClick:this.handleFormSubmit})))}}]),e}(s.a.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLatLng=e.geocodeByPlaceId=e.geocodeByAddress=void 0;var r=n(119),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=n(122);e.geocodeByAddress=i.geocodeByAddress,e.geocodeByPlaceId=i.geocodeByPlaceId,e.getLatLng=i.getLatLng,e.default=o.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),l=r(c),f=n(3),p=r(f),h=n(120),d=r(h),g=n(121),y=r(g),m=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={autocompleteItems:[],userInputValue:t.inputProps.value},n.autocompleteCallback=n.autocompleteCallback.bind(n),n.handleInputKeyDown=n.handleInputKeyDown.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.debouncedFetchPredictions=(0,d.default)(n.fetchPredictions,n.props.debounce),n.clearSuggestions=n.clearSuggestions.bind(n),n}return a(e,t),u(e,[{key:"componentDidMount",value:function(){if(!window.google)throw new Error("Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");this.autocompleteService=new google.maps.places.AutocompleteService,this.autocompleteOK=google.maps.places.PlacesServiceStatus.OK}},{key:"autocompleteCallback",value:function(t,e){if(e!==this.autocompleteOK)return void this.props.onError(e,this.clearSuggestions);var n=function(t){return{mainText:t.main_text,secondaryText:t.secondary_text}},r=this.props.highlightFirstSuggestion;this.setState({autocompleteItems:t.map(function(t,e){return{suggestion:t.description,placeId:t.place_id,active:!(!r||0!==e),index:e,formattedSuggestion:n(t.structured_formatting)}})})}},{key:"fetchPredictions",value:function(){var t=this.props.inputProps.value;t.length&&this.autocompleteService.getPlacePredictions(s({},this.props.options,{input:t}),this.autocompleteCallback)}},{key:"clearSuggestions",value:function(){this.setState({autocompleteItems:[]})}},{key:"clearActive",value:function(){this.setState({autocompleteItems:this.state.autocompleteItems.map(function(t){return s({},t,{active:!1})})})}},{key:"selectAddress",value:function(t,e,n){void 0!==n&&n.preventDefault(),this.clearSuggestions(),this.handleSelect(t,e)}},{key:"handleSelect",value:function(t,e){this.props.onSelect?this.props.onSelect(t,e):this.props.inputProps.onChange(t)}},{key:"getActiveItem",value:function(){return this.state.autocompleteItems.find(function(t){return t.active})}},{key:"selectActiveItemAtIndex",value:function(t){var e=this.state.autocompleteItems.find(function(e){return e.index===t}).suggestion;this.setActiveItemAtIndex(t),this.props.inputProps.onChange(e)}},{key:"selectUserInputValue",value:function(){this.clearActive(),this.props.inputProps.onChange(this.state.userInputValue)}},{key:"handleEnterKey",value:function(){var t=this.getActiveItem();void 0===t?this.handleEnterKeyWithoutActiveItem():this.selectAddress(t.suggestion,t.placeId)}},{key:"handleEnterKeyWithoutActiveItem",value:function(){this.props.onEnterKeyDown&&(this.props.onEnterKeyDown(this.props.inputProps.value),this.clearSuggestions())}},{key:"handleDownKey",value:function(){if(0!==this.state.autocompleteItems.length){var t=this.getActiveItem();void 0===t?this.selectActiveItemAtIndex(0):t.index===this.state.autocompleteItems.length-1?this.selectUserInputValue():this.selectActiveItemAtIndex(t.index+1)}}},{key:"handleUpKey",value:function(){if(0!==this.state.autocompleteItems.length){var t=this.getActiveItem();void 0===t?this.selectActiveItemAtIndex(this.state.autocompleteItems.length-1):0===t.index?this.selectUserInputValue():this.selectActiveItemAtIndex(t.index-1)}}},{key:"handleInputKeyDown",value:function(t){switch(t.key){case"Enter":t.preventDefault(),this.handleEnterKey();break;case"ArrowDown":t.preventDefault(),this.handleDownKey();break;case"ArrowUp":t.preventDefault(),this.handleUpKey();break;case"Escape":this.clearSuggestions()}this.props.inputProps.onKeyDown&&this.props.inputProps.onKeyDown(t)}},{key:"setActiveItemAtIndex",value:function(t){this.setState({autocompleteItems:this.state.autocompleteItems.map(function(e,n){return n===t?s({},e,{active:!0}):s({},e,{active:!1})})})}},{key:"handleInputChange",value:function(t){var e=t.target.value;if(this.props.inputProps.onChange(e),this.setState({userInputValue:e}),!e)return void this.clearSuggestions();this.props.shouldFetchSuggestions({value:e})&&this.debouncedFetchPredictions()}},{key:"handleInputOnBlur",value:function(t){this.mousedownOnSuggestion||this.clearSuggestions(),this.props.inputProps.onBlur&&this.props.inputProps.onBlur(t)}},{key:"inlineStyleFor",value:function(){for(var t=this.props,e=t.classNames,n=t.styles,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.some(function(t){return e.hasOwnProperty(t)})?{}:o.reduce(function(t,e){return s({},t,y.default[e],n[e])},{})}},{key:"classNameFor",value:function(){for(var t=this.props.classNames,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce(function(e,n){var r=t[n]||"";return r?e+" "+r:e},"")}},{key:"shouldRenderDropdown",value:function(){return this.state.autocompleteItems.length>0}},{key:"getInputProps",value:function(){var t=this,e=this.shouldRenderDropdown(),n=this.getActiveItem(),r=n?"PlacesAutocomplete__autocomplete-item-"+n.placeId:null;return s({},{type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-controls":"PlacesAutocomplete__autocomplete-container","aria-expanded":e,"aria-haspopup":e,"aria-activedescendant":r},this.props.inputProps,{onChange:function(e){t.handleInputChange(e)},onKeyDown:function(e){t.handleInputKeyDown(e)},onBlur:function(e){t.handleInputOnBlur(e)},style:this.inlineStyleFor("input"),className:this.classNameFor("input")})}},{key:"handleSuggestionMouseEnter",value:function(t){this.setActiveItemAtIndex(t)}},{key:"handleSuggestionMouseLeave",value:function(){this.mousedownOnSuggestion=!1,this.clearActive()}},{key:"handleSuggestionMouseDown",value:function(t){t.preventDefault(),this.mousedownOnSuggestion=!0}},{key:"handleSuggestionTouchStart",value:function(){this.mousedownOnSuggestion=!0}},{key:"handleSuggestionMouseUp",value:function(){this.mousedownOnSuggestion=!1}},{key:"handleSuggestionClick",value:function(t,e){var n=this,r=t.suggestion,o=t.placeId;this.selectAddress(r,o,e),setTimeout(function(){n.mousedownOnSuggestion=!1})}},{key:"render",value:function(){var t=this,e=this.state.autocompleteItems,n=this.getInputProps();return l.default.createElement("div",{id:"PlacesAutocomplete__root",style:this.inlineStyleFor("root"),className:this.classNameFor("root")},l.default.createElement("input",n),this.shouldRenderDropdown()&&l.default.createElement("div",{role:"listbox",id:"PlacesAutocomplete__autocomplete-container",style:this.inlineStyleFor("autocompleteContainer"),className:this.classNameFor("autocompleteContainer")},e.map(function(e,n){return l.default.createElement("div",{key:e.placeId,id:"PlacesAutocomplete__autocomplete-item-"+e.placeId,role:"option",onMouseEnter:t.handleSuggestionMouseEnter.bind(t,n),onMouseLeave:t.handleSuggestionMouseLeave.bind(t),onMouseDown:t.handleSuggestionMouseDown.bind(t),onMouseUp:t.handleSuggestionMouseUp.bind(t),onTouchStart:t.handleSuggestionTouchStart.bind(t),onTouchEnd:t.handleSuggestionMouseUp.bind(t),onClick:t.handleSuggestionClick.bind(t,e),style:e.active?t.inlineStyleFor("autocompleteItem","autocompleteItemActive"):t.inlineStyleFor("autocompleteItem"),className:e.active?t.classNameFor("autocompleteItem","autocompleteItemActive"):t.classNameFor("autocompleteItem")},t.props.renderSuggestion({suggestion:e.suggestion,formattedSuggestion:e.formattedSuggestion}))}),this.props.renderFooter&&this.props.renderFooter()))}}]),e}(c.Component);m.propTypes={inputProps:function(t,e){var n=t[e];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},onError:p.default.func,onSelect:p.default.func,renderSuggestion:p.default.func,classNames:p.default.shape({root:p.default.string,input:p.default.string,autocompleteContainer:p.default.string,autocompleteItem:p.default.string,autocompleteItemActive:p.default.string}),styles:p.default.shape({root:p.default.object,input:p.default.object,autocompleteContainer:p.default.object,autocompleteItem:p.default.object,autocompleteItemActive:p.default.object}),options:p.default.shape({bounds:p.default.object,componentRestrictions:p.default.object,location:p.default.object,offset:p.default.oneOfType([p.default.number,p.default.string]),radius:p.default.oneOfType([p.default.number,p.default.string]),types:p.default.array}),debounce:p.default.number,highlightFirstSuggestion:p.default.bool,renderFooter:p.default.func,shouldFetchSuggestions:p.default.func.isRequired},m.defaultProps={onError:function(t,e){return console.error("[react-places-autocomplete]: error happened when fetching data from Google Maps API.\nPlease check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)\nStatus: ",t)},classNames:{},renderSuggestion:function(t){var e=t.suggestion;return l.default.createElement("div",null,e)},styles:{},options:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:function(){return!0}},e.default=m},function(t,e,n){(function(e){function n(t,e,n){function o(e){var n=g,r=y;return g=y=void 0,C=e,v=t.apply(r,n)}function i(t){return C=t,_=setTimeout(l,e),I?o(t):v}function u(t){var n=t-E,r=t-C,o=e-n;return N?w(o,m-r):o}function c(t){var n=t-E,r=t-C;return void 0===E||n>=e||n<0||N&&r>=m}function l(){var t=x();if(c(t))return f(t);_=setTimeout(l,u(t))}function f(t){return _=void 0,S&&g?o(t):(g=y=void 0,v)}function p(){void 0!==_&&clearTimeout(_),C=0,g=E=y=_=void 0}function h(){return void 0===_?v:f(x())}function d(){var t=x(),n=c(t);if(g=arguments,y=this,E=t,n){if(void 0===_)return i(E);if(N)return _=setTimeout(l,e),o(E)}return void 0===_&&(_=setTimeout(l,e)),v}var g,y,m,v,_,E,C=0,I=!1,N=!1,S=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,r(n)&&(I=!!n.leading,N="maxWait"in n,m=N?b(a(n.maxWait)||0,e):m,S="trailing"in n?!!n.trailing:S),d.cancel=p,d.flush=h,d}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||o(t)&&_.call(t)==c}function a(t){if("number"==typeof t)return t;if(i(t))return u;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=p.test(t);return n||h.test(t)?d(t.slice(2),n?2:8):f.test(t)?u:+t}var s="Expected a function",u=NaN,c="[object Symbol]",l=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,g="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),v=Object.prototype,_=v.toString,b=Math.max,w=Math.min,x=function(){return m.Date.now()};t.exports=n}).call(e,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={root:{position:"relative",paddingBottom:"0px"},input:{display:"inline-block",width:"100%",padding:"10px"},autocompleteContainer:{position:"absolute",top:"100%",backgroundColor:"white",border:"1px solid #555555",width:"100%"},autocompleteItem:{backgroundColor:"#ffffff",padding:"10px",color:"#555555",cursor:"pointer"},autocompleteItemActive:{backgroundColor:"#fafafa"}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.geocodeByAddress=function(t,e){var n=new google.maps.Geocoder,r=google.maps.GeocoderStatus.OK;return new Promise(function(o,i){n.geocode({address:t},function(t,n){if(n!==r){if(e)return console.warn('Deprecated: Passing a callback to geocodeByAddress is deprecated. Please see "https://github.com/kenny-hibino/react-places-autocomplete#geocodebyaddress-api"'),void e({status:n},null,t);i(n)}if(e){var a={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()};console.warn('Deprecated: Passing a callback to geocodeByAddress is deprecated. Please see "https://github.com/kenny-hibino/react-places-autocomplete#geocodebyaddress-api"'),e(null,a,t)}o(t)})})},e.getLatLng=function(t){return new Promise(function(e,n){try{e({lat:t.geometry.location.lat(),lng:t.geometry.location.lng()})}catch(t){n(t)}})},e.geocodeByPlaceId=function(t,e){var n=new google.maps.Geocoder,r=google.maps.GeocoderStatus.OK;return new Promise(function(o,i){n.geocode({placeId:t},function(t,n){if(n!==r){if(e)return console.warn('Deprecated: Passing a callback to geocodeByAddress is deprecated. Please see "https://github.com/kenny-hibino/react-places-autocomplete#geocodebyplaceid-api"'),void e({status:n},null,t);i(n)}if(e){var a={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()};console.warn('Deprecated: Passing a callback to geocodeByPlaceId is deprecated. Please see "https://github.com/kenny-hibino/react-places-autocomplete#geocodebyplaceid-api"'),e(null,a,t)}o(t)})})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return b});var a=n(0),s=n.n(a),u=n(6),c=n(17),l=(n.n(c),n(2)),f=n(4),p=n(39),h=n(8),d=n(9),g=n(124),y=n(7),m=n(12),v=n(125),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=f.a.age_ranges.find(function(t){return t.serie==n.props.match.params.groupCode}).dc_serie_ensino;return n.state={groupCode:n.props.match.params.groupCode,groupName:i,geocodedAddressLng:n.props.match.params.geocodedAddressLng,geocodedAddressLat:n.props.match.params.geocodedAddressLat,geocodedAddress:n.props.match.params.geocodedAddress,schoolsError:null,schoolsLoaded:!1,schoolsItems:null,schoolsNearby:null,schoolsFiltered:null,waitListLoaded:!1,waitListError:null,waitListItems:null,waitListUpdatedAt:null,waitListTotal:null},n}return i(e,t),_(e,[{key:"joinSchoolsToWaitList",value:function(t,e,n){return t.forEach(function(t){var r=e[t.properties.cod];r&&(t.wait=r["dem_"+n]),e[t.properties.cod]&&(t.mat=r["mat_"+n]),e[t.properties.cod]&&(t.vag=r["vag_"+n])}),t=t.filter(function(t){return null!==t.vag&&void 0!==t.vag})}},{key:"orderSchoolsByDistance",value:function(t){function e(t,e){var n=t.distance,r=e.distance,o=0;return n>r?o=1:n<r&&(o=-1),o}t.sort(e)}},{key:"findSchoolsInRadius",value:function(t,e,n){var r=Object(c.point)([t,e]),o=Object(c.buffer)(r,f.a.buffer_distance,{units:f.a.distance_units}),i=Object(c.pointsWithinPolygon)(n,o);return i.features.forEach(function(t){var e=r,n=Object(c.point)([t.geometry.coordinates[0],t.geometry.coordinates[1]]),o=Object(c.distance)(e,n,{units:f.a.distance_units});t.distance=o}),i}},{key:"componentDidMount",value:function(){var t=this;window.scrollTo(0,0),fetch(p.a.schools_all_endpoint).then(function(t){return t.json()}).then(function(e){var n=e.features.filter(function(t){return"2"==t.properties.tipo_cd||"10"==t.properties.tipo_cd||"11"==t.properties.tipo_cd||"12"==t.properties.tipo_cd||"17"==t.properties.tipo_cd||"18"==t.properties.tipo_cd||"28"==t.properties.tipo_cd});e.features=n,t.setState({schoolsLoaded:!0,schoolsItems:e,schoolsFiltered:e});var r=t.findSchoolsInRadius(t.state.geocodedAddressLng,t.state.geocodedAddressLat,t.state.schoolsFiltered);t.orderSchoolsByDistance(r.features),t.setState({schoolsNearby:r}),fetch(p.a.schools_wait_all_endpoint).then(function(t){return t.json()}).then(function(e){for(var n=e.updated_at,o=t.joinSchoolsToWaitList(r.features,e,t.props.match.params.groupCode),i=0,a=0;a<o.length;a++)i+=o[a].wait;t.setState({waitListLoaded:!0,waitListItems:o,waitListUpdatedAt:n,waitListTotal:i})},function(e){t.setState({waitListLoaded:!0,waitListError:e})})},function(e){t.setState({schoolsLoaded:!0,schoolsError:e})})}},{key:"render",value:function(){var t=!!this.state.waitListItems&&this.state.waitListItems,e=!!this.state.waitListItems&&this.state.waitListItems.length,n=!!this.state.waitListTotal&&this.state.waitListTotal,r=!!this.state.waitListUpdatedAt&&l.a.results.data_updated_at(this.state.waitListUpdatedAt);return s.a.createElement("div",null,s.a.createElement(h.a,null),!this.state.waitListLoaded&&s.a.createElement(d.a,{title:l.a.actions.loading_results}),this.state.waitListLoaded&&s.a.createElement(d.a,{title:l.a.results.total_wait_message(n,this.state.groupName,e,this.state.geocodedAddress),paragraphs:[l.a.results.see_list_below]}),this.state.waitListLoaded&&s.a.createElement(v.a,{schools:t,groupName:this.state.groupName,updatedAtMsg:r}),s.a.createElement(g.a,{classSize:"spacer-sm"}),this.state.waitListLoaded&&s.a.createElement(d.a,{title:l.a.actions.can_do}),this.state.waitListLoaded&&s.a.createElement(u.c,{to:{pathname:l.a.routes.register+"/"+this.state.groupCode,state:{schoolsNearby:t}}},s.a.createElement(y.a,{title:l.a.actions.register,subtitle:l.a.actions.how_to_register})),this.state.waitListLoaded&&s.a.createElement(m.a,{title:l.a.actions.compare_address,subtitle:l.a.actions.see_wait_near,link:l.a.routes.address+"/"+this.state.groupCode}),this.state.waitListLoaded&&s.a.createElement(m.a,{title:l.a.actions.back_to_start,link:"/"}))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return c});var a=n(0),s=n.n(a),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.classSize})}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return x});var a=n(0),s=n.n(a),u=n(7),c=n(6),l=n(2),f=n(4),p=n(40),h=n(41),d=n(13),g=n(16),y=n.n(g),m=n(42),v=n.n(m),_=n(43),b=n.n(_),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();d.default.library.add(v.a,b.a);var x=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={schoolList:n.props.schools,schoolListPaginated:n.props.schools.slice(0,5)},n.handleSeeMore=n.handleSeeMore.bind(n),n}return i(e,t),w(e,[{key:"generateSchoolList",value:function(t){var e=this,n=void 0;return t&&(n=t.map(function(t,n){return s.a.createElement("div",{className:"row school-list-item vertical-align",key:"school_"+n},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("h4",{style:{margin:0}},t.properties.nome),s.a.createElement("p",null,Object(h.a)(t.properties.end)),s.a.createElement("p",null,"Crian\xe7as atualmente matriculadas no ",e.props.groupName,": ",t.mat),s.a.createElement("p",null,Object(p.a)(t.distance)," ",l.a.messages.meters)),s.a.createElement("div",{className:"col-xs-4"},t.properties.ct&&s.a.createElement("div",{className:"icon-div"},s.a.createElement("a",{href:"tel:"+t.properties.ct[0]},s.a.createElement("p",{className:"text-center"},s.a.createElement(y.a,{icon:"phone",size:"lg",className:"icons icons-lg"}),s.a.createElement("br",null),l.a.actions.call))),s.a.createElement("div",{className:"icons-div"},s.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+t.properties.end+" "+f.a.city_state,target:"_blank"},s.a.createElement("p",{className:"text-center"},s.a.createElement(y.a,{icon:"map-marker-alt",size:"lg",className:"icons icons-lg"}),s.a.createElement("br",null),l.a.actions.see_on_map)))))})),n}},{key:"handleSeeMore",value:function(){var t=this.state.schoolList;this.setState({schoolListPaginated:t.slice(0,t.length)})}},{key:"render",value:function(){var t=this.props.schools.length>5&&this.state.schoolList.length!==this.state.schoolListPaginated.length;return s.a.createElement("div",null,s.a.createElement("div",{className:"school-list"},s.a.createElement("div",{className:"row school-list-header"},s.a.createElement("div",{className:"col-xs-8"},s.a.createElement("h5",null,l.a.messages.daycare))),this.generateSchoolList(this.state.schoolListPaginated),s.a.createElement("div",{className:"row margin-bottom-sm"},t&&s.a.createElement(c.a,{to:"#"},s.a.createElement(u.a,{title:l.a.actions.see_more,onClick:this.handleSeeMore}))),s.a.createElement("p",null,this.props.updatedAtMsg)))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return g});var a=n(0),s=n.n(a),u=n(2),c=n(8),l=n(9),f=n(36),p=n(12),h=n(127),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={groupCode:n.props.match.params.groupCode},n}return i(e,t),d(e,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(c.a,null),s.a.createElement(l.a,{title:u.a.registration_greeting.title}),s.a.createElement(f.a,{title:u.a.registration_documents.title,paragraphs:u.a.registration_documents.paragraphs}),s.a.createElement(f.a,{title:u.a.registration_steps.title,paragraphs:u.a.registration_steps.paragraphs}),s.a.createElement(l.a,{title:u.a.registration_list.title}),s.a.createElement(h.a,{schools:this.props.location.state.schoolsNearby}),s.a.createElement(l.a,{title:u.a.actions.can_do}),s.a.createElement(p.a,{title:u.a.actions.compare_address,subtitle:u.a.actions.see_wait_near,link:u.a.routes.address+"/"+this.state.groupCode}),s.a.createElement(p.a,{title:u.a.actions.back_to_start,subtitle:"",link:"/"}))}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return b});var a=n(0),s=n.n(a),u=n(2),c=n(4),l=n(40),f=n(41),p=n(13),h=n(16),d=n.n(h),g=n(42),y=n.n(g),m=n(43),v=n.n(m),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();p.default.library.add(y.a,v.a);var b=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),_(e,[{key:"render",value:function(){var t=void 0;return this.props.schools&&(t=this.props.schools.map(function(t,e){return s.a.createElement("div",{className:"row school-list-item vertical-align",key:"school_"+e},s.a.createElement("div",{className:"col-xs-8"},s.a.createElement("h4",null,t.properties.nome),s.a.createElement("p",null,t.properties.tipo),s.a.createElement("p",null,Object(f.a)(t.properties.end)),s.a.createElement("p",null,Object(l.a)(t.distance)," ",u.a.messages.meters),t.properties.ct&&s.a.createElement("p",null,u.a.messages.phone,": ",t.properties.ct[0])),s.a.createElement("div",{className:"col-xs-4"},t.properties.ct&&s.a.createElement("div",{className:"icon-div"},s.a.createElement("a",{href:"tel:"+t.properties.ct[0]},s.a.createElement("p",{className:"text-center"},s.a.createElement(d.a,{icon:"phone",size:"lg",className:"icons icons-lg"}),s.a.createElement("br",null),u.a.actions.call))),s.a.createElement("div",{className:"icons-div"},s.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+t.properties.end+" "+c.a.city_state,target:"_blank"},s.a.createElement("p",{className:"text-center"},s.a.createElement(d.a,{icon:"map-marker-alt",size:"lg",className:"icons icons-lg"}),s.a.createElement("br",null),u.a.actions.see_on_map)))))})),s.a.createElement("div",{className:"school-list"},t)}}]),e}(s.a.Component)},function(t,e,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/service-worker.js";a?(i(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(t)})}}function o(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function i(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):o(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.4fca3eb5.js.map